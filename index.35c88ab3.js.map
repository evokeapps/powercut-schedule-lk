{"mappings":"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","sources":["node_modules/mithril/render/vnode.js","node_modules/mithril/render/trust.js","node_modules/mithril/render/fragment.js","node_modules/mithril/render/hyperscriptVnode.js","node_modules/mithril/promise/polyfill.js","node_modules/mithril/render.js","node_modules/mithril/render/render.js","node_modules/mithril/api/mount-redraw.js","node_modules/mithril/request/request.js","node_modules/mithril/pathname/build.js","node_modules/mithril/querystring/build.js","node_modules/mithril/util/assign.js","node_modules/mithril/util/hasOwn.js","node_modules/mithril/route.js","node_modules/mithril/mount-redraw.js","node_modules/mithril/api/router.js","node_modules/mithril/render/hyperscript.js","node_modules/mithril/promise/promise.js","node_modules/mithril/pathname/parse.js","node_modules/mithril/querystring/parse.js","node_modules/mithril/pathname/compileTemplate.js","node_modules/mithril/util/censor.js","node_modules/moment/moment.js","node_modules/mithril/hyperscript.js","node_modules/mithril/request.js","node_modules/mithril/index.js","index.js"],"sourcesContent":["\"use strict\"\n\nfunction Vnode(tag, key, attrs, children, text, dom) {\n\treturn {tag: tag, key: key, attrs: attrs, children: children, text: text, dom: dom, domSize: undefined, state: undefined, events: undefined, instance: undefined}\n}\nVnode.normalize = function(node) {\n\tif (Array.isArray(node)) return Vnode(\"[\", undefined, undefined, Vnode.normalizeChildren(node), undefined, undefined)\n\tif (node == null || typeof node === \"boolean\") return null\n\tif (typeof node === \"object\") return node\n\treturn Vnode(\"#\", undefined, undefined, String(node), undefined, undefined)\n}\nVnode.normalizeChildren = function(input) {\n\tvar children = []\n\tif (input.length) {\n\t\tvar isKeyed = input[0] != null && input[0].key != null\n\t\t// Note: this is a *very* perf-sensitive check.\n\t\t// Fun fact: merging the loop like this is somehow faster than splitting\n\t\t// it, noticeably so.\n\t\tfor (var i = 1; i < input.length; i++) {\n\t\t\tif ((input[i] != null && input[i].key != null) !== isKeyed) {\n\t\t\t\tthrow new TypeError(\n\t\t\t\t\tisKeyed && (input[i] != null || typeof input[i] === \"boolean\")\n\t\t\t\t\t\t? \"In fragments, vnodes must either all have keys or none have keys. You may wish to consider using an explicit keyed empty fragment, m.fragment({key: ...}), instead of a hole.\"\n\t\t\t\t\t\t: \"In fragments, vnodes must either all have keys or none have keys.\"\n\t\t\t\t)\n\t\t\t}\n\t\t}\n\t\tfor (var i = 0; i < input.length; i++) {\n\t\t\tchildren[i] = Vnode.normalize(input[i])\n\t\t}\n\t}\n\treturn children\n}\n\nmodule.exports = Vnode\n","\"use strict\"\n\nvar Vnode = require(\"../render/vnode\")\n\nmodule.exports = function(html) {\n\tif (html == null) html = \"\"\n\treturn Vnode(\"<\", undefined, undefined, html, undefined, undefined)\n}\n","\"use strict\"\n\nvar Vnode = require(\"../render/vnode\")\nvar hyperscriptVnode = require(\"./hyperscriptVnode\")\n\nmodule.exports = function() {\n\tvar vnode = hyperscriptVnode.apply(0, arguments)\n\n\tvnode.tag = \"[\"\n\tvnode.children = Vnode.normalizeChildren(vnode.children)\n\treturn vnode\n}\n","\"use strict\"\n\nvar Vnode = require(\"../render/vnode\")\n\n// Call via `hyperscriptVnode.apply(startOffset, arguments)`\n//\n// The reason I do it this way, forwarding the arguments and passing the start\n// offset in `this`, is so I don't have to create a temporary array in a\n// performance-critical path.\n//\n// In native ES6, I'd instead add a final `...args` parameter to the\n// `hyperscript` and `fragment` factories and define this as\n// `hyperscriptVnode(...args)`, since modern engines do optimize that away. But\n// ES5 (what Mithril.js requires thanks to IE support) doesn't give me that luxury,\n// and engines aren't nearly intelligent enough to do either of these:\n//\n// 1. Elide the allocation for `[].slice.call(arguments, 1)` when it's passed to\n//    another function only to be indexed.\n// 2. Elide an `arguments` allocation when it's passed to any function other\n//    than `Function.prototype.apply` or `Reflect.apply`.\n//\n// In ES6, it'd probably look closer to this (I'd need to profile it, though):\n// module.exports = function(attrs, ...children) {\n//     if (attrs == null || typeof attrs === \"object\" && attrs.tag == null && !Array.isArray(attrs)) {\n//         if (children.length === 1 && Array.isArray(children[0])) children = children[0]\n//     } else {\n//         children = children.length === 0 && Array.isArray(attrs) ? attrs : [attrs, ...children]\n//         attrs = undefined\n//     }\n//\n//     if (attrs == null) attrs = {}\n//     return Vnode(\"\", attrs.key, attrs, children)\n// }\nmodule.exports = function() {\n\tvar attrs = arguments[this], start = this + 1, children\n\n\tif (attrs == null) {\n\t\tattrs = {}\n\t} else if (typeof attrs !== \"object\" || attrs.tag != null || Array.isArray(attrs)) {\n\t\tattrs = {}\n\t\tstart = this\n\t}\n\n\tif (arguments.length === start + 1) {\n\t\tchildren = arguments[start]\n\t\tif (!Array.isArray(children)) children = [children]\n\t} else {\n\t\tchildren = []\n\t\twhile (start < arguments.length) children.push(arguments[start++])\n\t}\n\n\treturn Vnode(\"\", attrs.key, attrs, children)\n}\n","\"use strict\"\n/** @constructor */\nvar PromisePolyfill = function(executor) {\n\tif (!(this instanceof PromisePolyfill)) throw new Error(\"Promise must be called with 'new'.\")\n\tif (typeof executor !== \"function\") throw new TypeError(\"executor must be a function.\")\n\n\tvar self = this, resolvers = [], rejectors = [], resolveCurrent = handler(resolvers, true), rejectCurrent = handler(rejectors, false)\n\tvar instance = self._instance = {resolvers: resolvers, rejectors: rejectors}\n\tvar callAsync = typeof setImmediate === \"function\" ? setImmediate : setTimeout\n\tfunction handler(list, shouldAbsorb) {\n\t\treturn function execute(value) {\n\t\t\tvar then\n\t\t\ttry {\n\t\t\t\tif (shouldAbsorb && value != null && (typeof value === \"object\" || typeof value === \"function\") && typeof (then = value.then) === \"function\") {\n\t\t\t\t\tif (value === self) throw new TypeError(\"Promise can't be resolved with itself.\")\n\t\t\t\t\texecuteOnce(then.bind(value))\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tcallAsync(function() {\n\t\t\t\t\t\tif (!shouldAbsorb && list.length === 0) console.error(\"Possible unhandled promise rejection:\", value)\n\t\t\t\t\t\tfor (var i = 0; i < list.length; i++) list[i](value)\n\t\t\t\t\t\tresolvers.length = 0, rejectors.length = 0\n\t\t\t\t\t\tinstance.state = shouldAbsorb\n\t\t\t\t\t\tinstance.retry = function() {execute(value)}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\t\t\tcatch (e) {\n\t\t\t\trejectCurrent(e)\n\t\t\t}\n\t\t}\n\t}\n\tfunction executeOnce(then) {\n\t\tvar runs = 0\n\t\tfunction run(fn) {\n\t\t\treturn function(value) {\n\t\t\t\tif (runs++ > 0) return\n\t\t\t\tfn(value)\n\t\t\t}\n\t\t}\n\t\tvar onerror = run(rejectCurrent)\n\t\ttry {then(run(resolveCurrent), onerror)} catch (e) {onerror(e)}\n\t}\n\n\texecuteOnce(executor)\n}\nPromisePolyfill.prototype.then = function(onFulfilled, onRejection) {\n\tvar self = this, instance = self._instance\n\tfunction handle(callback, list, next, state) {\n\t\tlist.push(function(value) {\n\t\t\tif (typeof callback !== \"function\") next(value)\n\t\t\telse try {resolveNext(callback(value))} catch (e) {if (rejectNext) rejectNext(e)}\n\t\t})\n\t\tif (typeof instance.retry === \"function\" && state === instance.state) instance.retry()\n\t}\n\tvar resolveNext, rejectNext\n\tvar promise = new PromisePolyfill(function(resolve, reject) {resolveNext = resolve, rejectNext = reject})\n\thandle(onFulfilled, instance.resolvers, resolveNext, true), handle(onRejection, instance.rejectors, rejectNext, false)\n\treturn promise\n}\nPromisePolyfill.prototype.catch = function(onRejection) {\n\treturn this.then(null, onRejection)\n}\nPromisePolyfill.prototype.finally = function(callback) {\n\treturn this.then(\n\t\tfunction(value) {\n\t\t\treturn PromisePolyfill.resolve(callback()).then(function() {\n\t\t\t\treturn value\n\t\t\t})\n\t\t},\n\t\tfunction(reason) {\n\t\t\treturn PromisePolyfill.resolve(callback()).then(function() {\n\t\t\t\treturn PromisePolyfill.reject(reason);\n\t\t\t})\n\t\t}\n\t)\n}\nPromisePolyfill.resolve = function(value) {\n\tif (value instanceof PromisePolyfill) return value\n\treturn new PromisePolyfill(function(resolve) {resolve(value)})\n}\nPromisePolyfill.reject = function(value) {\n\treturn new PromisePolyfill(function(resolve, reject) {reject(value)})\n}\nPromisePolyfill.all = function(list) {\n\treturn new PromisePolyfill(function(resolve, reject) {\n\t\tvar total = list.length, count = 0, values = []\n\t\tif (list.length === 0) resolve([])\n\t\telse for (var i = 0; i < list.length; i++) {\n\t\t\t(function(i) {\n\t\t\t\tfunction consume(value) {\n\t\t\t\t\tcount++\n\t\t\t\t\tvalues[i] = value\n\t\t\t\t\tif (count === total) resolve(values)\n\t\t\t\t}\n\t\t\t\tif (list[i] != null && (typeof list[i] === \"object\" || typeof list[i] === \"function\") && typeof list[i].then === \"function\") {\n\t\t\t\t\tlist[i].then(consume, reject)\n\t\t\t\t}\n\t\t\t\telse consume(list[i])\n\t\t\t})(i)\n\t\t}\n\t})\n}\nPromisePolyfill.race = function(list) {\n\treturn new PromisePolyfill(function(resolve, reject) {\n\t\tfor (var i = 0; i < list.length; i++) {\n\t\t\tlist[i].then(resolve, reject)\n\t\t}\n\t})\n}\n\nmodule.exports = PromisePolyfill\n","\"use strict\"\n\nmodule.exports = require(\"./render/render\")(typeof window !== \"undefined\" ? window : null)\n","\"use strict\"\n\nvar Vnode = require(\"../render/vnode\")\n\nmodule.exports = function($window) {\n\tvar $doc = $window && $window.document\n\tvar currentRedraw\n\n\tvar nameSpace = {\n\t\tsvg: \"http://www.w3.org/2000/svg\",\n\t\tmath: \"http://www.w3.org/1998/Math/MathML\"\n\t}\n\n\tfunction getNameSpace(vnode) {\n\t\treturn vnode.attrs && vnode.attrs.xmlns || nameSpace[vnode.tag]\n\t}\n\n\t//sanity check to discourage people from doing `vnode.state = ...`\n\tfunction checkState(vnode, original) {\n\t\tif (vnode.state !== original) throw new Error(\"'vnode.state' must not be modified.\")\n\t}\n\n\t//Note: the hook is passed as the `this` argument to allow proxying the\n\t//arguments without requiring a full array allocation to do so. It also\n\t//takes advantage of the fact the current `vnode` is the first argument in\n\t//all lifecycle methods.\n\tfunction callHook(vnode) {\n\t\tvar original = vnode.state\n\t\ttry {\n\t\t\treturn this.apply(original, arguments)\n\t\t} finally {\n\t\t\tcheckState(vnode, original)\n\t\t}\n\t}\n\n\t// IE11 (at least) throws an UnspecifiedError when accessing document.activeElement when\n\t// inside an iframe. Catch and swallow this error, and heavy-handidly return null.\n\tfunction activeElement() {\n\t\ttry {\n\t\t\treturn $doc.activeElement\n\t\t} catch (e) {\n\t\t\treturn null\n\t\t}\n\t}\n\t//create\n\tfunction createNodes(parent, vnodes, start, end, hooks, nextSibling, ns) {\n\t\tfor (var i = start; i < end; i++) {\n\t\t\tvar vnode = vnodes[i]\n\t\t\tif (vnode != null) {\n\t\t\t\tcreateNode(parent, vnode, hooks, ns, nextSibling)\n\t\t\t}\n\t\t}\n\t}\n\tfunction createNode(parent, vnode, hooks, ns, nextSibling) {\n\t\tvar tag = vnode.tag\n\t\tif (typeof tag === \"string\") {\n\t\t\tvnode.state = {}\n\t\t\tif (vnode.attrs != null) initLifecycle(vnode.attrs, vnode, hooks)\n\t\t\tswitch (tag) {\n\t\t\t\tcase \"#\": createText(parent, vnode, nextSibling); break\n\t\t\t\tcase \"<\": createHTML(parent, vnode, ns, nextSibling); break\n\t\t\t\tcase \"[\": createFragment(parent, vnode, hooks, ns, nextSibling); break\n\t\t\t\tdefault: createElement(parent, vnode, hooks, ns, nextSibling)\n\t\t\t}\n\t\t}\n\t\telse createComponent(parent, vnode, hooks, ns, nextSibling)\n\t}\n\tfunction createText(parent, vnode, nextSibling) {\n\t\tvnode.dom = $doc.createTextNode(vnode.children)\n\t\tinsertNode(parent, vnode.dom, nextSibling)\n\t}\n\tvar possibleParents = {caption: \"table\", thead: \"table\", tbody: \"table\", tfoot: \"table\", tr: \"tbody\", th: \"tr\", td: \"tr\", colgroup: \"table\", col: \"colgroup\"}\n\tfunction createHTML(parent, vnode, ns, nextSibling) {\n\t\tvar match = vnode.children.match(/^\\s*?<(\\w+)/im) || []\n\t\t// not using the proper parent makes the child element(s) vanish.\n\t\t//     var div = document.createElement(\"div\")\n\t\t//     div.innerHTML = \"<td>i</td><td>j</td>\"\n\t\t//     console.log(div.innerHTML)\n\t\t// --> \"ij\", no <td> in sight.\n\t\tvar temp = $doc.createElement(possibleParents[match[1]] || \"div\")\n\t\tif (ns === \"http://www.w3.org/2000/svg\") {\n\t\t\ttemp.innerHTML = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\">\" + vnode.children + \"</svg>\"\n\t\t\ttemp = temp.firstChild\n\t\t} else {\n\t\t\ttemp.innerHTML = vnode.children\n\t\t}\n\t\tvnode.dom = temp.firstChild\n\t\tvnode.domSize = temp.childNodes.length\n\t\t// Capture nodes to remove, so we don't confuse them.\n\t\tvnode.instance = []\n\t\tvar fragment = $doc.createDocumentFragment()\n\t\tvar child\n\t\twhile (child = temp.firstChild) {\n\t\t\tvnode.instance.push(child)\n\t\t\tfragment.appendChild(child)\n\t\t}\n\t\tinsertNode(parent, fragment, nextSibling)\n\t}\n\tfunction createFragment(parent, vnode, hooks, ns, nextSibling) {\n\t\tvar fragment = $doc.createDocumentFragment()\n\t\tif (vnode.children != null) {\n\t\t\tvar children = vnode.children\n\t\t\tcreateNodes(fragment, children, 0, children.length, hooks, null, ns)\n\t\t}\n\t\tvnode.dom = fragment.firstChild\n\t\tvnode.domSize = fragment.childNodes.length\n\t\tinsertNode(parent, fragment, nextSibling)\n\t}\n\tfunction createElement(parent, vnode, hooks, ns, nextSibling) {\n\t\tvar tag = vnode.tag\n\t\tvar attrs = vnode.attrs\n\t\tvar is = attrs && attrs.is\n\n\t\tns = getNameSpace(vnode) || ns\n\n\t\tvar element = ns ?\n\t\t\tis ? $doc.createElementNS(ns, tag, {is: is}) : $doc.createElementNS(ns, tag) :\n\t\t\tis ? $doc.createElement(tag, {is: is}) : $doc.createElement(tag)\n\t\tvnode.dom = element\n\n\t\tif (attrs != null) {\n\t\t\tsetAttrs(vnode, attrs, ns)\n\t\t}\n\n\t\tinsertNode(parent, element, nextSibling)\n\n\t\tif (!maybeSetContentEditable(vnode)) {\n\t\t\tif (vnode.children != null) {\n\t\t\t\tvar children = vnode.children\n\t\t\t\tcreateNodes(element, children, 0, children.length, hooks, null, ns)\n\t\t\t\tif (vnode.tag === \"select\" && attrs != null) setLateSelectAttrs(vnode, attrs)\n\t\t\t}\n\t\t}\n\t}\n\tfunction initComponent(vnode, hooks) {\n\t\tvar sentinel\n\t\tif (typeof vnode.tag.view === \"function\") {\n\t\t\tvnode.state = Object.create(vnode.tag)\n\t\t\tsentinel = vnode.state.view\n\t\t\tif (sentinel.$$reentrantLock$$ != null) return\n\t\t\tsentinel.$$reentrantLock$$ = true\n\t\t} else {\n\t\t\tvnode.state = void 0\n\t\t\tsentinel = vnode.tag\n\t\t\tif (sentinel.$$reentrantLock$$ != null) return\n\t\t\tsentinel.$$reentrantLock$$ = true\n\t\t\tvnode.state = (vnode.tag.prototype != null && typeof vnode.tag.prototype.view === \"function\") ? new vnode.tag(vnode) : vnode.tag(vnode)\n\t\t}\n\t\tinitLifecycle(vnode.state, vnode, hooks)\n\t\tif (vnode.attrs != null) initLifecycle(vnode.attrs, vnode, hooks)\n\t\tvnode.instance = Vnode.normalize(callHook.call(vnode.state.view, vnode))\n\t\tif (vnode.instance === vnode) throw Error(\"A view cannot return the vnode it received as argument\")\n\t\tsentinel.$$reentrantLock$$ = null\n\t}\n\tfunction createComponent(parent, vnode, hooks, ns, nextSibling) {\n\t\tinitComponent(vnode, hooks)\n\t\tif (vnode.instance != null) {\n\t\t\tcreateNode(parent, vnode.instance, hooks, ns, nextSibling)\n\t\t\tvnode.dom = vnode.instance.dom\n\t\t\tvnode.domSize = vnode.dom != null ? vnode.instance.domSize : 0\n\t\t}\n\t\telse {\n\t\t\tvnode.domSize = 0\n\t\t}\n\t}\n\n\t//update\n\t/**\n\t * @param {Element|Fragment} parent - the parent element\n\t * @param {Vnode[] | null} old - the list of vnodes of the last `render()` call for\n\t *                               this part of the tree\n\t * @param {Vnode[] | null} vnodes - as above, but for the current `render()` call.\n\t * @param {Function[]} hooks - an accumulator of post-render hooks (oncreate/onupdate)\n\t * @param {Element | null} nextSibling - the next DOM node if we're dealing with a\n\t *                                       fragment that is not the last item in its\n\t *                                       parent\n\t * @param {'svg' | 'math' | String | null} ns) - the current XML namespace, if any\n\t * @returns void\n\t */\n\t// This function diffs and patches lists of vnodes, both keyed and unkeyed.\n\t//\n\t// We will:\n\t//\n\t// 1. describe its general structure\n\t// 2. focus on the diff algorithm optimizations\n\t// 3. discuss DOM node operations.\n\n\t// ## Overview:\n\t//\n\t// The updateNodes() function:\n\t// - deals with trivial cases\n\t// - determines whether the lists are keyed or unkeyed based on the first non-null node\n\t//   of each list.\n\t// - diffs them and patches the DOM if needed (that's the brunt of the code)\n\t// - manages the leftovers: after diffing, are there:\n\t//   - old nodes left to remove?\n\t// \t - new nodes to insert?\n\t// \t deal with them!\n\t//\n\t// The lists are only iterated over once, with an exception for the nodes in `old` that\n\t// are visited in the fourth part of the diff and in the `removeNodes` loop.\n\n\t// ## Diffing\n\t//\n\t// Reading https://github.com/localvoid/ivi/blob/ddc09d06abaef45248e6133f7040d00d3c6be853/packages/ivi/src/vdom/implementation.ts#L617-L837\n\t// may be good for context on longest increasing subsequence-based logic for moving nodes.\n\t//\n\t// In order to diff keyed lists, one has to\n\t//\n\t// 1) match nodes in both lists, per key, and update them accordingly\n\t// 2) create the nodes present in the new list, but absent in the old one\n\t// 3) remove the nodes present in the old list, but absent in the new one\n\t// 4) figure out what nodes in 1) to move in order to minimize the DOM operations.\n\t//\n\t// To achieve 1) one can create a dictionary of keys => index (for the old list), then iterate\n\t// over the new list and for each new vnode, find the corresponding vnode in the old list using\n\t// the map.\n\t// 2) is achieved in the same step: if a new node has no corresponding entry in the map, it is new\n\t// and must be created.\n\t// For the removals, we actually remove the nodes that have been updated from the old list.\n\t// The nodes that remain in that list after 1) and 2) have been performed can be safely removed.\n\t// The fourth step is a bit more complex and relies on the longest increasing subsequence (LIS)\n\t// algorithm.\n\t//\n\t// the longest increasing subsequence is the list of nodes that can remain in place. Imagine going\n\t// from `1,2,3,4,5` to `4,5,1,2,3` where the numbers are not necessarily the keys, but the indices\n\t// corresponding to the keyed nodes in the old list (keyed nodes `e,d,c,b,a` => `b,a,e,d,c` would\n\t//  match the above lists, for example).\n\t//\n\t// In there are two increasing subsequences: `4,5` and `1,2,3`, the latter being the longest. We\n\t// can update those nodes without moving them, and only call `insertNode` on `4` and `5`.\n\t//\n\t// @localvoid adapted the algo to also support node deletions and insertions (the `lis` is actually\n\t// the longest increasing subsequence *of old nodes still present in the new list*).\n\t//\n\t// It is a general algorithm that is fireproof in all circumstances, but it requires the allocation\n\t// and the construction of a `key => oldIndex` map, and three arrays (one with `newIndex => oldIndex`,\n\t// the `LIS` and a temporary one to create the LIS).\n\t//\n\t// So we cheat where we can: if the tails of the lists are identical, they are guaranteed to be part of\n\t// the LIS and can be updated without moving them.\n\t//\n\t// If two nodes are swapped, they are guaranteed not to be part of the LIS, and must be moved (with\n\t// the exception of the last node if the list is fully reversed).\n\t//\n\t// ## Finding the next sibling.\n\t//\n\t// `updateNode()` and `createNode()` expect a nextSibling parameter to perform DOM operations.\n\t// When the list is being traversed top-down, at any index, the DOM nodes up to the previous\n\t// vnode reflect the content of the new list, whereas the rest of the DOM nodes reflect the old\n\t// list. The next sibling must be looked for in the old list using `getNextSibling(... oldStart + 1 ...)`.\n\t//\n\t// In the other scenarios (swaps, upwards traversal, map-based diff),\n\t// the new vnodes list is traversed upwards. The DOM nodes at the bottom of the list reflect the\n\t// bottom part of the new vnodes list, and we can use the `v.dom`  value of the previous node\n\t// as the next sibling (cached in the `nextSibling` variable).\n\n\n\t// ## DOM node moves\n\t//\n\t// In most scenarios `updateNode()` and `createNode()` perform the DOM operations. However,\n\t// this is not the case if the node moved (second and fourth part of the diff algo). We move\n\t// the old DOM nodes before updateNode runs because it enables us to use the cached `nextSibling`\n\t// variable rather than fetching it using `getNextSibling()`.\n\t//\n\t// The fourth part of the diff currently inserts nodes unconditionally, leading to issues\n\t// like #1791 and #1999. We need to be smarter about those situations where adjascent old\n\t// nodes remain together in the new list in a way that isn't covered by parts one and\n\t// three of the diff algo.\n\n\tfunction updateNodes(parent, old, vnodes, hooks, nextSibling, ns) {\n\t\tif (old === vnodes || old == null && vnodes == null) return\n\t\telse if (old == null || old.length === 0) createNodes(parent, vnodes, 0, vnodes.length, hooks, nextSibling, ns)\n\t\telse if (vnodes == null || vnodes.length === 0) removeNodes(parent, old, 0, old.length)\n\t\telse {\n\t\t\tvar isOldKeyed = old[0] != null && old[0].key != null\n\t\t\tvar isKeyed = vnodes[0] != null && vnodes[0].key != null\n\t\t\tvar start = 0, oldStart = 0\n\t\t\tif (!isOldKeyed) while (oldStart < old.length && old[oldStart] == null) oldStart++\n\t\t\tif (!isKeyed) while (start < vnodes.length && vnodes[start] == null) start++\n\t\t\tif (isOldKeyed !== isKeyed) {\n\t\t\t\tremoveNodes(parent, old, oldStart, old.length)\n\t\t\t\tcreateNodes(parent, vnodes, start, vnodes.length, hooks, nextSibling, ns)\n\t\t\t} else if (!isKeyed) {\n\t\t\t\t// Don't index past the end of either list (causes deopts).\n\t\t\t\tvar commonLength = old.length < vnodes.length ? old.length : vnodes.length\n\t\t\t\t// Rewind if necessary to the first non-null index on either side.\n\t\t\t\t// We could alternatively either explicitly create or remove nodes when `start !== oldStart`\n\t\t\t\t// but that would be optimizing for sparse lists which are more rare than dense ones.\n\t\t\t\tstart = start < oldStart ? start : oldStart\n\t\t\t\tfor (; start < commonLength; start++) {\n\t\t\t\t\to = old[start]\n\t\t\t\t\tv = vnodes[start]\n\t\t\t\t\tif (o === v || o == null && v == null) continue\n\t\t\t\t\telse if (o == null) createNode(parent, v, hooks, ns, getNextSibling(old, start + 1, nextSibling))\n\t\t\t\t\telse if (v == null) removeNode(parent, o)\n\t\t\t\t\telse updateNode(parent, o, v, hooks, getNextSibling(old, start + 1, nextSibling), ns)\n\t\t\t\t}\n\t\t\t\tif (old.length > commonLength) removeNodes(parent, old, start, old.length)\n\t\t\t\tif (vnodes.length > commonLength) createNodes(parent, vnodes, start, vnodes.length, hooks, nextSibling, ns)\n\t\t\t} else {\n\t\t\t\t// keyed diff\n\t\t\t\tvar oldEnd = old.length - 1, end = vnodes.length - 1, map, o, v, oe, ve, topSibling\n\n\t\t\t\t// bottom-up\n\t\t\t\twhile (oldEnd >= oldStart && end >= start) {\n\t\t\t\t\toe = old[oldEnd]\n\t\t\t\t\tve = vnodes[end]\n\t\t\t\t\tif (oe.key !== ve.key) break\n\t\t\t\t\tif (oe !== ve) updateNode(parent, oe, ve, hooks, nextSibling, ns)\n\t\t\t\t\tif (ve.dom != null) nextSibling = ve.dom\n\t\t\t\t\toldEnd--, end--\n\t\t\t\t}\n\t\t\t\t// top-down\n\t\t\t\twhile (oldEnd >= oldStart && end >= start) {\n\t\t\t\t\to = old[oldStart]\n\t\t\t\t\tv = vnodes[start]\n\t\t\t\t\tif (o.key !== v.key) break\n\t\t\t\t\toldStart++, start++\n\t\t\t\t\tif (o !== v) updateNode(parent, o, v, hooks, getNextSibling(old, oldStart, nextSibling), ns)\n\t\t\t\t}\n\t\t\t\t// swaps and list reversals\n\t\t\t\twhile (oldEnd >= oldStart && end >= start) {\n\t\t\t\t\tif (start === end) break\n\t\t\t\t\tif (o.key !== ve.key || oe.key !== v.key) break\n\t\t\t\t\ttopSibling = getNextSibling(old, oldStart, nextSibling)\n\t\t\t\t\tmoveNodes(parent, oe, topSibling)\n\t\t\t\t\tif (oe !== v) updateNode(parent, oe, v, hooks, topSibling, ns)\n\t\t\t\t\tif (++start <= --end) moveNodes(parent, o, nextSibling)\n\t\t\t\t\tif (o !== ve) updateNode(parent, o, ve, hooks, nextSibling, ns)\n\t\t\t\t\tif (ve.dom != null) nextSibling = ve.dom\n\t\t\t\t\toldStart++; oldEnd--\n\t\t\t\t\toe = old[oldEnd]\n\t\t\t\t\tve = vnodes[end]\n\t\t\t\t\to = old[oldStart]\n\t\t\t\t\tv = vnodes[start]\n\t\t\t\t}\n\t\t\t\t// bottom up once again\n\t\t\t\twhile (oldEnd >= oldStart && end >= start) {\n\t\t\t\t\tif (oe.key !== ve.key) break\n\t\t\t\t\tif (oe !== ve) updateNode(parent, oe, ve, hooks, nextSibling, ns)\n\t\t\t\t\tif (ve.dom != null) nextSibling = ve.dom\n\t\t\t\t\toldEnd--, end--\n\t\t\t\t\toe = old[oldEnd]\n\t\t\t\t\tve = vnodes[end]\n\t\t\t\t}\n\t\t\t\tif (start > end) removeNodes(parent, old, oldStart, oldEnd + 1)\n\t\t\t\telse if (oldStart > oldEnd) createNodes(parent, vnodes, start, end + 1, hooks, nextSibling, ns)\n\t\t\t\telse {\n\t\t\t\t\t// inspired by ivi https://github.com/ivijs/ivi/ by Boris Kaul\n\t\t\t\t\tvar originalNextSibling = nextSibling, vnodesLength = end - start + 1, oldIndices = new Array(vnodesLength), li=0, i=0, pos = 2147483647, matched = 0, map, lisIndices\n\t\t\t\t\tfor (i = 0; i < vnodesLength; i++) oldIndices[i] = -1\n\t\t\t\t\tfor (i = end; i >= start; i--) {\n\t\t\t\t\t\tif (map == null) map = getKeyMap(old, oldStart, oldEnd + 1)\n\t\t\t\t\t\tve = vnodes[i]\n\t\t\t\t\t\tvar oldIndex = map[ve.key]\n\t\t\t\t\t\tif (oldIndex != null) {\n\t\t\t\t\t\t\tpos = (oldIndex < pos) ? oldIndex : -1 // becomes -1 if nodes were re-ordered\n\t\t\t\t\t\t\toldIndices[i-start] = oldIndex\n\t\t\t\t\t\t\toe = old[oldIndex]\n\t\t\t\t\t\t\told[oldIndex] = null\n\t\t\t\t\t\t\tif (oe !== ve) updateNode(parent, oe, ve, hooks, nextSibling, ns)\n\t\t\t\t\t\t\tif (ve.dom != null) nextSibling = ve.dom\n\t\t\t\t\t\t\tmatched++\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tnextSibling = originalNextSibling\n\t\t\t\t\tif (matched !== oldEnd - oldStart + 1) removeNodes(parent, old, oldStart, oldEnd + 1)\n\t\t\t\t\tif (matched === 0) createNodes(parent, vnodes, start, end + 1, hooks, nextSibling, ns)\n\t\t\t\t\telse {\n\t\t\t\t\t\tif (pos === -1) {\n\t\t\t\t\t\t\t// the indices of the indices of the items that are part of the\n\t\t\t\t\t\t\t// longest increasing subsequence in the oldIndices list\n\t\t\t\t\t\t\tlisIndices = makeLisIndices(oldIndices)\n\t\t\t\t\t\t\tli = lisIndices.length - 1\n\t\t\t\t\t\t\tfor (i = end; i >= start; i--) {\n\t\t\t\t\t\t\t\tv = vnodes[i]\n\t\t\t\t\t\t\t\tif (oldIndices[i-start] === -1) createNode(parent, v, hooks, ns, nextSibling)\n\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\tif (lisIndices[li] === i - start) li--\n\t\t\t\t\t\t\t\t\telse moveNodes(parent, v, nextSibling)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (v.dom != null) nextSibling = vnodes[i].dom\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tfor (i = end; i >= start; i--) {\n\t\t\t\t\t\t\t\tv = vnodes[i]\n\t\t\t\t\t\t\t\tif (oldIndices[i-start] === -1) createNode(parent, v, hooks, ns, nextSibling)\n\t\t\t\t\t\t\t\tif (v.dom != null) nextSibling = vnodes[i].dom\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tfunction updateNode(parent, old, vnode, hooks, nextSibling, ns) {\n\t\tvar oldTag = old.tag, tag = vnode.tag\n\t\tif (oldTag === tag) {\n\t\t\tvnode.state = old.state\n\t\t\tvnode.events = old.events\n\t\t\tif (shouldNotUpdate(vnode, old)) return\n\t\t\tif (typeof oldTag === \"string\") {\n\t\t\t\tif (vnode.attrs != null) {\n\t\t\t\t\tupdateLifecycle(vnode.attrs, vnode, hooks)\n\t\t\t\t}\n\t\t\t\tswitch (oldTag) {\n\t\t\t\t\tcase \"#\": updateText(old, vnode); break\n\t\t\t\t\tcase \"<\": updateHTML(parent, old, vnode, ns, nextSibling); break\n\t\t\t\t\tcase \"[\": updateFragment(parent, old, vnode, hooks, nextSibling, ns); break\n\t\t\t\t\tdefault: updateElement(old, vnode, hooks, ns)\n\t\t\t\t}\n\t\t\t}\n\t\t\telse updateComponent(parent, old, vnode, hooks, nextSibling, ns)\n\t\t}\n\t\telse {\n\t\t\tremoveNode(parent, old)\n\t\t\tcreateNode(parent, vnode, hooks, ns, nextSibling)\n\t\t}\n\t}\n\tfunction updateText(old, vnode) {\n\t\tif (old.children.toString() !== vnode.children.toString()) {\n\t\t\told.dom.nodeValue = vnode.children\n\t\t}\n\t\tvnode.dom = old.dom\n\t}\n\tfunction updateHTML(parent, old, vnode, ns, nextSibling) {\n\t\tif (old.children !== vnode.children) {\n\t\t\tremoveHTML(parent, old)\n\t\t\tcreateHTML(parent, vnode, ns, nextSibling)\n\t\t}\n\t\telse {\n\t\t\tvnode.dom = old.dom\n\t\t\tvnode.domSize = old.domSize\n\t\t\tvnode.instance = old.instance\n\t\t}\n\t}\n\tfunction updateFragment(parent, old, vnode, hooks, nextSibling, ns) {\n\t\tupdateNodes(parent, old.children, vnode.children, hooks, nextSibling, ns)\n\t\tvar domSize = 0, children = vnode.children\n\t\tvnode.dom = null\n\t\tif (children != null) {\n\t\t\tfor (var i = 0; i < children.length; i++) {\n\t\t\t\tvar child = children[i]\n\t\t\t\tif (child != null && child.dom != null) {\n\t\t\t\t\tif (vnode.dom == null) vnode.dom = child.dom\n\t\t\t\t\tdomSize += child.domSize || 1\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (domSize !== 1) vnode.domSize = domSize\n\t\t}\n\t}\n\tfunction updateElement(old, vnode, hooks, ns) {\n\t\tvar element = vnode.dom = old.dom\n\t\tns = getNameSpace(vnode) || ns\n\n\t\tif (vnode.tag === \"textarea\") {\n\t\t\tif (vnode.attrs == null) vnode.attrs = {}\n\t\t}\n\t\tupdateAttrs(vnode, old.attrs, vnode.attrs, ns)\n\t\tif (!maybeSetContentEditable(vnode)) {\n\t\t\tupdateNodes(element, old.children, vnode.children, hooks, null, ns)\n\t\t}\n\t}\n\tfunction updateComponent(parent, old, vnode, hooks, nextSibling, ns) {\n\t\tvnode.instance = Vnode.normalize(callHook.call(vnode.state.view, vnode))\n\t\tif (vnode.instance === vnode) throw Error(\"A view cannot return the vnode it received as argument\")\n\t\tupdateLifecycle(vnode.state, vnode, hooks)\n\t\tif (vnode.attrs != null) updateLifecycle(vnode.attrs, vnode, hooks)\n\t\tif (vnode.instance != null) {\n\t\t\tif (old.instance == null) createNode(parent, vnode.instance, hooks, ns, nextSibling)\n\t\t\telse updateNode(parent, old.instance, vnode.instance, hooks, nextSibling, ns)\n\t\t\tvnode.dom = vnode.instance.dom\n\t\t\tvnode.domSize = vnode.instance.domSize\n\t\t}\n\t\telse if (old.instance != null) {\n\t\t\tremoveNode(parent, old.instance)\n\t\t\tvnode.dom = undefined\n\t\t\tvnode.domSize = 0\n\t\t}\n\t\telse {\n\t\t\tvnode.dom = old.dom\n\t\t\tvnode.domSize = old.domSize\n\t\t}\n\t}\n\tfunction getKeyMap(vnodes, start, end) {\n\t\tvar map = Object.create(null)\n\t\tfor (; start < end; start++) {\n\t\t\tvar vnode = vnodes[start]\n\t\t\tif (vnode != null) {\n\t\t\t\tvar key = vnode.key\n\t\t\t\tif (key != null) map[key] = start\n\t\t\t}\n\t\t}\n\t\treturn map\n\t}\n\t// Lifted from ivi https://github.com/ivijs/ivi/\n\t// takes a list of unique numbers (-1 is special and can\n\t// occur multiple times) and returns an array with the indices\n\t// of the items that are part of the longest increasing\n\t// subsequence\n\tvar lisTemp = []\n\tfunction makeLisIndices(a) {\n\t\tvar result = [0]\n\t\tvar u = 0, v = 0, i = 0\n\t\tvar il = lisTemp.length = a.length\n\t\tfor (var i = 0; i < il; i++) lisTemp[i] = a[i]\n\t\tfor (var i = 0; i < il; ++i) {\n\t\t\tif (a[i] === -1) continue\n\t\t\tvar j = result[result.length - 1]\n\t\t\tif (a[j] < a[i]) {\n\t\t\t\tlisTemp[i] = j\n\t\t\t\tresult.push(i)\n\t\t\t\tcontinue\n\t\t\t}\n\t\t\tu = 0\n\t\t\tv = result.length - 1\n\t\t\twhile (u < v) {\n\t\t\t\t// Fast integer average without overflow.\n\t\t\t\t// eslint-disable-next-line no-bitwise\n\t\t\t\tvar c = (u >>> 1) + (v >>> 1) + (u & v & 1)\n\t\t\t\tif (a[result[c]] < a[i]) {\n\t\t\t\t\tu = c + 1\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tv = c\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (a[i] < a[result[u]]) {\n\t\t\t\tif (u > 0) lisTemp[i] = result[u - 1]\n\t\t\t\tresult[u] = i\n\t\t\t}\n\t\t}\n\t\tu = result.length\n\t\tv = result[u - 1]\n\t\twhile (u-- > 0) {\n\t\t\tresult[u] = v\n\t\t\tv = lisTemp[v]\n\t\t}\n\t\tlisTemp.length = 0\n\t\treturn result\n\t}\n\n\tfunction getNextSibling(vnodes, i, nextSibling) {\n\t\tfor (; i < vnodes.length; i++) {\n\t\t\tif (vnodes[i] != null && vnodes[i].dom != null) return vnodes[i].dom\n\t\t}\n\t\treturn nextSibling\n\t}\n\n\t// This covers a really specific edge case:\n\t// - Parent node is keyed and contains child\n\t// - Child is removed, returns unresolved promise in `onbeforeremove`\n\t// - Parent node is moved in keyed diff\n\t// - Remaining children still need moved appropriately\n\t//\n\t// Ideally, I'd track removed nodes as well, but that introduces a lot more\n\t// complexity and I'm not exactly interested in doing that.\n\tfunction moveNodes(parent, vnode, nextSibling) {\n\t\tvar frag = $doc.createDocumentFragment()\n\t\tmoveChildToFrag(parent, frag, vnode)\n\t\tinsertNode(parent, frag, nextSibling)\n\t}\n\tfunction moveChildToFrag(parent, frag, vnode) {\n\t\t// Dodge the recursion overhead in a few of the most common cases.\n\t\twhile (vnode.dom != null && vnode.dom.parentNode === parent) {\n\t\t\tif (typeof vnode.tag !== \"string\") {\n\t\t\t\tvnode = vnode.instance\n\t\t\t\tif (vnode != null) continue\n\t\t\t} else if (vnode.tag === \"<\") {\n\t\t\t\tfor (var i = 0; i < vnode.instance.length; i++) {\n\t\t\t\t\tfrag.appendChild(vnode.instance[i])\n\t\t\t\t}\n\t\t\t} else if (vnode.tag !== \"[\") {\n\t\t\t\t// Don't recurse for text nodes *or* elements, just fragments\n\t\t\t\tfrag.appendChild(vnode.dom)\n\t\t\t} else if (vnode.children.length === 1) {\n\t\t\t\tvnode = vnode.children[0]\n\t\t\t\tif (vnode != null) continue\n\t\t\t} else {\n\t\t\t\tfor (var i = 0; i < vnode.children.length; i++) {\n\t\t\t\t\tvar child = vnode.children[i]\n\t\t\t\t\tif (child != null) moveChildToFrag(parent, frag, child)\n\t\t\t\t}\n\t\t\t}\n\t\t\tbreak\n\t\t}\n\t}\n\n\tfunction insertNode(parent, dom, nextSibling) {\n\t\tif (nextSibling != null) parent.insertBefore(dom, nextSibling)\n\t\telse parent.appendChild(dom)\n\t}\n\n\tfunction maybeSetContentEditable(vnode) {\n\t\tif (vnode.attrs == null || (\n\t\t\tvnode.attrs.contenteditable == null && // attribute\n\t\t\tvnode.attrs.contentEditable == null // property\n\t\t)) return false\n\t\tvar children = vnode.children\n\t\tif (children != null && children.length === 1 && children[0].tag === \"<\") {\n\t\t\tvar content = children[0].children\n\t\t\tif (vnode.dom.innerHTML !== content) vnode.dom.innerHTML = content\n\t\t}\n\t\telse if (children != null && children.length !== 0) throw new Error(\"Child node of a contenteditable must be trusted.\")\n\t\treturn true\n\t}\n\n\t//remove\n\tfunction removeNodes(parent, vnodes, start, end) {\n\t\tfor (var i = start; i < end; i++) {\n\t\t\tvar vnode = vnodes[i]\n\t\t\tif (vnode != null) removeNode(parent, vnode)\n\t\t}\n\t}\n\tfunction removeNode(parent, vnode) {\n\t\tvar mask = 0\n\t\tvar original = vnode.state\n\t\tvar stateResult, attrsResult\n\t\tif (typeof vnode.tag !== \"string\" && typeof vnode.state.onbeforeremove === \"function\") {\n\t\t\tvar result = callHook.call(vnode.state.onbeforeremove, vnode)\n\t\t\tif (result != null && typeof result.then === \"function\") {\n\t\t\t\tmask = 1\n\t\t\t\tstateResult = result\n\t\t\t}\n\t\t}\n\t\tif (vnode.attrs && typeof vnode.attrs.onbeforeremove === \"function\") {\n\t\t\tvar result = callHook.call(vnode.attrs.onbeforeremove, vnode)\n\t\t\tif (result != null && typeof result.then === \"function\") {\n\t\t\t\t// eslint-disable-next-line no-bitwise\n\t\t\t\tmask |= 2\n\t\t\t\tattrsResult = result\n\t\t\t}\n\t\t}\n\t\tcheckState(vnode, original)\n\n\t\t// If we can, try to fast-path it and avoid all the overhead of awaiting\n\t\tif (!mask) {\n\t\t\tonremove(vnode)\n\t\t\tremoveChild(parent, vnode)\n\t\t} else {\n\t\t\tif (stateResult != null) {\n\t\t\t\tvar next = function () {\n\t\t\t\t\t// eslint-disable-next-line no-bitwise\n\t\t\t\t\tif (mask & 1) { mask &= 2; if (!mask) reallyRemove() }\n\t\t\t\t}\n\t\t\t\tstateResult.then(next, next)\n\t\t\t}\n\t\t\tif (attrsResult != null) {\n\t\t\t\tvar next = function () {\n\t\t\t\t\t// eslint-disable-next-line no-bitwise\n\t\t\t\t\tif (mask & 2) { mask &= 1; if (!mask) reallyRemove() }\n\t\t\t\t}\n\t\t\t\tattrsResult.then(next, next)\n\t\t\t}\n\t\t}\n\n\t\tfunction reallyRemove() {\n\t\t\tcheckState(vnode, original)\n\t\t\tonremove(vnode)\n\t\t\tremoveChild(parent, vnode)\n\t\t}\n\t}\n\tfunction removeHTML(parent, vnode) {\n\t\tfor (var i = 0; i < vnode.instance.length; i++) {\n\t\t\tparent.removeChild(vnode.instance[i])\n\t\t}\n\t}\n\tfunction removeChild(parent, vnode) {\n\t\t// Dodge the recursion overhead in a few of the most common cases.\n\t\twhile (vnode.dom != null && vnode.dom.parentNode === parent) {\n\t\t\tif (typeof vnode.tag !== \"string\") {\n\t\t\t\tvnode = vnode.instance\n\t\t\t\tif (vnode != null) continue\n\t\t\t} else if (vnode.tag === \"<\") {\n\t\t\t\tremoveHTML(parent, vnode)\n\t\t\t} else {\n\t\t\t\tif (vnode.tag !== \"[\") {\n\t\t\t\t\tparent.removeChild(vnode.dom)\n\t\t\t\t\tif (!Array.isArray(vnode.children)) break\n\t\t\t\t}\n\t\t\t\tif (vnode.children.length === 1) {\n\t\t\t\t\tvnode = vnode.children[0]\n\t\t\t\t\tif (vnode != null) continue\n\t\t\t\t} else {\n\t\t\t\t\tfor (var i = 0; i < vnode.children.length; i++) {\n\t\t\t\t\t\tvar child = vnode.children[i]\n\t\t\t\t\t\tif (child != null) removeChild(parent, child)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tbreak\n\t\t}\n\t}\n\tfunction onremove(vnode) {\n\t\tif (typeof vnode.tag !== \"string\" && typeof vnode.state.onremove === \"function\") callHook.call(vnode.state.onremove, vnode)\n\t\tif (vnode.attrs && typeof vnode.attrs.onremove === \"function\") callHook.call(vnode.attrs.onremove, vnode)\n\t\tif (typeof vnode.tag !== \"string\") {\n\t\t\tif (vnode.instance != null) onremove(vnode.instance)\n\t\t} else {\n\t\t\tvar children = vnode.children\n\t\t\tif (Array.isArray(children)) {\n\t\t\t\tfor (var i = 0; i < children.length; i++) {\n\t\t\t\t\tvar child = children[i]\n\t\t\t\t\tif (child != null) onremove(child)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t//attrs\n\tfunction setAttrs(vnode, attrs, ns) {\n\t\t// If you assign an input type that is not supported by IE 11 with an assignment expression, an error will occur.\n\t\t//\n\t\t// Also, the DOM does things to inputs based on the value, so it needs set first.\n\t\t// See: https://github.com/MithrilJS/mithril.js/issues/2622\n\t\tif (vnode.tag === \"input\" && attrs.type != null) vnode.dom.setAttribute(\"type\", attrs.type)\n\t\tvar isFileInput = attrs != null && vnode.tag === \"input\" && attrs.type === \"file\"\n\t\tfor (var key in attrs) {\n\t\t\tsetAttr(vnode, key, null, attrs[key], ns, isFileInput)\n\t\t}\n\t}\n\tfunction setAttr(vnode, key, old, value, ns, isFileInput) {\n\t\tif (key === \"key\" || key === \"is\" || value == null || isLifecycleMethod(key) || (old === value && !isFormAttribute(vnode, key)) && typeof value !== \"object\" || key === \"type\" && vnode.tag === \"input\") return\n\t\tif (key[0] === \"o\" && key[1] === \"n\") return updateEvent(vnode, key, value)\n\t\tif (key.slice(0, 6) === \"xlink:\") vnode.dom.setAttributeNS(\"http://www.w3.org/1999/xlink\", key.slice(6), value)\n\t\telse if (key === \"style\") updateStyle(vnode.dom, old, value)\n\t\telse if (hasPropertyKey(vnode, key, ns)) {\n\t\t\tif (key === \"value\") {\n\t\t\t\t// Only do the coercion if we're actually going to check the value.\n\t\t\t\t/* eslint-disable no-implicit-coercion */\n\t\t\t\t//setting input[value] to same value by typing on focused element moves cursor to end in Chrome\n\t\t\t\t//setting input[type=file][value] to same value causes an error to be generated if it's non-empty\n\t\t\t\tif ((vnode.tag === \"input\" || vnode.tag === \"textarea\") && vnode.dom.value === \"\" + value && (isFileInput || vnode.dom === activeElement())) return\n\t\t\t\t//setting select[value] to same value while having select open blinks select dropdown in Chrome\n\t\t\t\tif (vnode.tag === \"select\" && old !== null && vnode.dom.value === \"\" + value) return\n\t\t\t\t//setting option[value] to same value while having select open blinks select dropdown in Chrome\n\t\t\t\tif (vnode.tag === \"option\" && old !== null && vnode.dom.value === \"\" + value) return\n\t\t\t\t//setting input[type=file][value] to different value is an error if it's non-empty\n\t\t\t\t// Not ideal, but it at least works around the most common source of uncaught exceptions for now.\n\t\t\t\tif (isFileInput && \"\" + value !== \"\") { console.error(\"`value` is read-only on file inputs!\"); return }\n\t\t\t\t/* eslint-enable no-implicit-coercion */\n\t\t\t}\n\t\t\tvnode.dom[key] = value\n\t\t} else {\n\t\t\tif (typeof value === \"boolean\") {\n\t\t\t\tif (value) vnode.dom.setAttribute(key, \"\")\n\t\t\t\telse vnode.dom.removeAttribute(key)\n\t\t\t}\n\t\t\telse vnode.dom.setAttribute(key === \"className\" ? \"class\" : key, value)\n\t\t}\n\t}\n\tfunction removeAttr(vnode, key, old, ns) {\n\t\tif (key === \"key\" || key === \"is\" || old == null || isLifecycleMethod(key)) return\n\t\tif (key[0] === \"o\" && key[1] === \"n\") updateEvent(vnode, key, undefined)\n\t\telse if (key === \"style\") updateStyle(vnode.dom, old, null)\n\t\telse if (\n\t\t\thasPropertyKey(vnode, key, ns)\n\t\t\t&& key !== \"className\"\n\t\t\t&& key !== \"title\" // creates \"null\" as title\n\t\t\t&& !(key === \"value\" && (\n\t\t\t\tvnode.tag === \"option\"\n\t\t\t\t|| vnode.tag === \"select\" && vnode.dom.selectedIndex === -1 && vnode.dom === activeElement()\n\t\t\t))\n\t\t\t&& !(vnode.tag === \"input\" && key === \"type\")\n\t\t) {\n\t\t\tvnode.dom[key] = null\n\t\t} else {\n\t\t\tvar nsLastIndex = key.indexOf(\":\")\n\t\t\tif (nsLastIndex !== -1) key = key.slice(nsLastIndex + 1)\n\t\t\tif (old !== false) vnode.dom.removeAttribute(key === \"className\" ? \"class\" : key)\n\t\t}\n\t}\n\tfunction setLateSelectAttrs(vnode, attrs) {\n\t\tif (\"value\" in attrs) {\n\t\t\tif(attrs.value === null) {\n\t\t\t\tif (vnode.dom.selectedIndex !== -1) vnode.dom.value = null\n\t\t\t} else {\n\t\t\t\tvar normalized = \"\" + attrs.value // eslint-disable-line no-implicit-coercion\n\t\t\t\tif (vnode.dom.value !== normalized || vnode.dom.selectedIndex === -1) {\n\t\t\t\t\tvnode.dom.value = normalized\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (\"selectedIndex\" in attrs) setAttr(vnode, \"selectedIndex\", null, attrs.selectedIndex, undefined)\n\t}\n\tfunction updateAttrs(vnode, old, attrs, ns) {\n\t\tif (old && old === attrs) {\n\t\t\tconsole.warn(\"Don't reuse attrs object, use new object for every redraw, this will throw in next major\")\n\t\t}\n\t\tif (attrs != null) {\n\t\t\t// If you assign an input type that is not supported by IE 11 with an assignment expression, an error will occur.\n\t\t\t//\n\t\t\t// Also, the DOM does things to inputs based on the value, so it needs set first.\n\t\t\t// See: https://github.com/MithrilJS/mithril.js/issues/2622\n\t\t\tif (vnode.tag === \"input\" && attrs.type != null) vnode.dom.setAttribute(\"type\", attrs.type)\n\t\t\tvar isFileInput = vnode.tag === \"input\" && attrs.type === \"file\"\n\t\t\tfor (var key in attrs) {\n\t\t\t\tsetAttr(vnode, key, old && old[key], attrs[key], ns, isFileInput)\n\t\t\t}\n\t\t}\n\t\tvar val\n\t\tif (old != null) {\n\t\t\tfor (var key in old) {\n\t\t\t\tif (((val = old[key]) != null) && (attrs == null || attrs[key] == null)) {\n\t\t\t\t\tremoveAttr(vnode, key, val, ns)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tfunction isFormAttribute(vnode, attr) {\n\t\treturn attr === \"value\" || attr === \"checked\" || attr === \"selectedIndex\" || attr === \"selected\" && vnode.dom === activeElement() || vnode.tag === \"option\" && vnode.dom.parentNode === $doc.activeElement\n\t}\n\tfunction isLifecycleMethod(attr) {\n\t\treturn attr === \"oninit\" || attr === \"oncreate\" || attr === \"onupdate\" || attr === \"onremove\" || attr === \"onbeforeremove\" || attr === \"onbeforeupdate\"\n\t}\n\tfunction hasPropertyKey(vnode, key, ns) {\n\t\t// Filter out namespaced keys\n\t\treturn ns === undefined && (\n\t\t\t// If it's a custom element, just keep it.\n\t\t\tvnode.tag.indexOf(\"-\") > -1 || vnode.attrs != null && vnode.attrs.is ||\n\t\t\t// If it's a normal element, let's try to avoid a few browser bugs.\n\t\t\tkey !== \"href\" && key !== \"list\" && key !== \"form\" && key !== \"width\" && key !== \"height\"// && key !== \"type\"\n\t\t\t// Defer the property check until *after* we check everything.\n\t\t) && key in vnode.dom\n\t}\n\n\t//style\n\tvar uppercaseRegex = /[A-Z]/g\n\tfunction toLowerCase(capital) { return \"-\" + capital.toLowerCase() }\n\tfunction normalizeKey(key) {\n\t\treturn key[0] === \"-\" && key[1] === \"-\" ? key :\n\t\t\tkey === \"cssFloat\" ? \"float\" :\n\t\t\t\tkey.replace(uppercaseRegex, toLowerCase)\n\t}\n\tfunction updateStyle(element, old, style) {\n\t\tif (old === style) {\n\t\t\t// Styles are equivalent, do nothing.\n\t\t} else if (style == null) {\n\t\t\t// New style is missing, just clear it.\n\t\t\telement.style.cssText = \"\"\n\t\t} else if (typeof style !== \"object\") {\n\t\t\t// New style is a string, let engine deal with patching.\n\t\t\telement.style.cssText = style\n\t\t} else if (old == null || typeof old !== \"object\") {\n\t\t\t// `old` is missing or a string, `style` is an object.\n\t\t\telement.style.cssText = \"\"\n\t\t\t// Add new style properties\n\t\t\tfor (var key in style) {\n\t\t\t\tvar value = style[key]\n\t\t\t\tif (value != null) element.style.setProperty(normalizeKey(key), String(value))\n\t\t\t}\n\t\t} else {\n\t\t\t// Both old & new are (different) objects.\n\t\t\t// Update style properties that have changed\n\t\t\tfor (var key in style) {\n\t\t\t\tvar value = style[key]\n\t\t\t\tif (value != null && (value = String(value)) !== String(old[key])) {\n\t\t\t\t\telement.style.setProperty(normalizeKey(key), value)\n\t\t\t\t}\n\t\t\t}\n\t\t\t// Remove style properties that no longer exist\n\t\t\tfor (var key in old) {\n\t\t\t\tif (old[key] != null && style[key] == null) {\n\t\t\t\t\telement.style.removeProperty(normalizeKey(key))\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Here's an explanation of how this works:\n\t// 1. The event names are always (by design) prefixed by `on`.\n\t// 2. The EventListener interface accepts either a function or an object\n\t//    with a `handleEvent` method.\n\t// 3. The object does not inherit from `Object.prototype`, to avoid\n\t//    any potential interference with that (e.g. setters).\n\t// 4. The event name is remapped to the handler before calling it.\n\t// 5. In function-based event handlers, `ev.target === this`. We replicate\n\t//    that below.\n\t// 6. In function-based event handlers, `return false` prevents the default\n\t//    action and stops event propagation. We replicate that below.\n\tfunction EventDict() {\n\t\t// Save this, so the current redraw is correctly tracked.\n\t\tthis._ = currentRedraw\n\t}\n\tEventDict.prototype = Object.create(null)\n\tEventDict.prototype.handleEvent = function (ev) {\n\t\tvar handler = this[\"on\" + ev.type]\n\t\tvar result\n\t\tif (typeof handler === \"function\") result = handler.call(ev.currentTarget, ev)\n\t\telse if (typeof handler.handleEvent === \"function\") handler.handleEvent(ev)\n\t\tif (this._ && ev.redraw !== false) (0, this._)()\n\t\tif (result === false) {\n\t\t\tev.preventDefault()\n\t\t\tev.stopPropagation()\n\t\t}\n\t}\n\n\t//event\n\tfunction updateEvent(vnode, key, value) {\n\t\tif (vnode.events != null) {\n\t\t\tvnode.events._ = currentRedraw\n\t\t\tif (vnode.events[key] === value) return\n\t\t\tif (value != null && (typeof value === \"function\" || typeof value === \"object\")) {\n\t\t\t\tif (vnode.events[key] == null) vnode.dom.addEventListener(key.slice(2), vnode.events, false)\n\t\t\t\tvnode.events[key] = value\n\t\t\t} else {\n\t\t\t\tif (vnode.events[key] != null) vnode.dom.removeEventListener(key.slice(2), vnode.events, false)\n\t\t\t\tvnode.events[key] = undefined\n\t\t\t}\n\t\t} else if (value != null && (typeof value === \"function\" || typeof value === \"object\")) {\n\t\t\tvnode.events = new EventDict()\n\t\t\tvnode.dom.addEventListener(key.slice(2), vnode.events, false)\n\t\t\tvnode.events[key] = value\n\t\t}\n\t}\n\n\t//lifecycle\n\tfunction initLifecycle(source, vnode, hooks) {\n\t\tif (typeof source.oninit === \"function\") callHook.call(source.oninit, vnode)\n\t\tif (typeof source.oncreate === \"function\") hooks.push(callHook.bind(source.oncreate, vnode))\n\t}\n\tfunction updateLifecycle(source, vnode, hooks) {\n\t\tif (typeof source.onupdate === \"function\") hooks.push(callHook.bind(source.onupdate, vnode))\n\t}\n\tfunction shouldNotUpdate(vnode, old) {\n\t\tdo {\n\t\t\tif (vnode.attrs != null && typeof vnode.attrs.onbeforeupdate === \"function\") {\n\t\t\t\tvar force = callHook.call(vnode.attrs.onbeforeupdate, vnode, old)\n\t\t\t\tif (force !== undefined && !force) break\n\t\t\t}\n\t\t\tif (typeof vnode.tag !== \"string\" && typeof vnode.state.onbeforeupdate === \"function\") {\n\t\t\t\tvar force = callHook.call(vnode.state.onbeforeupdate, vnode, old)\n\t\t\t\tif (force !== undefined && !force) break\n\t\t\t}\n\t\t\treturn false\n\t\t} while (false); // eslint-disable-line no-constant-condition\n\t\tvnode.dom = old.dom\n\t\tvnode.domSize = old.domSize\n\t\tvnode.instance = old.instance\n\t\t// One would think having the actual latest attributes would be ideal,\n\t\t// but it doesn't let us properly diff based on our current internal\n\t\t// representation. We have to save not only the old DOM info, but also\n\t\t// the attributes used to create it, as we diff *that*, not against the\n\t\t// DOM directly (with a few exceptions in `setAttr`). And, of course, we\n\t\t// need to save the children and text as they are conceptually not\n\t\t// unlike special \"attributes\" internally.\n\t\tvnode.attrs = old.attrs\n\t\tvnode.children = old.children\n\t\tvnode.text = old.text\n\t\treturn true\n\t}\n\n\tvar currentDOM\n\n\treturn function(dom, vnodes, redraw) {\n\t\tif (!dom) throw new TypeError(\"DOM element being rendered to does not exist.\")\n\t\tif (currentDOM != null && dom.contains(currentDOM)) {\n\t\t\tthrow new TypeError(\"Node is currently being rendered to and thus is locked.\")\n\t\t}\n\t\tvar prevRedraw = currentRedraw\n\t\tvar prevDOM = currentDOM\n\t\tvar hooks = []\n\t\tvar active = activeElement()\n\t\tvar namespace = dom.namespaceURI\n\n\t\tcurrentDOM = dom\n\t\tcurrentRedraw = typeof redraw === \"function\" ? redraw : undefined\n\t\ttry {\n\t\t\t// First time rendering into a node clears it out\n\t\t\tif (dom.vnodes == null) dom.textContent = \"\"\n\t\t\tvnodes = Vnode.normalizeChildren(Array.isArray(vnodes) ? vnodes : [vnodes])\n\t\t\tupdateNodes(dom, dom.vnodes, vnodes, hooks, null, namespace === \"http://www.w3.org/1999/xhtml\" ? undefined : namespace)\n\t\t\tdom.vnodes = vnodes\n\t\t\t// `document.activeElement` can return null: https://html.spec.whatwg.org/multipage/interaction.html#dom-document-activeelement\n\t\t\tif (active != null && activeElement() !== active && typeof active.focus === \"function\") active.focus()\n\t\t\tfor (var i = 0; i < hooks.length; i++) hooks[i]()\n\t\t} finally {\n\t\t\tcurrentRedraw = prevRedraw\n\t\t\tcurrentDOM = prevDOM\n\t\t}\n\t}\n}\n","\"use strict\"\n\nvar Vnode = require(\"../render/vnode\")\n\nmodule.exports = function(render, schedule, console) {\n\tvar subscriptions = []\n\tvar pending = false\n\tvar offset = -1\n\n\tfunction sync() {\n\t\tfor (offset = 0; offset < subscriptions.length; offset += 2) {\n\t\t\ttry { render(subscriptions[offset], Vnode(subscriptions[offset + 1]), redraw) }\n\t\t\tcatch (e) { console.error(e) }\n\t\t}\n\t\toffset = -1\n\t}\n\n\tfunction redraw() {\n\t\tif (!pending) {\n\t\t\tpending = true\n\t\t\tschedule(function() {\n\t\t\t\tpending = false\n\t\t\t\tsync()\n\t\t\t})\n\t\t}\n\t}\n\n\tredraw.sync = sync\n\n\tfunction mount(root, component) {\n\t\tif (component != null && component.view == null && typeof component !== \"function\") {\n\t\t\tthrow new TypeError(\"m.mount expects a component, not a vnode.\")\n\t\t}\n\n\t\tvar index = subscriptions.indexOf(root)\n\t\tif (index >= 0) {\n\t\t\tsubscriptions.splice(index, 2)\n\t\t\tif (index <= offset) offset -= 2\n\t\t\trender(root, [])\n\t\t}\n\n\t\tif (component != null) {\n\t\t\tsubscriptions.push(root, component)\n\t\t\trender(root, Vnode(component), redraw)\n\t\t}\n\t}\n\n\treturn {mount: mount, redraw: redraw}\n}\n","\"use strict\"\n\nvar buildPathname = require(\"../pathname/build\")\nvar hasOwn = require(\"../util/hasOwn\")\n\nmodule.exports = function($window, Promise, oncompletion) {\n\tvar callbackCount = 0\n\n\tfunction PromiseProxy(executor) {\n\t\treturn new Promise(executor)\n\t}\n\n\t// In case the global Promise is some userland library's where they rely on\n\t// `foo instanceof this.constructor`, `this.constructor.resolve(value)`, or\n\t// similar. Let's *not* break them.\n\tPromiseProxy.prototype = Promise.prototype\n\tPromiseProxy.__proto__ = Promise // eslint-disable-line no-proto\n\n\tfunction makeRequest(factory) {\n\t\treturn function(url, args) {\n\t\t\tif (typeof url !== \"string\") { args = url; url = url.url }\n\t\t\telse if (args == null) args = {}\n\t\t\tvar promise = new Promise(function(resolve, reject) {\n\t\t\t\tfactory(buildPathname(url, args.params), args, function (data) {\n\t\t\t\t\tif (typeof args.type === \"function\") {\n\t\t\t\t\t\tif (Array.isArray(data)) {\n\t\t\t\t\t\t\tfor (var i = 0; i < data.length; i++) {\n\t\t\t\t\t\t\t\tdata[i] = new args.type(data[i])\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse data = new args.type(data)\n\t\t\t\t\t}\n\t\t\t\t\tresolve(data)\n\t\t\t\t}, reject)\n\t\t\t})\n\t\t\tif (args.background === true) return promise\n\t\t\tvar count = 0\n\t\t\tfunction complete() {\n\t\t\t\tif (--count === 0 && typeof oncompletion === \"function\") oncompletion()\n\t\t\t}\n\n\t\t\treturn wrap(promise)\n\n\t\t\tfunction wrap(promise) {\n\t\t\t\tvar then = promise.then\n\t\t\t\t// Set the constructor, so engines know to not await or resolve\n\t\t\t\t// this as a native promise. At the time of writing, this is\n\t\t\t\t// only necessary for V8, but their behavior is the correct\n\t\t\t\t// behavior per spec. See this spec issue for more details:\n\t\t\t\t// https://github.com/tc39/ecma262/issues/1577. Also, see the\n\t\t\t\t// corresponding comment in `request/tests/test-request.js` for\n\t\t\t\t// a bit more background on the issue at hand.\n\t\t\t\tpromise.constructor = PromiseProxy\n\t\t\t\tpromise.then = function() {\n\t\t\t\t\tcount++\n\t\t\t\t\tvar next = then.apply(promise, arguments)\n\t\t\t\t\tnext.then(complete, function(e) {\n\t\t\t\t\t\tcomplete()\n\t\t\t\t\t\tif (count === 0) throw e\n\t\t\t\t\t})\n\t\t\t\t\treturn wrap(next)\n\t\t\t\t}\n\t\t\t\treturn promise\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction hasHeader(args, name) {\n\t\tfor (var key in args.headers) {\n\t\t\tif (hasOwn.call(args.headers, key) && key.toLowerCase() === name) return true\n\t\t}\n\t\treturn false\n\t}\n\n\treturn {\n\t\trequest: makeRequest(function(url, args, resolve, reject) {\n\t\t\tvar method = args.method != null ? args.method.toUpperCase() : \"GET\"\n\t\t\tvar body = args.body\n\t\t\tvar assumeJSON = (args.serialize == null || args.serialize === JSON.serialize) && !(body instanceof $window.FormData || body instanceof $window.URLSearchParams)\n\t\t\tvar responseType = args.responseType || (typeof args.extract === \"function\" ? \"\" : \"json\")\n\n\t\t\tvar xhr = new $window.XMLHttpRequest(), aborted = false, isTimeout = false\n\t\t\tvar original = xhr, replacedAbort\n\t\t\tvar abort = xhr.abort\n\n\t\t\txhr.abort = function() {\n\t\t\t\taborted = true\n\t\t\t\tabort.call(this)\n\t\t\t}\n\n\t\t\txhr.open(method, url, args.async !== false, typeof args.user === \"string\" ? args.user : undefined, typeof args.password === \"string\" ? args.password : undefined)\n\n\t\t\tif (assumeJSON && body != null && !hasHeader(args, \"content-type\")) {\n\t\t\t\txhr.setRequestHeader(\"Content-Type\", \"application/json; charset=utf-8\")\n\t\t\t}\n\t\t\tif (typeof args.deserialize !== \"function\" && !hasHeader(args, \"accept\")) {\n\t\t\t\txhr.setRequestHeader(\"Accept\", \"application/json, text/*\")\n\t\t\t}\n\t\t\tif (args.withCredentials) xhr.withCredentials = args.withCredentials\n\t\t\tif (args.timeout) xhr.timeout = args.timeout\n\t\t\txhr.responseType = responseType\n\n\t\t\tfor (var key in args.headers) {\n\t\t\t\tif (hasOwn.call(args.headers, key)) {\n\t\t\t\t\txhr.setRequestHeader(key, args.headers[key])\n\t\t\t\t}\n\t\t\t}\n\n\t\t\txhr.onreadystatechange = function(ev) {\n\t\t\t\t// Don't throw errors on xhr.abort().\n\t\t\t\tif (aborted) return\n\n\t\t\t\tif (ev.target.readyState === 4) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tvar success = (ev.target.status >= 200 && ev.target.status < 300) || ev.target.status === 304 || (/^file:\\/\\//i).test(url)\n\t\t\t\t\t\t// When the response type isn't \"\" or \"text\",\n\t\t\t\t\t\t// `xhr.responseText` is the wrong thing to use.\n\t\t\t\t\t\t// Browsers do the right thing and throw here, and we\n\t\t\t\t\t\t// should honor that and do the right thing by\n\t\t\t\t\t\t// preferring `xhr.response` where possible/practical.\n\t\t\t\t\t\tvar response = ev.target.response, message\n\n\t\t\t\t\t\tif (responseType === \"json\") {\n\t\t\t\t\t\t\t// For IE and Edge, which don't implement\n\t\t\t\t\t\t\t// `responseType: \"json\"`.\n\t\t\t\t\t\t\tif (!ev.target.responseType && typeof args.extract !== \"function\") {\n\t\t\t\t\t\t\t\t// Handle no-content which will not parse.\n\t\t\t\t\t\t\t\ttry { response = JSON.parse(ev.target.responseText) }\n\t\t\t\t\t\t\t\tcatch (e) { response = null }\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (!responseType || responseType === \"text\") {\n\t\t\t\t\t\t\t// Only use this default if it's text. If a parsed\n\t\t\t\t\t\t\t// document is needed on old IE and friends (all\n\t\t\t\t\t\t\t// unsupported), the user should use a custom\n\t\t\t\t\t\t\t// `config` instead. They're already using this at\n\t\t\t\t\t\t\t// their own risk.\n\t\t\t\t\t\t\tif (response == null) response = ev.target.responseText\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (typeof args.extract === \"function\") {\n\t\t\t\t\t\t\tresponse = args.extract(ev.target, args)\n\t\t\t\t\t\t\tsuccess = true\n\t\t\t\t\t\t} else if (typeof args.deserialize === \"function\") {\n\t\t\t\t\t\t\tresponse = args.deserialize(response)\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (success) resolve(response)\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tvar completeErrorResponse = function() {\n\t\t\t\t\t\t\t\ttry { message = ev.target.responseText }\n\t\t\t\t\t\t\t\tcatch (e) { message = response }\n\t\t\t\t\t\t\t\tvar error = new Error(message)\n\t\t\t\t\t\t\t\terror.code = ev.target.status\n\t\t\t\t\t\t\t\terror.response = response\n\t\t\t\t\t\t\t\treject(error)\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (xhr.status === 0) {\n\t\t\t\t\t\t\t\t// Use setTimeout to push this code block onto the event queue\n\t\t\t\t\t\t\t\t// This allows `xhr.ontimeout` to run in the case that there is a timeout\n\t\t\t\t\t\t\t\t// Without this setTimeout, `xhr.ontimeout` doesn't have a chance to reject\n\t\t\t\t\t\t\t\t// as `xhr.onreadystatechange` will run before it\n\t\t\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\t\t\tif (isTimeout) return\n\t\t\t\t\t\t\t\t\tcompleteErrorResponse()\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t} else completeErrorResponse()\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tcatch (e) {\n\t\t\t\t\t\treject(e)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\txhr.ontimeout = function (ev) {\n\t\t\t\tisTimeout = true\n\t\t\t\tvar error = new Error(\"Request timed out\")\n\t\t\t\terror.code = ev.target.status\n\t\t\t\treject(error)\n\t\t\t}\n\n\t\t\tif (typeof args.config === \"function\") {\n\t\t\t\txhr = args.config(xhr, args, url) || xhr\n\n\t\t\t\t// Propagate the `abort` to any replacement XHR as well.\n\t\t\t\tif (xhr !== original) {\n\t\t\t\t\treplacedAbort = xhr.abort\n\t\t\t\t\txhr.abort = function() {\n\t\t\t\t\t\taborted = true\n\t\t\t\t\t\treplacedAbort.call(this)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (body == null) xhr.send()\n\t\t\telse if (typeof args.serialize === \"function\") xhr.send(args.serialize(body))\n\t\t\telse if (body instanceof $window.FormData || body instanceof $window.URLSearchParams) xhr.send(body)\n\t\t\telse xhr.send(JSON.stringify(body))\n\t\t}),\n\t\tjsonp: makeRequest(function(url, args, resolve, reject) {\n\t\t\tvar callbackName = args.callbackName || \"_mithril_\" + Math.round(Math.random() * 1e16) + \"_\" + callbackCount++\n\t\t\tvar script = $window.document.createElement(\"script\")\n\t\t\t$window[callbackName] = function(data) {\n\t\t\t\tdelete $window[callbackName]\n\t\t\t\tscript.parentNode.removeChild(script)\n\t\t\t\tresolve(data)\n\t\t\t}\n\t\t\tscript.onerror = function() {\n\t\t\t\tdelete $window[callbackName]\n\t\t\t\tscript.parentNode.removeChild(script)\n\t\t\t\treject(new Error(\"JSONP request failed\"))\n\t\t\t}\n\t\t\tscript.src = url + (url.indexOf(\"?\") < 0 ? \"?\" : \"&\") +\n\t\t\t\tencodeURIComponent(args.callbackKey || \"callback\") + \"=\" +\n\t\t\t\tencodeURIComponent(callbackName)\n\t\t\t$window.document.documentElement.appendChild(script)\n\t\t}),\n\t}\n}\n","\"use strict\"\n\nvar buildQueryString = require(\"../querystring/build\")\nvar assign = require(\"../util/assign\")\n\n// Returns `path` from `template` + `params`\nmodule.exports = function(template, params) {\n\tif ((/:([^\\/\\.-]+)(\\.{3})?:/).test(template)) {\n\t\tthrow new SyntaxError(\"Template parameter names must be separated by either a '/', '-', or '.'.\")\n\t}\n\tif (params == null) return template\n\tvar queryIndex = template.indexOf(\"?\")\n\tvar hashIndex = template.indexOf(\"#\")\n\tvar queryEnd = hashIndex < 0 ? template.length : hashIndex\n\tvar pathEnd = queryIndex < 0 ? queryEnd : queryIndex\n\tvar path = template.slice(0, pathEnd)\n\tvar query = {}\n\n\tassign(query, params)\n\n\tvar resolved = path.replace(/:([^\\/\\.-]+)(\\.{3})?/g, function(m, key, variadic) {\n\t\tdelete query[key]\n\t\t// If no such parameter exists, don't interpolate it.\n\t\tif (params[key] == null) return m\n\t\t// Escape normal parameters, but not variadic ones.\n\t\treturn variadic ? params[key] : encodeURIComponent(String(params[key]))\n\t})\n\n\t// In case the template substitution adds new query/hash parameters.\n\tvar newQueryIndex = resolved.indexOf(\"?\")\n\tvar newHashIndex = resolved.indexOf(\"#\")\n\tvar newQueryEnd = newHashIndex < 0 ? resolved.length : newHashIndex\n\tvar newPathEnd = newQueryIndex < 0 ? newQueryEnd : newQueryIndex\n\tvar result = resolved.slice(0, newPathEnd)\n\n\tif (queryIndex >= 0) result += template.slice(queryIndex, queryEnd)\n\tif (newQueryIndex >= 0) result += (queryIndex < 0 ? \"?\" : \"&\") + resolved.slice(newQueryIndex, newQueryEnd)\n\tvar querystring = buildQueryString(query)\n\tif (querystring) result += (queryIndex < 0 && newQueryIndex < 0 ? \"?\" : \"&\") + querystring\n\tif (hashIndex >= 0) result += template.slice(hashIndex)\n\tif (newHashIndex >= 0) result += (hashIndex < 0 ? \"\" : \"&\") + resolved.slice(newHashIndex)\n\treturn result\n}\n","\"use strict\"\n\nmodule.exports = function(object) {\n\tif (Object.prototype.toString.call(object) !== \"[object Object]\") return \"\"\n\n\tvar args = []\n\tfor (var key in object) {\n\t\tdestructure(key, object[key])\n\t}\n\n\treturn args.join(\"&\")\n\n\tfunction destructure(key, value) {\n\t\tif (Array.isArray(value)) {\n\t\t\tfor (var i = 0; i < value.length; i++) {\n\t\t\t\tdestructure(key + \"[\" + i + \"]\", value[i])\n\t\t\t}\n\t\t}\n\t\telse if (Object.prototype.toString.call(value) === \"[object Object]\") {\n\t\t\tfor (var i in value) {\n\t\t\t\tdestructure(key + \"[\" + i + \"]\", value[i])\n\t\t\t}\n\t\t}\n\t\telse args.push(encodeURIComponent(key) + (value != null && value !== \"\" ? \"=\" + encodeURIComponent(value) : \"\"))\n\t}\n}\n","// This exists so I'm only saving it once.\n\"use strict\"\n\nvar hasOwn = require(\"./hasOwn\")\n\nmodule.exports = Object.assign || function(target, source) {\n\tfor (var key in source) {\n\t\tif (hasOwn.call(source, key)) target[key] = source[key]\n\t}\n}\n","// This exists so I'm only saving it once.\n\"use strict\"\n\nmodule.exports = {}.hasOwnProperty\n","\"use strict\"\n\nvar mountRedraw = require(\"./mount-redraw\")\n\nmodule.exports = require(\"./api/router\")(typeof window !== \"undefined\" ? window : null, mountRedraw)\n","\"use strict\"\n\nvar render = require(\"./render\")\n\nmodule.exports = require(\"./api/mount-redraw\")(render, typeof requestAnimationFrame !== \"undefined\" ? requestAnimationFrame : null, typeof console !== \"undefined\" ? console : null)\n","\"use strict\"\n\nvar Vnode = require(\"../render/vnode\")\nvar m = require(\"../render/hyperscript\")\nvar Promise = require(\"../promise/promise\")\n\nvar buildPathname = require(\"../pathname/build\")\nvar parsePathname = require(\"../pathname/parse\")\nvar compileTemplate = require(\"../pathname/compileTemplate\")\nvar assign = require(\"../util/assign\")\nvar censor = require(\"../util/censor\")\n\nvar sentinel = {}\n\nfunction decodeURIComponentSave(component) {\n\ttry {\n\t\treturn decodeURIComponent(component)\n\t} catch(e) {\n\t\treturn component\n\t}\n}\n\nmodule.exports = function($window, mountRedraw) {\n\tvar callAsync = $window == null\n\t\t// In case Mithril.js' loaded globally without the DOM, let's not break\n\t\t? null\n\t\t: typeof $window.setImmediate === \"function\" ? $window.setImmediate : $window.setTimeout\n\tvar p = Promise.resolve()\n\n\tvar scheduled = false\n\n\t// state === 0: init\n\t// state === 1: scheduled\n\t// state === 2: done\n\tvar ready = false\n\tvar state = 0\n\n\tvar compiled, fallbackRoute\n\n\tvar currentResolver = sentinel, component, attrs, currentPath, lastUpdate\n\n\tvar RouterRoot = {\n\t\tonbeforeupdate: function() {\n\t\t\tstate = state ? 2 : 1\n\t\t\treturn !(!state || sentinel === currentResolver)\n\t\t},\n\t\tonremove: function() {\n\t\t\t$window.removeEventListener(\"popstate\", fireAsync, false)\n\t\t\t$window.removeEventListener(\"hashchange\", resolveRoute, false)\n\t\t},\n\t\tview: function() {\n\t\t\tif (!state || sentinel === currentResolver) return\n\t\t\t// Wrap in a fragment to preserve existing key semantics\n\t\t\tvar vnode = [Vnode(component, attrs.key, attrs)]\n\t\t\tif (currentResolver) vnode = currentResolver.render(vnode[0])\n\t\t\treturn vnode\n\t\t},\n\t}\n\n\tvar SKIP = route.SKIP = {}\n\n\tfunction resolveRoute() {\n\t\tscheduled = false\n\t\t// Consider the pathname holistically. The prefix might even be invalid,\n\t\t// but that's not our problem.\n\t\tvar prefix = $window.location.hash\n\t\tif (route.prefix[0] !== \"#\") {\n\t\t\tprefix = $window.location.search + prefix\n\t\t\tif (route.prefix[0] !== \"?\") {\n\t\t\t\tprefix = $window.location.pathname + prefix\n\t\t\t\tif (prefix[0] !== \"/\") prefix = \"/\" + prefix\n\t\t\t}\n\t\t}\n\t\t// This seemingly useless `.concat()` speeds up the tests quite a bit,\n\t\t// since the representation is consistently a relatively poorly\n\t\t// optimized cons string.\n\t\tvar path = prefix.concat()\n\t\t\t.replace(/(?:%[a-f89][a-f0-9])+/gim, decodeURIComponentSave)\n\t\t\t.slice(route.prefix.length)\n\t\tvar data = parsePathname(path)\n\n\t\tassign(data.params, $window.history.state)\n\n\t\tfunction reject(e) {\n\t\t\tconsole.error(e)\n\t\t\tsetPath(fallbackRoute, null, {replace: true})\n\t\t}\n\n\t\tloop(0)\n\t\tfunction loop(i) {\n\t\t\t// state === 0: init\n\t\t\t// state === 1: scheduled\n\t\t\t// state === 2: done\n\t\t\tfor (; i < compiled.length; i++) {\n\t\t\t\tif (compiled[i].check(data)) {\n\t\t\t\t\tvar payload = compiled[i].component\n\t\t\t\t\tvar matchedRoute = compiled[i].route\n\t\t\t\t\tvar localComp = payload\n\t\t\t\t\tvar update = lastUpdate = function(comp) {\n\t\t\t\t\t\tif (update !== lastUpdate) return\n\t\t\t\t\t\tif (comp === SKIP) return loop(i + 1)\n\t\t\t\t\t\tcomponent = comp != null && (typeof comp.view === \"function\" || typeof comp === \"function\")? comp : \"div\"\n\t\t\t\t\t\tattrs = data.params, currentPath = path, lastUpdate = null\n\t\t\t\t\t\tcurrentResolver = payload.render ? payload : null\n\t\t\t\t\t\tif (state === 2) mountRedraw.redraw()\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tstate = 2\n\t\t\t\t\t\t\tmountRedraw.redraw.sync()\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t// There's no understating how much I *wish* I could\n\t\t\t\t\t// use `async`/`await` here...\n\t\t\t\t\tif (payload.view || typeof payload === \"function\") {\n\t\t\t\t\t\tpayload = {}\n\t\t\t\t\t\tupdate(localComp)\n\t\t\t\t\t}\n\t\t\t\t\telse if (payload.onmatch) {\n\t\t\t\t\t\tp.then(function () {\n\t\t\t\t\t\t\treturn payload.onmatch(data.params, path, matchedRoute)\n\t\t\t\t\t\t}).then(update, path === fallbackRoute ? null : reject)\n\t\t\t\t\t}\n\t\t\t\t\telse update(\"div\")\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (path === fallbackRoute) {\n\t\t\t\tthrow new Error(\"Could not resolve default route \" + fallbackRoute + \".\")\n\t\t\t}\n\t\t\tsetPath(fallbackRoute, null, {replace: true})\n\t\t}\n\t}\n\n\t// Set it unconditionally so `m.route.set` and `m.route.Link` both work,\n\t// even if neither `pushState` nor `hashchange` are supported. It's\n\t// cleared if `hashchange` is used, since that makes it automatically\n\t// async.\n\tfunction fireAsync() {\n\t\tif (!scheduled) {\n\t\t\tscheduled = true\n\t\t\t// TODO: just do `mountRedraw.redraw()` here and elide the timer\n\t\t\t// dependency. Note that this will muck with tests a *lot*, so it's\n\t\t\t// not as easy of a change as it sounds.\n\t\t\tcallAsync(resolveRoute)\n\t\t}\n\t}\n\n\tfunction setPath(path, data, options) {\n\t\tpath = buildPathname(path, data)\n\t\tif (ready) {\n\t\t\tfireAsync()\n\t\t\tvar state = options ? options.state : null\n\t\t\tvar title = options ? options.title : null\n\t\t\tif (options && options.replace) $window.history.replaceState(state, title, route.prefix + path)\n\t\t\telse $window.history.pushState(state, title, route.prefix + path)\n\t\t}\n\t\telse {\n\t\t\t$window.location.href = route.prefix + path\n\t\t}\n\t}\n\n\tfunction route(root, defaultRoute, routes) {\n\t\tif (!root) throw new TypeError(\"DOM element being rendered to does not exist.\")\n\n\t\tcompiled = Object.keys(routes).map(function(route) {\n\t\t\tif (route[0] !== \"/\") throw new SyntaxError(\"Routes must start with a '/'.\")\n\t\t\tif ((/:([^\\/\\.-]+)(\\.{3})?:/).test(route)) {\n\t\t\t\tthrow new SyntaxError(\"Route parameter names must be separated with either '/', '.', or '-'.\")\n\t\t\t}\n\t\t\treturn {\n\t\t\t\troute: route,\n\t\t\t\tcomponent: routes[route],\n\t\t\t\tcheck: compileTemplate(route),\n\t\t\t}\n\t\t})\n\t\tfallbackRoute = defaultRoute\n\t\tif (defaultRoute != null) {\n\t\t\tvar defaultData = parsePathname(defaultRoute)\n\n\t\t\tif (!compiled.some(function (i) { return i.check(defaultData) })) {\n\t\t\t\tthrow new ReferenceError(\"Default route doesn't match any known routes.\")\n\t\t\t}\n\t\t}\n\n\t\tif (typeof $window.history.pushState === \"function\") {\n\t\t\t$window.addEventListener(\"popstate\", fireAsync, false)\n\t\t} else if (route.prefix[0] === \"#\") {\n\t\t\t$window.addEventListener(\"hashchange\", resolveRoute, false)\n\t\t}\n\n\t\tready = true\n\t\tmountRedraw.mount(root, RouterRoot)\n\t\tresolveRoute()\n\t}\n\troute.set = function(path, data, options) {\n\t\tif (lastUpdate != null) {\n\t\t\toptions = options || {}\n\t\t\toptions.replace = true\n\t\t}\n\t\tlastUpdate = null\n\t\tsetPath(path, data, options)\n\t}\n\troute.get = function() {return currentPath}\n\troute.prefix = \"#!\"\n\troute.Link = {\n\t\tview: function(vnode) {\n\t\t\t// Omit the used parameters from the rendered element - they are\n\t\t\t// internal. Also, censor the various lifecycle methods.\n\t\t\t//\n\t\t\t// We don't strip the other parameters because for convenience we\n\t\t\t// let them be specified in the selector as well.\n\t\t\tvar child = m(\n\t\t\t\tvnode.attrs.selector || \"a\",\n\t\t\t\tcensor(vnode.attrs, [\"options\", \"params\", \"selector\", \"onclick\"]),\n\t\t\t\tvnode.children\n\t\t\t)\n\t\t\tvar options, onclick, href\n\n\t\t\t// Let's provide a *right* way to disable a route link, rather than\n\t\t\t// letting people screw up accessibility on accident.\n\t\t\t//\n\t\t\t// The attribute is coerced so users don't get surprised over\n\t\t\t// `disabled: 0` resulting in a button that's somehow routable\n\t\t\t// despite being visibly disabled.\n\t\t\tif (child.attrs.disabled = Boolean(child.attrs.disabled)) {\n\t\t\t\tchild.attrs.href = null\n\t\t\t\tchild.attrs[\"aria-disabled\"] = \"true\"\n\t\t\t\t// If you *really* do want add `onclick` on a disabled link, use\n\t\t\t\t// an `oncreate` hook to add it.\n\t\t\t} else {\n\t\t\t\toptions = vnode.attrs.options\n\t\t\t\tonclick = vnode.attrs.onclick\n\t\t\t\t// Easier to build it now to keep it isomorphic.\n\t\t\t\thref = buildPathname(child.attrs.href, vnode.attrs.params)\n\t\t\t\tchild.attrs.href = route.prefix + href\n\t\t\t\tchild.attrs.onclick = function(e) {\n\t\t\t\t\tvar result\n\t\t\t\t\tif (typeof onclick === \"function\") {\n\t\t\t\t\t\tresult = onclick.call(e.currentTarget, e)\n\t\t\t\t\t} else if (onclick == null || typeof onclick !== \"object\") {\n\t\t\t\t\t\t// do nothing\n\t\t\t\t\t} else if (typeof onclick.handleEvent === \"function\") {\n\t\t\t\t\t\tonclick.handleEvent(e)\n\t\t\t\t\t}\n\n\t\t\t\t\t// Adapted from React Router's implementation:\n\t\t\t\t\t// https://github.com/ReactTraining/react-router/blob/520a0acd48ae1b066eb0b07d6d4d1790a1d02482/packages/react-router-dom/modules/Link.js\n\t\t\t\t\t//\n\t\t\t\t\t// Try to be flexible and intuitive in how we handle links.\n\t\t\t\t\t// Fun fact: links aren't as obvious to get right as you\n\t\t\t\t\t// would expect. There's a lot more valid ways to click a\n\t\t\t\t\t// link than this, and one might want to not simply click a\n\t\t\t\t\t// link, but right click or command-click it to copy the\n\t\t\t\t\t// link target, etc. Nope, this isn't just for blind people.\n\t\t\t\t\tif (\n\t\t\t\t\t\t// Skip if `onclick` prevented default\n\t\t\t\t\t\tresult !== false && !e.defaultPrevented &&\n\t\t\t\t\t\t// Ignore everything but left clicks\n\t\t\t\t\t\t(e.button === 0 || e.which === 0 || e.which === 1) &&\n\t\t\t\t\t\t// Let the browser handle `target=_blank`, etc.\n\t\t\t\t\t\t(!e.currentTarget.target || e.currentTarget.target === \"_self\") &&\n\t\t\t\t\t\t// No modifier keys\n\t\t\t\t\t\t!e.ctrlKey && !e.metaKey && !e.shiftKey && !e.altKey\n\t\t\t\t\t) {\n\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\te.redraw = false\n\t\t\t\t\t\troute.set(href, null, options)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn child\n\t\t},\n\t}\n\troute.param = function(key) {\n\t\treturn attrs && key != null ? attrs[key] : attrs\n\t}\n\n\treturn route\n}\n","\"use strict\"\n\nvar Vnode = require(\"../render/vnode\")\nvar hyperscriptVnode = require(\"./hyperscriptVnode\")\nvar hasOwn = require(\"../util/hasOwn\")\n\nvar selectorParser = /(?:(^|#|\\.)([^#\\.\\[\\]]+))|(\\[(.+?)(?:\\s*=\\s*(\"|'|)((?:\\\\[\"'\\]]|.)*?)\\5)?\\])/g\nvar selectorCache = {}\n\nfunction isEmpty(object) {\n\tfor (var key in object) if (hasOwn.call(object, key)) return false\n\treturn true\n}\n\nfunction compileSelector(selector) {\n\tvar match, tag = \"div\", classes = [], attrs = {}\n\twhile (match = selectorParser.exec(selector)) {\n\t\tvar type = match[1], value = match[2]\n\t\tif (type === \"\" && value !== \"\") tag = value\n\t\telse if (type === \"#\") attrs.id = value\n\t\telse if (type === \".\") classes.push(value)\n\t\telse if (match[3][0] === \"[\") {\n\t\t\tvar attrValue = match[6]\n\t\t\tif (attrValue) attrValue = attrValue.replace(/\\\\([\"'])/g, \"$1\").replace(/\\\\\\\\/g, \"\\\\\")\n\t\t\tif (match[4] === \"class\") classes.push(attrValue)\n\t\t\telse attrs[match[4]] = attrValue === \"\" ? attrValue : attrValue || true\n\t\t}\n\t}\n\tif (classes.length > 0) attrs.className = classes.join(\" \")\n\treturn selectorCache[selector] = {tag: tag, attrs: attrs}\n}\n\nfunction execSelector(state, vnode) {\n\tvar attrs = vnode.attrs\n\tvar hasClass = hasOwn.call(attrs, \"class\")\n\tvar className = hasClass ? attrs.class : attrs.className\n\n\tvnode.tag = state.tag\n\tvnode.attrs = {}\n\n\tif (!isEmpty(state.attrs) && !isEmpty(attrs)) {\n\t\tvar newAttrs = {}\n\n\t\tfor (var key in attrs) {\n\t\t\tif (hasOwn.call(attrs, key)) newAttrs[key] = attrs[key]\n\t\t}\n\n\t\tattrs = newAttrs\n\t}\n\n\tfor (var key in state.attrs) {\n\t\tif (hasOwn.call(state.attrs, key) && key !== \"className\" && !hasOwn.call(attrs, key)){\n\t\t\tattrs[key] = state.attrs[key]\n\t\t}\n\t}\n\tif (className != null || state.attrs.className != null) attrs.className =\n\t\tclassName != null\n\t\t\t? state.attrs.className != null\n\t\t\t\t? String(state.attrs.className) + \" \" + String(className)\n\t\t\t\t: className\n\t\t\t: state.attrs.className != null\n\t\t\t\t? state.attrs.className\n\t\t\t\t: null\n\n\tif (hasClass) attrs.class = null\n\n\tfor (var key in attrs) {\n\t\tif (hasOwn.call(attrs, key) && key !== \"key\") {\n\t\t\tvnode.attrs = attrs\n\t\t\tbreak\n\t\t}\n\t}\n\n\treturn vnode\n}\n\nfunction hyperscript(selector) {\n\tif (selector == null || typeof selector !== \"string\" && typeof selector !== \"function\" && typeof selector.view !== \"function\") {\n\t\tthrow Error(\"The selector must be either a string or a component.\");\n\t}\n\n\tvar vnode = hyperscriptVnode.apply(1, arguments)\n\n\tif (typeof selector === \"string\") {\n\t\tvnode.children = Vnode.normalizeChildren(vnode.children)\n\t\tif (selector !== \"[\") return execSelector(selectorCache[selector] || compileSelector(selector), vnode)\n\t}\n\n\tvnode.tag = selector\n\treturn vnode\n}\n\nmodule.exports = hyperscript\n","/* global window */\n\"use strict\"\n\nvar PromisePolyfill = require(\"./polyfill\")\n\nif (typeof window !== \"undefined\") {\n\tif (typeof window.Promise === \"undefined\") {\n\t\twindow.Promise = PromisePolyfill\n\t} else if (!window.Promise.prototype.finally) {\n\t\twindow.Promise.prototype.finally = PromisePolyfill.prototype.finally\n\t}\n\tmodule.exports = window.Promise\n} else if (typeof global !== \"undefined\") {\n\tif (typeof global.Promise === \"undefined\") {\n\t\tglobal.Promise = PromisePolyfill\n\t} else if (!global.Promise.prototype.finally) {\n\t\tglobal.Promise.prototype.finally = PromisePolyfill.prototype.finally\n\t}\n\tmodule.exports = global.Promise\n} else {\n\tmodule.exports = PromisePolyfill\n}\n","\"use strict\"\n\nvar parseQueryString = require(\"../querystring/parse\")\n\n// Returns `{path, params}` from `url`\nmodule.exports = function(url) {\n\tvar queryIndex = url.indexOf(\"?\")\n\tvar hashIndex = url.indexOf(\"#\")\n\tvar queryEnd = hashIndex < 0 ? url.length : hashIndex\n\tvar pathEnd = queryIndex < 0 ? queryEnd : queryIndex\n\tvar path = url.slice(0, pathEnd).replace(/\\/{2,}/g, \"/\")\n\n\tif (!path) path = \"/\"\n\telse {\n\t\tif (path[0] !== \"/\") path = \"/\" + path\n\t\tif (path.length > 1 && path[path.length - 1] === \"/\") path = path.slice(0, -1)\n\t}\n\treturn {\n\t\tpath: path,\n\t\tparams: queryIndex < 0\n\t\t\t? {}\n\t\t\t: parseQueryString(url.slice(queryIndex + 1, queryEnd)),\n\t}\n}\n","\"use strict\"\n\nfunction decodeURIComponentSave(str) {\n\ttry {\n\t\treturn decodeURIComponent(str)\n\t} catch(err) {\n\t\treturn str\n\t}\n}\n\nmodule.exports = function(string) {\n\tif (string === \"\" || string == null) return {}\n\tif (string.charAt(0) === \"?\") string = string.slice(1)\n\n\tvar entries = string.split(\"&\"), counters = {}, data = {}\n\tfor (var i = 0; i < entries.length; i++) {\n\t\tvar entry = entries[i].split(\"=\")\n\t\tvar key = decodeURIComponentSave(entry[0])\n\t\tvar value = entry.length === 2 ? decodeURIComponentSave(entry[1]) : \"\"\n\n\t\tif (value === \"true\") value = true\n\t\telse if (value === \"false\") value = false\n\n\t\tvar levels = key.split(/\\]\\[?|\\[/)\n\t\tvar cursor = data\n\t\tif (key.indexOf(\"[\") > -1) levels.pop()\n\t\tfor (var j = 0; j < levels.length; j++) {\n\t\t\tvar level = levels[j], nextLevel = levels[j + 1]\n\t\t\tvar isNumber = nextLevel == \"\" || !isNaN(parseInt(nextLevel, 10))\n\t\t\tif (level === \"\") {\n\t\t\t\tvar key = levels.slice(0, j).join()\n\t\t\t\tif (counters[key] == null) {\n\t\t\t\t\tcounters[key] = Array.isArray(cursor) ? cursor.length : 0\n\t\t\t\t}\n\t\t\t\tlevel = counters[key]++\n\t\t\t}\n\t\t\t// Disallow direct prototype pollution\n\t\t\telse if (level === \"__proto__\") break\n\t\t\tif (j === levels.length - 1) cursor[level] = value\n\t\t\telse {\n\t\t\t\t// Read own properties exclusively to disallow indirect\n\t\t\t\t// prototype pollution\n\t\t\t\tvar desc = Object.getOwnPropertyDescriptor(cursor, level)\n\t\t\t\tif (desc != null) desc = desc.value\n\t\t\t\tif (desc == null) cursor[level] = desc = isNumber ? [] : {}\n\t\t\t\tcursor = desc\n\t\t\t}\n\t\t}\n\t}\n\treturn data\n}\n","\"use strict\"\n\nvar parsePathname = require(\"./parse\")\n\n// Compiles a template into a function that takes a resolved path (without query\n// strings) and returns an object containing the template parameters with their\n// parsed values. This expects the input of the compiled template to be the\n// output of `parsePathname`. Note that it does *not* remove query parameters\n// specified in the template.\nmodule.exports = function(template) {\n\tvar templateData = parsePathname(template)\n\tvar templateKeys = Object.keys(templateData.params)\n\tvar keys = []\n\tvar regexp = new RegExp(\"^\" + templateData.path.replace(\n\t\t// I escape literal text so people can use things like `:file.:ext` or\n\t\t// `:lang-:locale` in routes. This is all merged into one pass so I\n\t\t// don't also accidentally escape `-` and make it harder to detect it to\n\t\t// ban it from template parameters.\n\t\t/:([^\\/.-]+)(\\.{3}|\\.(?!\\.)|-)?|[\\\\^$*+.()|\\[\\]{}]/g,\n\t\tfunction(m, key, extra) {\n\t\t\tif (key == null) return \"\\\\\" + m\n\t\t\tkeys.push({k: key, r: extra === \"...\"})\n\t\t\tif (extra === \"...\") return \"(.*)\"\n\t\t\tif (extra === \".\") return \"([^/]+)\\\\.\"\n\t\t\treturn \"([^/]+)\" + (extra || \"\")\n\t\t}\n\t) + \"$\")\n\treturn function(data) {\n\t\t// First, check the params. Usually, there isn't any, and it's just\n\t\t// checking a static set.\n\t\tfor (var i = 0; i < templateKeys.length; i++) {\n\t\t\tif (templateData.params[templateKeys[i]] !== data.params[templateKeys[i]]) return false\n\t\t}\n\t\t// If no interpolations exist, let's skip all the ceremony\n\t\tif (!keys.length) return regexp.test(data.path)\n\t\tvar values = regexp.exec(data.path)\n\t\tif (values == null) return false\n\t\tfor (var i = 0; i < keys.length; i++) {\n\t\t\tdata.params[keys[i].k] = keys[i].r ? values[i + 1] : decodeURIComponent(values[i + 1])\n\t\t}\n\t\treturn true\n\t}\n}\n","\"use strict\"\n\n// Note: this is mildly perf-sensitive.\n//\n// It does *not* use `delete` - dynamic `delete`s usually cause objects to bail\n// out into dictionary mode and just generally cause a bunch of optimization\n// issues within engines.\n//\n// Ideally, I would've preferred to do this, if it weren't for the optimization\n// issues:\n//\n// ```js\n// const hasOwn = require(\"./hasOwn\")\n// const magic = [\n//     \"key\", \"oninit\", \"oncreate\", \"onbeforeupdate\", \"onupdate\",\n//     \"onbeforeremove\", \"onremove\",\n// ]\n// module.exports = (attrs, extras) => {\n//     const result = Object.assign(Object.create(null), attrs)\n//     for (const key of magic) delete result[key]\n//     if (extras != null) for (const key of extras) delete result[key]\n//     return result\n// }\n// ```\n\nvar hasOwn = require(\"./hasOwn\")\n// Words in RegExp literals are sometimes mangled incorrectly by the internal bundler, so use RegExp().\nvar magic = new RegExp(\"^(?:key|oninit|oncreate|onbeforeupdate|onupdate|onbeforeremove|onremove)$\")\n\nmodule.exports = function(attrs, extras) {\n\tvar result = {}\n\n\tif (extras != null) {\n\t\tfor (var key in attrs) {\n\t\t\tif (hasOwn.call(attrs, key) && !magic.test(key) && extras.indexOf(key) < 0) {\n\t\t\t\tresult[key] = attrs[key]\n\t\t\t}\n\t\t}\n\t} else {\n\t\tfor (var key in attrs) {\n\t\t\tif (hasOwn.call(attrs, key) && !magic.test(key)) {\n\t\t\t\tresult[key] = attrs[key]\n\t\t\t}\n\t\t}\n\t}\n\n\treturn result\n}\n","//! moment.js\n//! version : 2.29.3\n//! authors : Tim Wood, Iskren Chernev, Moment.js contributors\n//! license : MIT\n//! momentjs.com\n\n;(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n    typeof define === 'function' && define.amd ? define(factory) :\n    global.moment = factory()\n}(this, (function () { 'use strict';\n\n    var hookCallback;\n\n    function hooks() {\n        return hookCallback.apply(null, arguments);\n    }\n\n    // This is done to register the method called with moment()\n    // without creating circular dependencies.\n    function setHookCallback(callback) {\n        hookCallback = callback;\n    }\n\n    function isArray(input) {\n        return (\n            input instanceof Array ||\n            Object.prototype.toString.call(input) === '[object Array]'\n        );\n    }\n\n    function isObject(input) {\n        // IE8 will treat undefined and null as object if it wasn't for\n        // input != null\n        return (\n            input != null &&\n            Object.prototype.toString.call(input) === '[object Object]'\n        );\n    }\n\n    function hasOwnProp(a, b) {\n        return Object.prototype.hasOwnProperty.call(a, b);\n    }\n\n    function isObjectEmpty(obj) {\n        if (Object.getOwnPropertyNames) {\n            return Object.getOwnPropertyNames(obj).length === 0;\n        } else {\n            var k;\n            for (k in obj) {\n                if (hasOwnProp(obj, k)) {\n                    return false;\n                }\n            }\n            return true;\n        }\n    }\n\n    function isUndefined(input) {\n        return input === void 0;\n    }\n\n    function isNumber(input) {\n        return (\n            typeof input === 'number' ||\n            Object.prototype.toString.call(input) === '[object Number]'\n        );\n    }\n\n    function isDate(input) {\n        return (\n            input instanceof Date ||\n            Object.prototype.toString.call(input) === '[object Date]'\n        );\n    }\n\n    function map(arr, fn) {\n        var res = [],\n            i,\n            arrLen = arr.length;\n        for (i = 0; i < arrLen; ++i) {\n            res.push(fn(arr[i], i));\n        }\n        return res;\n    }\n\n    function extend(a, b) {\n        for (var i in b) {\n            if (hasOwnProp(b, i)) {\n                a[i] = b[i];\n            }\n        }\n\n        if (hasOwnProp(b, 'toString')) {\n            a.toString = b.toString;\n        }\n\n        if (hasOwnProp(b, 'valueOf')) {\n            a.valueOf = b.valueOf;\n        }\n\n        return a;\n    }\n\n    function createUTC(input, format, locale, strict) {\n        return createLocalOrUTC(input, format, locale, strict, true).utc();\n    }\n\n    function defaultParsingFlags() {\n        // We need to deep clone this object.\n        return {\n            empty: false,\n            unusedTokens: [],\n            unusedInput: [],\n            overflow: -2,\n            charsLeftOver: 0,\n            nullInput: false,\n            invalidEra: null,\n            invalidMonth: null,\n            invalidFormat: false,\n            userInvalidated: false,\n            iso: false,\n            parsedDateParts: [],\n            era: null,\n            meridiem: null,\n            rfc2822: false,\n            weekdayMismatch: false,\n        };\n    }\n\n    function getParsingFlags(m) {\n        if (m._pf == null) {\n            m._pf = defaultParsingFlags();\n        }\n        return m._pf;\n    }\n\n    var some;\n    if (Array.prototype.some) {\n        some = Array.prototype.some;\n    } else {\n        some = function (fun) {\n            var t = Object(this),\n                len = t.length >>> 0,\n                i;\n\n            for (i = 0; i < len; i++) {\n                if (i in t && fun.call(this, t[i], i, t)) {\n                    return true;\n                }\n            }\n\n            return false;\n        };\n    }\n\n    function isValid(m) {\n        if (m._isValid == null) {\n            var flags = getParsingFlags(m),\n                parsedParts = some.call(flags.parsedDateParts, function (i) {\n                    return i != null;\n                }),\n                isNowValid =\n                    !isNaN(m._d.getTime()) &&\n                    flags.overflow < 0 &&\n                    !flags.empty &&\n                    !flags.invalidEra &&\n                    !flags.invalidMonth &&\n                    !flags.invalidWeekday &&\n                    !flags.weekdayMismatch &&\n                    !flags.nullInput &&\n                    !flags.invalidFormat &&\n                    !flags.userInvalidated &&\n                    (!flags.meridiem || (flags.meridiem && parsedParts));\n\n            if (m._strict) {\n                isNowValid =\n                    isNowValid &&\n                    flags.charsLeftOver === 0 &&\n                    flags.unusedTokens.length === 0 &&\n                    flags.bigHour === undefined;\n            }\n\n            if (Object.isFrozen == null || !Object.isFrozen(m)) {\n                m._isValid = isNowValid;\n            } else {\n                return isNowValid;\n            }\n        }\n        return m._isValid;\n    }\n\n    function createInvalid(flags) {\n        var m = createUTC(NaN);\n        if (flags != null) {\n            extend(getParsingFlags(m), flags);\n        } else {\n            getParsingFlags(m).userInvalidated = true;\n        }\n\n        return m;\n    }\n\n    // Plugins that add properties should also add the key here (null value),\n    // so we can properly clone ourselves.\n    var momentProperties = (hooks.momentProperties = []),\n        updateInProgress = false;\n\n    function copyConfig(to, from) {\n        var i,\n            prop,\n            val,\n            momentPropertiesLen = momentProperties.length;\n\n        if (!isUndefined(from._isAMomentObject)) {\n            to._isAMomentObject = from._isAMomentObject;\n        }\n        if (!isUndefined(from._i)) {\n            to._i = from._i;\n        }\n        if (!isUndefined(from._f)) {\n            to._f = from._f;\n        }\n        if (!isUndefined(from._l)) {\n            to._l = from._l;\n        }\n        if (!isUndefined(from._strict)) {\n            to._strict = from._strict;\n        }\n        if (!isUndefined(from._tzm)) {\n            to._tzm = from._tzm;\n        }\n        if (!isUndefined(from._isUTC)) {\n            to._isUTC = from._isUTC;\n        }\n        if (!isUndefined(from._offset)) {\n            to._offset = from._offset;\n        }\n        if (!isUndefined(from._pf)) {\n            to._pf = getParsingFlags(from);\n        }\n        if (!isUndefined(from._locale)) {\n            to._locale = from._locale;\n        }\n\n        if (momentPropertiesLen > 0) {\n            for (i = 0; i < momentPropertiesLen; i++) {\n                prop = momentProperties[i];\n                val = from[prop];\n                if (!isUndefined(val)) {\n                    to[prop] = val;\n                }\n            }\n        }\n\n        return to;\n    }\n\n    // Moment prototype object\n    function Moment(config) {\n        copyConfig(this, config);\n        this._d = new Date(config._d != null ? config._d.getTime() : NaN);\n        if (!this.isValid()) {\n            this._d = new Date(NaN);\n        }\n        // Prevent infinite loop in case updateOffset creates new moment\n        // objects.\n        if (updateInProgress === false) {\n            updateInProgress = true;\n            hooks.updateOffset(this);\n            updateInProgress = false;\n        }\n    }\n\n    function isMoment(obj) {\n        return (\n            obj instanceof Moment || (obj != null && obj._isAMomentObject != null)\n        );\n    }\n\n    function warn(msg) {\n        if (\n            hooks.suppressDeprecationWarnings === false &&\n            typeof console !== 'undefined' &&\n            console.warn\n        ) {\n            console.warn('Deprecation warning: ' + msg);\n        }\n    }\n\n    function deprecate(msg, fn) {\n        var firstTime = true;\n\n        return extend(function () {\n            if (hooks.deprecationHandler != null) {\n                hooks.deprecationHandler(null, msg);\n            }\n            if (firstTime) {\n                var args = [],\n                    arg,\n                    i,\n                    key,\n                    argLen = arguments.length;\n                for (i = 0; i < argLen; i++) {\n                    arg = '';\n                    if (typeof arguments[i] === 'object') {\n                        arg += '\\n[' + i + '] ';\n                        for (key in arguments[0]) {\n                            if (hasOwnProp(arguments[0], key)) {\n                                arg += key + ': ' + arguments[0][key] + ', ';\n                            }\n                        }\n                        arg = arg.slice(0, -2); // Remove trailing comma and space\n                    } else {\n                        arg = arguments[i];\n                    }\n                    args.push(arg);\n                }\n                warn(\n                    msg +\n                        '\\nArguments: ' +\n                        Array.prototype.slice.call(args).join('') +\n                        '\\n' +\n                        new Error().stack\n                );\n                firstTime = false;\n            }\n            return fn.apply(this, arguments);\n        }, fn);\n    }\n\n    var deprecations = {};\n\n    function deprecateSimple(name, msg) {\n        if (hooks.deprecationHandler != null) {\n            hooks.deprecationHandler(name, msg);\n        }\n        if (!deprecations[name]) {\n            warn(msg);\n            deprecations[name] = true;\n        }\n    }\n\n    hooks.suppressDeprecationWarnings = false;\n    hooks.deprecationHandler = null;\n\n    function isFunction(input) {\n        return (\n            (typeof Function !== 'undefined' && input instanceof Function) ||\n            Object.prototype.toString.call(input) === '[object Function]'\n        );\n    }\n\n    function set(config) {\n        var prop, i;\n        for (i in config) {\n            if (hasOwnProp(config, i)) {\n                prop = config[i];\n                if (isFunction(prop)) {\n                    this[i] = prop;\n                } else {\n                    this['_' + i] = prop;\n                }\n            }\n        }\n        this._config = config;\n        // Lenient ordinal parsing accepts just a number in addition to\n        // number + (possibly) stuff coming from _dayOfMonthOrdinalParse.\n        // TODO: Remove \"ordinalParse\" fallback in next major release.\n        this._dayOfMonthOrdinalParseLenient = new RegExp(\n            (this._dayOfMonthOrdinalParse.source || this._ordinalParse.source) +\n                '|' +\n                /\\d{1,2}/.source\n        );\n    }\n\n    function mergeConfigs(parentConfig, childConfig) {\n        var res = extend({}, parentConfig),\n            prop;\n        for (prop in childConfig) {\n            if (hasOwnProp(childConfig, prop)) {\n                if (isObject(parentConfig[prop]) && isObject(childConfig[prop])) {\n                    res[prop] = {};\n                    extend(res[prop], parentConfig[prop]);\n                    extend(res[prop], childConfig[prop]);\n                } else if (childConfig[prop] != null) {\n                    res[prop] = childConfig[prop];\n                } else {\n                    delete res[prop];\n                }\n            }\n        }\n        for (prop in parentConfig) {\n            if (\n                hasOwnProp(parentConfig, prop) &&\n                !hasOwnProp(childConfig, prop) &&\n                isObject(parentConfig[prop])\n            ) {\n                // make sure changes to properties don't modify parent config\n                res[prop] = extend({}, res[prop]);\n            }\n        }\n        return res;\n    }\n\n    function Locale(config) {\n        if (config != null) {\n            this.set(config);\n        }\n    }\n\n    var keys;\n\n    if (Object.keys) {\n        keys = Object.keys;\n    } else {\n        keys = function (obj) {\n            var i,\n                res = [];\n            for (i in obj) {\n                if (hasOwnProp(obj, i)) {\n                    res.push(i);\n                }\n            }\n            return res;\n        };\n    }\n\n    var defaultCalendar = {\n        sameDay: '[Today at] LT',\n        nextDay: '[Tomorrow at] LT',\n        nextWeek: 'dddd [at] LT',\n        lastDay: '[Yesterday at] LT',\n        lastWeek: '[Last] dddd [at] LT',\n        sameElse: 'L',\n    };\n\n    function calendar(key, mom, now) {\n        var output = this._calendar[key] || this._calendar['sameElse'];\n        return isFunction(output) ? output.call(mom, now) : output;\n    }\n\n    function zeroFill(number, targetLength, forceSign) {\n        var absNumber = '' + Math.abs(number),\n            zerosToFill = targetLength - absNumber.length,\n            sign = number >= 0;\n        return (\n            (sign ? (forceSign ? '+' : '') : '-') +\n            Math.pow(10, Math.max(0, zerosToFill)).toString().substr(1) +\n            absNumber\n        );\n    }\n\n    var formattingTokens =\n            /(\\[[^\\[]*\\])|(\\\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,\n        localFormattingTokens = /(\\[[^\\[]*\\])|(\\\\)?(LTS|LT|LL?L?L?|l{1,4})/g,\n        formatFunctions = {},\n        formatTokenFunctions = {};\n\n    // token:    'M'\n    // padded:   ['MM', 2]\n    // ordinal:  'Mo'\n    // callback: function () { this.month() + 1 }\n    function addFormatToken(token, padded, ordinal, callback) {\n        var func = callback;\n        if (typeof callback === 'string') {\n            func = function () {\n                return this[callback]();\n            };\n        }\n        if (token) {\n            formatTokenFunctions[token] = func;\n        }\n        if (padded) {\n            formatTokenFunctions[padded[0]] = function () {\n                return zeroFill(func.apply(this, arguments), padded[1], padded[2]);\n            };\n        }\n        if (ordinal) {\n            formatTokenFunctions[ordinal] = function () {\n                return this.localeData().ordinal(\n                    func.apply(this, arguments),\n                    token\n                );\n            };\n        }\n    }\n\n    function removeFormattingTokens(input) {\n        if (input.match(/\\[[\\s\\S]/)) {\n            return input.replace(/^\\[|\\]$/g, '');\n        }\n        return input.replace(/\\\\/g, '');\n    }\n\n    function makeFormatFunction(format) {\n        var array = format.match(formattingTokens),\n            i,\n            length;\n\n        for (i = 0, length = array.length; i < length; i++) {\n            if (formatTokenFunctions[array[i]]) {\n                array[i] = formatTokenFunctions[array[i]];\n            } else {\n                array[i] = removeFormattingTokens(array[i]);\n            }\n        }\n\n        return function (mom) {\n            var output = '',\n                i;\n            for (i = 0; i < length; i++) {\n                output += isFunction(array[i])\n                    ? array[i].call(mom, format)\n                    : array[i];\n            }\n            return output;\n        };\n    }\n\n    // format date using native date object\n    function formatMoment(m, format) {\n        if (!m.isValid()) {\n            return m.localeData().invalidDate();\n        }\n\n        format = expandFormat(format, m.localeData());\n        formatFunctions[format] =\n            formatFunctions[format] || makeFormatFunction(format);\n\n        return formatFunctions[format](m);\n    }\n\n    function expandFormat(format, locale) {\n        var i = 5;\n\n        function replaceLongDateFormatTokens(input) {\n            return locale.longDateFormat(input) || input;\n        }\n\n        localFormattingTokens.lastIndex = 0;\n        while (i >= 0 && localFormattingTokens.test(format)) {\n            format = format.replace(\n                localFormattingTokens,\n                replaceLongDateFormatTokens\n            );\n            localFormattingTokens.lastIndex = 0;\n            i -= 1;\n        }\n\n        return format;\n    }\n\n    var defaultLongDateFormat = {\n        LTS: 'h:mm:ss A',\n        LT: 'h:mm A',\n        L: 'MM/DD/YYYY',\n        LL: 'MMMM D, YYYY',\n        LLL: 'MMMM D, YYYY h:mm A',\n        LLLL: 'dddd, MMMM D, YYYY h:mm A',\n    };\n\n    function longDateFormat(key) {\n        var format = this._longDateFormat[key],\n            formatUpper = this._longDateFormat[key.toUpperCase()];\n\n        if (format || !formatUpper) {\n            return format;\n        }\n\n        this._longDateFormat[key] = formatUpper\n            .match(formattingTokens)\n            .map(function (tok) {\n                if (\n                    tok === 'MMMM' ||\n                    tok === 'MM' ||\n                    tok === 'DD' ||\n                    tok === 'dddd'\n                ) {\n                    return tok.slice(1);\n                }\n                return tok;\n            })\n            .join('');\n\n        return this._longDateFormat[key];\n    }\n\n    var defaultInvalidDate = 'Invalid date';\n\n    function invalidDate() {\n        return this._invalidDate;\n    }\n\n    var defaultOrdinal = '%d',\n        defaultDayOfMonthOrdinalParse = /\\d{1,2}/;\n\n    function ordinal(number) {\n        return this._ordinal.replace('%d', number);\n    }\n\n    var defaultRelativeTime = {\n        future: 'in %s',\n        past: '%s ago',\n        s: 'a few seconds',\n        ss: '%d seconds',\n        m: 'a minute',\n        mm: '%d minutes',\n        h: 'an hour',\n        hh: '%d hours',\n        d: 'a day',\n        dd: '%d days',\n        w: 'a week',\n        ww: '%d weeks',\n        M: 'a month',\n        MM: '%d months',\n        y: 'a year',\n        yy: '%d years',\n    };\n\n    function relativeTime(number, withoutSuffix, string, isFuture) {\n        var output = this._relativeTime[string];\n        return isFunction(output)\n            ? output(number, withoutSuffix, string, isFuture)\n            : output.replace(/%d/i, number);\n    }\n\n    function pastFuture(diff, output) {\n        var format = this._relativeTime[diff > 0 ? 'future' : 'past'];\n        return isFunction(format) ? format(output) : format.replace(/%s/i, output);\n    }\n\n    var aliases = {};\n\n    function addUnitAlias(unit, shorthand) {\n        var lowerCase = unit.toLowerCase();\n        aliases[lowerCase] = aliases[lowerCase + 's'] = aliases[shorthand] = unit;\n    }\n\n    function normalizeUnits(units) {\n        return typeof units === 'string'\n            ? aliases[units] || aliases[units.toLowerCase()]\n            : undefined;\n    }\n\n    function normalizeObjectUnits(inputObject) {\n        var normalizedInput = {},\n            normalizedProp,\n            prop;\n\n        for (prop in inputObject) {\n            if (hasOwnProp(inputObject, prop)) {\n                normalizedProp = normalizeUnits(prop);\n                if (normalizedProp) {\n                    normalizedInput[normalizedProp] = inputObject[prop];\n                }\n            }\n        }\n\n        return normalizedInput;\n    }\n\n    var priorities = {};\n\n    function addUnitPriority(unit, priority) {\n        priorities[unit] = priority;\n    }\n\n    function getPrioritizedUnits(unitsObj) {\n        var units = [],\n            u;\n        for (u in unitsObj) {\n            if (hasOwnProp(unitsObj, u)) {\n                units.push({ unit: u, priority: priorities[u] });\n            }\n        }\n        units.sort(function (a, b) {\n            return a.priority - b.priority;\n        });\n        return units;\n    }\n\n    function isLeapYear(year) {\n        return (year % 4 === 0 && year % 100 !== 0) || year % 400 === 0;\n    }\n\n    function absFloor(number) {\n        if (number < 0) {\n            // -0 -> 0\n            return Math.ceil(number) || 0;\n        } else {\n            return Math.floor(number);\n        }\n    }\n\n    function toInt(argumentForCoercion) {\n        var coercedNumber = +argumentForCoercion,\n            value = 0;\n\n        if (coercedNumber !== 0 && isFinite(coercedNumber)) {\n            value = absFloor(coercedNumber);\n        }\n\n        return value;\n    }\n\n    function makeGetSet(unit, keepTime) {\n        return function (value) {\n            if (value != null) {\n                set$1(this, unit, value);\n                hooks.updateOffset(this, keepTime);\n                return this;\n            } else {\n                return get(this, unit);\n            }\n        };\n    }\n\n    function get(mom, unit) {\n        return mom.isValid()\n            ? mom._d['get' + (mom._isUTC ? 'UTC' : '') + unit]()\n            : NaN;\n    }\n\n    function set$1(mom, unit, value) {\n        if (mom.isValid() && !isNaN(value)) {\n            if (\n                unit === 'FullYear' &&\n                isLeapYear(mom.year()) &&\n                mom.month() === 1 &&\n                mom.date() === 29\n            ) {\n                value = toInt(value);\n                mom._d['set' + (mom._isUTC ? 'UTC' : '') + unit](\n                    value,\n                    mom.month(),\n                    daysInMonth(value, mom.month())\n                );\n            } else {\n                mom._d['set' + (mom._isUTC ? 'UTC' : '') + unit](value);\n            }\n        }\n    }\n\n    // MOMENTS\n\n    function stringGet(units) {\n        units = normalizeUnits(units);\n        if (isFunction(this[units])) {\n            return this[units]();\n        }\n        return this;\n    }\n\n    function stringSet(units, value) {\n        if (typeof units === 'object') {\n            units = normalizeObjectUnits(units);\n            var prioritized = getPrioritizedUnits(units),\n                i,\n                prioritizedLen = prioritized.length;\n            for (i = 0; i < prioritizedLen; i++) {\n                this[prioritized[i].unit](units[prioritized[i].unit]);\n            }\n        } else {\n            units = normalizeUnits(units);\n            if (isFunction(this[units])) {\n                return this[units](value);\n            }\n        }\n        return this;\n    }\n\n    var match1 = /\\d/, //       0 - 9\n        match2 = /\\d\\d/, //      00 - 99\n        match3 = /\\d{3}/, //     000 - 999\n        match4 = /\\d{4}/, //    0000 - 9999\n        match6 = /[+-]?\\d{6}/, // -999999 - 999999\n        match1to2 = /\\d\\d?/, //       0 - 99\n        match3to4 = /\\d\\d\\d\\d?/, //     999 - 9999\n        match5to6 = /\\d\\d\\d\\d\\d\\d?/, //   99999 - 999999\n        match1to3 = /\\d{1,3}/, //       0 - 999\n        match1to4 = /\\d{1,4}/, //       0 - 9999\n        match1to6 = /[+-]?\\d{1,6}/, // -999999 - 999999\n        matchUnsigned = /\\d+/, //       0 - inf\n        matchSigned = /[+-]?\\d+/, //    -inf - inf\n        matchOffset = /Z|[+-]\\d\\d:?\\d\\d/gi, // +00:00 -00:00 +0000 -0000 or Z\n        matchShortOffset = /Z|[+-]\\d\\d(?::?\\d\\d)?/gi, // +00 -00 +00:00 -00:00 +0000 -0000 or Z\n        matchTimestamp = /[+-]?\\d+(\\.\\d{1,3})?/, // 123456789 123456789.123\n        // any word (or two) characters or numbers including two/three word month in arabic.\n        // includes scottish gaelic two word and hyphenated months\n        matchWord =\n            /[0-9]{0,256}['a-z\\u00A0-\\u05FF\\u0700-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFF07\\uFF10-\\uFFEF]{1,256}|[\\u0600-\\u06FF\\/]{1,256}(\\s*?[\\u0600-\\u06FF]{1,256}){1,2}/i,\n        regexes;\n\n    regexes = {};\n\n    function addRegexToken(token, regex, strictRegex) {\n        regexes[token] = isFunction(regex)\n            ? regex\n            : function (isStrict, localeData) {\n                  return isStrict && strictRegex ? strictRegex : regex;\n              };\n    }\n\n    function getParseRegexForToken(token, config) {\n        if (!hasOwnProp(regexes, token)) {\n            return new RegExp(unescapeFormat(token));\n        }\n\n        return regexes[token](config._strict, config._locale);\n    }\n\n    // Code from http://stackoverflow.com/questions/3561493/is-there-a-regexp-escape-function-in-javascript\n    function unescapeFormat(s) {\n        return regexEscape(\n            s\n                .replace('\\\\', '')\n                .replace(\n                    /\\\\(\\[)|\\\\(\\])|\\[([^\\]\\[]*)\\]|\\\\(.)/g,\n                    function (matched, p1, p2, p3, p4) {\n                        return p1 || p2 || p3 || p4;\n                    }\n                )\n        );\n    }\n\n    function regexEscape(s) {\n        return s.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&');\n    }\n\n    var tokens = {};\n\n    function addParseToken(token, callback) {\n        var i,\n            func = callback,\n            tokenLen;\n        if (typeof token === 'string') {\n            token = [token];\n        }\n        if (isNumber(callback)) {\n            func = function (input, array) {\n                array[callback] = toInt(input);\n            };\n        }\n        tokenLen = token.length;\n        for (i = 0; i < tokenLen; i++) {\n            tokens[token[i]] = func;\n        }\n    }\n\n    function addWeekParseToken(token, callback) {\n        addParseToken(token, function (input, array, config, token) {\n            config._w = config._w || {};\n            callback(input, config._w, config, token);\n        });\n    }\n\n    function addTimeToArrayFromToken(token, input, config) {\n        if (input != null && hasOwnProp(tokens, token)) {\n            tokens[token](input, config._a, config, token);\n        }\n    }\n\n    var YEAR = 0,\n        MONTH = 1,\n        DATE = 2,\n        HOUR = 3,\n        MINUTE = 4,\n        SECOND = 5,\n        MILLISECOND = 6,\n        WEEK = 7,\n        WEEKDAY = 8;\n\n    function mod(n, x) {\n        return ((n % x) + x) % x;\n    }\n\n    var indexOf;\n\n    if (Array.prototype.indexOf) {\n        indexOf = Array.prototype.indexOf;\n    } else {\n        indexOf = function (o) {\n            // I know\n            var i;\n            for (i = 0; i < this.length; ++i) {\n                if (this[i] === o) {\n                    return i;\n                }\n            }\n            return -1;\n        };\n    }\n\n    function daysInMonth(year, month) {\n        if (isNaN(year) || isNaN(month)) {\n            return NaN;\n        }\n        var modMonth = mod(month, 12);\n        year += (month - modMonth) / 12;\n        return modMonth === 1\n            ? isLeapYear(year)\n                ? 29\n                : 28\n            : 31 - ((modMonth % 7) % 2);\n    }\n\n    // FORMATTING\n\n    addFormatToken('M', ['MM', 2], 'Mo', function () {\n        return this.month() + 1;\n    });\n\n    addFormatToken('MMM', 0, 0, function (format) {\n        return this.localeData().monthsShort(this, format);\n    });\n\n    addFormatToken('MMMM', 0, 0, function (format) {\n        return this.localeData().months(this, format);\n    });\n\n    // ALIASES\n\n    addUnitAlias('month', 'M');\n\n    // PRIORITY\n\n    addUnitPriority('month', 8);\n\n    // PARSING\n\n    addRegexToken('M', match1to2);\n    addRegexToken('MM', match1to2, match2);\n    addRegexToken('MMM', function (isStrict, locale) {\n        return locale.monthsShortRegex(isStrict);\n    });\n    addRegexToken('MMMM', function (isStrict, locale) {\n        return locale.monthsRegex(isStrict);\n    });\n\n    addParseToken(['M', 'MM'], function (input, array) {\n        array[MONTH] = toInt(input) - 1;\n    });\n\n    addParseToken(['MMM', 'MMMM'], function (input, array, config, token) {\n        var month = config._locale.monthsParse(input, token, config._strict);\n        // if we didn't find a month name, mark the date as invalid.\n        if (month != null) {\n            array[MONTH] = month;\n        } else {\n            getParsingFlags(config).invalidMonth = input;\n        }\n    });\n\n    // LOCALES\n\n    var defaultLocaleMonths =\n            'January_February_March_April_May_June_July_August_September_October_November_December'.split(\n                '_'\n            ),\n        defaultLocaleMonthsShort =\n            'Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec'.split('_'),\n        MONTHS_IN_FORMAT = /D[oD]?(\\[[^\\[\\]]*\\]|\\s)+MMMM?/,\n        defaultMonthsShortRegex = matchWord,\n        defaultMonthsRegex = matchWord;\n\n    function localeMonths(m, format) {\n        if (!m) {\n            return isArray(this._months)\n                ? this._months\n                : this._months['standalone'];\n        }\n        return isArray(this._months)\n            ? this._months[m.month()]\n            : this._months[\n                  (this._months.isFormat || MONTHS_IN_FORMAT).test(format)\n                      ? 'format'\n                      : 'standalone'\n              ][m.month()];\n    }\n\n    function localeMonthsShort(m, format) {\n        if (!m) {\n            return isArray(this._monthsShort)\n                ? this._monthsShort\n                : this._monthsShort['standalone'];\n        }\n        return isArray(this._monthsShort)\n            ? this._monthsShort[m.month()]\n            : this._monthsShort[\n                  MONTHS_IN_FORMAT.test(format) ? 'format' : 'standalone'\n              ][m.month()];\n    }\n\n    function handleStrictParse(monthName, format, strict) {\n        var i,\n            ii,\n            mom,\n            llc = monthName.toLocaleLowerCase();\n        if (!this._monthsParse) {\n            // this is not used\n            this._monthsParse = [];\n            this._longMonthsParse = [];\n            this._shortMonthsParse = [];\n            for (i = 0; i < 12; ++i) {\n                mom = createUTC([2000, i]);\n                this._shortMonthsParse[i] = this.monthsShort(\n                    mom,\n                    ''\n                ).toLocaleLowerCase();\n                this._longMonthsParse[i] = this.months(mom, '').toLocaleLowerCase();\n            }\n        }\n\n        if (strict) {\n            if (format === 'MMM') {\n                ii = indexOf.call(this._shortMonthsParse, llc);\n                return ii !== -1 ? ii : null;\n            } else {\n                ii = indexOf.call(this._longMonthsParse, llc);\n                return ii !== -1 ? ii : null;\n            }\n        } else {\n            if (format === 'MMM') {\n                ii = indexOf.call(this._shortMonthsParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._longMonthsParse, llc);\n                return ii !== -1 ? ii : null;\n            } else {\n                ii = indexOf.call(this._longMonthsParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._shortMonthsParse, llc);\n                return ii !== -1 ? ii : null;\n            }\n        }\n    }\n\n    function localeMonthsParse(monthName, format, strict) {\n        var i, mom, regex;\n\n        if (this._monthsParseExact) {\n            return handleStrictParse.call(this, monthName, format, strict);\n        }\n\n        if (!this._monthsParse) {\n            this._monthsParse = [];\n            this._longMonthsParse = [];\n            this._shortMonthsParse = [];\n        }\n\n        // TODO: add sorting\n        // Sorting makes sure if one month (or abbr) is a prefix of another\n        // see sorting in computeMonthsParse\n        for (i = 0; i < 12; i++) {\n            // make the regex if we don't have it already\n            mom = createUTC([2000, i]);\n            if (strict && !this._longMonthsParse[i]) {\n                this._longMonthsParse[i] = new RegExp(\n                    '^' + this.months(mom, '').replace('.', '') + '$',\n                    'i'\n                );\n                this._shortMonthsParse[i] = new RegExp(\n                    '^' + this.monthsShort(mom, '').replace('.', '') + '$',\n                    'i'\n                );\n            }\n            if (!strict && !this._monthsParse[i]) {\n                regex =\n                    '^' + this.months(mom, '') + '|^' + this.monthsShort(mom, '');\n                this._monthsParse[i] = new RegExp(regex.replace('.', ''), 'i');\n            }\n            // test the regex\n            if (\n                strict &&\n                format === 'MMMM' &&\n                this._longMonthsParse[i].test(monthName)\n            ) {\n                return i;\n            } else if (\n                strict &&\n                format === 'MMM' &&\n                this._shortMonthsParse[i].test(monthName)\n            ) {\n                return i;\n            } else if (!strict && this._monthsParse[i].test(monthName)) {\n                return i;\n            }\n        }\n    }\n\n    // MOMENTS\n\n    function setMonth(mom, value) {\n        var dayOfMonth;\n\n        if (!mom.isValid()) {\n            // No op\n            return mom;\n        }\n\n        if (typeof value === 'string') {\n            if (/^\\d+$/.test(value)) {\n                value = toInt(value);\n            } else {\n                value = mom.localeData().monthsParse(value);\n                // TODO: Another silent failure?\n                if (!isNumber(value)) {\n                    return mom;\n                }\n            }\n        }\n\n        dayOfMonth = Math.min(mom.date(), daysInMonth(mom.year(), value));\n        mom._d['set' + (mom._isUTC ? 'UTC' : '') + 'Month'](value, dayOfMonth);\n        return mom;\n    }\n\n    function getSetMonth(value) {\n        if (value != null) {\n            setMonth(this, value);\n            hooks.updateOffset(this, true);\n            return this;\n        } else {\n            return get(this, 'Month');\n        }\n    }\n\n    function getDaysInMonth() {\n        return daysInMonth(this.year(), this.month());\n    }\n\n    function monthsShortRegex(isStrict) {\n        if (this._monthsParseExact) {\n            if (!hasOwnProp(this, '_monthsRegex')) {\n                computeMonthsParse.call(this);\n            }\n            if (isStrict) {\n                return this._monthsShortStrictRegex;\n            } else {\n                return this._monthsShortRegex;\n            }\n        } else {\n            if (!hasOwnProp(this, '_monthsShortRegex')) {\n                this._monthsShortRegex = defaultMonthsShortRegex;\n            }\n            return this._monthsShortStrictRegex && isStrict\n                ? this._monthsShortStrictRegex\n                : this._monthsShortRegex;\n        }\n    }\n\n    function monthsRegex(isStrict) {\n        if (this._monthsParseExact) {\n            if (!hasOwnProp(this, '_monthsRegex')) {\n                computeMonthsParse.call(this);\n            }\n            if (isStrict) {\n                return this._monthsStrictRegex;\n            } else {\n                return this._monthsRegex;\n            }\n        } else {\n            if (!hasOwnProp(this, '_monthsRegex')) {\n                this._monthsRegex = defaultMonthsRegex;\n            }\n            return this._monthsStrictRegex && isStrict\n                ? this._monthsStrictRegex\n                : this._monthsRegex;\n        }\n    }\n\n    function computeMonthsParse() {\n        function cmpLenRev(a, b) {\n            return b.length - a.length;\n        }\n\n        var shortPieces = [],\n            longPieces = [],\n            mixedPieces = [],\n            i,\n            mom;\n        for (i = 0; i < 12; i++) {\n            // make the regex if we don't have it already\n            mom = createUTC([2000, i]);\n            shortPieces.push(this.monthsShort(mom, ''));\n            longPieces.push(this.months(mom, ''));\n            mixedPieces.push(this.months(mom, ''));\n            mixedPieces.push(this.monthsShort(mom, ''));\n        }\n        // Sorting makes sure if one month (or abbr) is a prefix of another it\n        // will match the longer piece.\n        shortPieces.sort(cmpLenRev);\n        longPieces.sort(cmpLenRev);\n        mixedPieces.sort(cmpLenRev);\n        for (i = 0; i < 12; i++) {\n            shortPieces[i] = regexEscape(shortPieces[i]);\n            longPieces[i] = regexEscape(longPieces[i]);\n        }\n        for (i = 0; i < 24; i++) {\n            mixedPieces[i] = regexEscape(mixedPieces[i]);\n        }\n\n        this._monthsRegex = new RegExp('^(' + mixedPieces.join('|') + ')', 'i');\n        this._monthsShortRegex = this._monthsRegex;\n        this._monthsStrictRegex = new RegExp(\n            '^(' + longPieces.join('|') + ')',\n            'i'\n        );\n        this._monthsShortStrictRegex = new RegExp(\n            '^(' + shortPieces.join('|') + ')',\n            'i'\n        );\n    }\n\n    // FORMATTING\n\n    addFormatToken('Y', 0, 0, function () {\n        var y = this.year();\n        return y <= 9999 ? zeroFill(y, 4) : '+' + y;\n    });\n\n    addFormatToken(0, ['YY', 2], 0, function () {\n        return this.year() % 100;\n    });\n\n    addFormatToken(0, ['YYYY', 4], 0, 'year');\n    addFormatToken(0, ['YYYYY', 5], 0, 'year');\n    addFormatToken(0, ['YYYYYY', 6, true], 0, 'year');\n\n    // ALIASES\n\n    addUnitAlias('year', 'y');\n\n    // PRIORITIES\n\n    addUnitPriority('year', 1);\n\n    // PARSING\n\n    addRegexToken('Y', matchSigned);\n    addRegexToken('YY', match1to2, match2);\n    addRegexToken('YYYY', match1to4, match4);\n    addRegexToken('YYYYY', match1to6, match6);\n    addRegexToken('YYYYYY', match1to6, match6);\n\n    addParseToken(['YYYYY', 'YYYYYY'], YEAR);\n    addParseToken('YYYY', function (input, array) {\n        array[YEAR] =\n            input.length === 2 ? hooks.parseTwoDigitYear(input) : toInt(input);\n    });\n    addParseToken('YY', function (input, array) {\n        array[YEAR] = hooks.parseTwoDigitYear(input);\n    });\n    addParseToken('Y', function (input, array) {\n        array[YEAR] = parseInt(input, 10);\n    });\n\n    // HELPERS\n\n    function daysInYear(year) {\n        return isLeapYear(year) ? 366 : 365;\n    }\n\n    // HOOKS\n\n    hooks.parseTwoDigitYear = function (input) {\n        return toInt(input) + (toInt(input) > 68 ? 1900 : 2000);\n    };\n\n    // MOMENTS\n\n    var getSetYear = makeGetSet('FullYear', true);\n\n    function getIsLeapYear() {\n        return isLeapYear(this.year());\n    }\n\n    function createDate(y, m, d, h, M, s, ms) {\n        // can't just apply() to create a date:\n        // https://stackoverflow.com/q/181348\n        var date;\n        // the date constructor remaps years 0-99 to 1900-1999\n        if (y < 100 && y >= 0) {\n            // preserve leap years using a full 400 year cycle, then reset\n            date = new Date(y + 400, m, d, h, M, s, ms);\n            if (isFinite(date.getFullYear())) {\n                date.setFullYear(y);\n            }\n        } else {\n            date = new Date(y, m, d, h, M, s, ms);\n        }\n\n        return date;\n    }\n\n    function createUTCDate(y) {\n        var date, args;\n        // the Date.UTC function remaps years 0-99 to 1900-1999\n        if (y < 100 && y >= 0) {\n            args = Array.prototype.slice.call(arguments);\n            // preserve leap years using a full 400 year cycle, then reset\n            args[0] = y + 400;\n            date = new Date(Date.UTC.apply(null, args));\n            if (isFinite(date.getUTCFullYear())) {\n                date.setUTCFullYear(y);\n            }\n        } else {\n            date = new Date(Date.UTC.apply(null, arguments));\n        }\n\n        return date;\n    }\n\n    // start-of-first-week - start-of-year\n    function firstWeekOffset(year, dow, doy) {\n        var // first-week day -- which january is always in the first week (4 for iso, 1 for other)\n            fwd = 7 + dow - doy,\n            // first-week day local weekday -- which local weekday is fwd\n            fwdlw = (7 + createUTCDate(year, 0, fwd).getUTCDay() - dow) % 7;\n\n        return -fwdlw + fwd - 1;\n    }\n\n    // https://en.wikipedia.org/wiki/ISO_week_date#Calculating_a_date_given_the_year.2C_week_number_and_weekday\n    function dayOfYearFromWeeks(year, week, weekday, dow, doy) {\n        var localWeekday = (7 + weekday - dow) % 7,\n            weekOffset = firstWeekOffset(year, dow, doy),\n            dayOfYear = 1 + 7 * (week - 1) + localWeekday + weekOffset,\n            resYear,\n            resDayOfYear;\n\n        if (dayOfYear <= 0) {\n            resYear = year - 1;\n            resDayOfYear = daysInYear(resYear) + dayOfYear;\n        } else if (dayOfYear > daysInYear(year)) {\n            resYear = year + 1;\n            resDayOfYear = dayOfYear - daysInYear(year);\n        } else {\n            resYear = year;\n            resDayOfYear = dayOfYear;\n        }\n\n        return {\n            year: resYear,\n            dayOfYear: resDayOfYear,\n        };\n    }\n\n    function weekOfYear(mom, dow, doy) {\n        var weekOffset = firstWeekOffset(mom.year(), dow, doy),\n            week = Math.floor((mom.dayOfYear() - weekOffset - 1) / 7) + 1,\n            resWeek,\n            resYear;\n\n        if (week < 1) {\n            resYear = mom.year() - 1;\n            resWeek = week + weeksInYear(resYear, dow, doy);\n        } else if (week > weeksInYear(mom.year(), dow, doy)) {\n            resWeek = week - weeksInYear(mom.year(), dow, doy);\n            resYear = mom.year() + 1;\n        } else {\n            resYear = mom.year();\n            resWeek = week;\n        }\n\n        return {\n            week: resWeek,\n            year: resYear,\n        };\n    }\n\n    function weeksInYear(year, dow, doy) {\n        var weekOffset = firstWeekOffset(year, dow, doy),\n            weekOffsetNext = firstWeekOffset(year + 1, dow, doy);\n        return (daysInYear(year) - weekOffset + weekOffsetNext) / 7;\n    }\n\n    // FORMATTING\n\n    addFormatToken('w', ['ww', 2], 'wo', 'week');\n    addFormatToken('W', ['WW', 2], 'Wo', 'isoWeek');\n\n    // ALIASES\n\n    addUnitAlias('week', 'w');\n    addUnitAlias('isoWeek', 'W');\n\n    // PRIORITIES\n\n    addUnitPriority('week', 5);\n    addUnitPriority('isoWeek', 5);\n\n    // PARSING\n\n    addRegexToken('w', match1to2);\n    addRegexToken('ww', match1to2, match2);\n    addRegexToken('W', match1to2);\n    addRegexToken('WW', match1to2, match2);\n\n    addWeekParseToken(\n        ['w', 'ww', 'W', 'WW'],\n        function (input, week, config, token) {\n            week[token.substr(0, 1)] = toInt(input);\n        }\n    );\n\n    // HELPERS\n\n    // LOCALES\n\n    function localeWeek(mom) {\n        return weekOfYear(mom, this._week.dow, this._week.doy).week;\n    }\n\n    var defaultLocaleWeek = {\n        dow: 0, // Sunday is the first day of the week.\n        doy: 6, // The week that contains Jan 6th is the first week of the year.\n    };\n\n    function localeFirstDayOfWeek() {\n        return this._week.dow;\n    }\n\n    function localeFirstDayOfYear() {\n        return this._week.doy;\n    }\n\n    // MOMENTS\n\n    function getSetWeek(input) {\n        var week = this.localeData().week(this);\n        return input == null ? week : this.add((input - week) * 7, 'd');\n    }\n\n    function getSetISOWeek(input) {\n        var week = weekOfYear(this, 1, 4).week;\n        return input == null ? week : this.add((input - week) * 7, 'd');\n    }\n\n    // FORMATTING\n\n    addFormatToken('d', 0, 'do', 'day');\n\n    addFormatToken('dd', 0, 0, function (format) {\n        return this.localeData().weekdaysMin(this, format);\n    });\n\n    addFormatToken('ddd', 0, 0, function (format) {\n        return this.localeData().weekdaysShort(this, format);\n    });\n\n    addFormatToken('dddd', 0, 0, function (format) {\n        return this.localeData().weekdays(this, format);\n    });\n\n    addFormatToken('e', 0, 0, 'weekday');\n    addFormatToken('E', 0, 0, 'isoWeekday');\n\n    // ALIASES\n\n    addUnitAlias('day', 'd');\n    addUnitAlias('weekday', 'e');\n    addUnitAlias('isoWeekday', 'E');\n\n    // PRIORITY\n    addUnitPriority('day', 11);\n    addUnitPriority('weekday', 11);\n    addUnitPriority('isoWeekday', 11);\n\n    // PARSING\n\n    addRegexToken('d', match1to2);\n    addRegexToken('e', match1to2);\n    addRegexToken('E', match1to2);\n    addRegexToken('dd', function (isStrict, locale) {\n        return locale.weekdaysMinRegex(isStrict);\n    });\n    addRegexToken('ddd', function (isStrict, locale) {\n        return locale.weekdaysShortRegex(isStrict);\n    });\n    addRegexToken('dddd', function (isStrict, locale) {\n        return locale.weekdaysRegex(isStrict);\n    });\n\n    addWeekParseToken(['dd', 'ddd', 'dddd'], function (input, week, config, token) {\n        var weekday = config._locale.weekdaysParse(input, token, config._strict);\n        // if we didn't get a weekday name, mark the date as invalid\n        if (weekday != null) {\n            week.d = weekday;\n        } else {\n            getParsingFlags(config).invalidWeekday = input;\n        }\n    });\n\n    addWeekParseToken(['d', 'e', 'E'], function (input, week, config, token) {\n        week[token] = toInt(input);\n    });\n\n    // HELPERS\n\n    function parseWeekday(input, locale) {\n        if (typeof input !== 'string') {\n            return input;\n        }\n\n        if (!isNaN(input)) {\n            return parseInt(input, 10);\n        }\n\n        input = locale.weekdaysParse(input);\n        if (typeof input === 'number') {\n            return input;\n        }\n\n        return null;\n    }\n\n    function parseIsoWeekday(input, locale) {\n        if (typeof input === 'string') {\n            return locale.weekdaysParse(input) % 7 || 7;\n        }\n        return isNaN(input) ? null : input;\n    }\n\n    // LOCALES\n    function shiftWeekdays(ws, n) {\n        return ws.slice(n, 7).concat(ws.slice(0, n));\n    }\n\n    var defaultLocaleWeekdays =\n            'Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday'.split('_'),\n        defaultLocaleWeekdaysShort = 'Sun_Mon_Tue_Wed_Thu_Fri_Sat'.split('_'),\n        defaultLocaleWeekdaysMin = 'Su_Mo_Tu_We_Th_Fr_Sa'.split('_'),\n        defaultWeekdaysRegex = matchWord,\n        defaultWeekdaysShortRegex = matchWord,\n        defaultWeekdaysMinRegex = matchWord;\n\n    function localeWeekdays(m, format) {\n        var weekdays = isArray(this._weekdays)\n            ? this._weekdays\n            : this._weekdays[\n                  m && m !== true && this._weekdays.isFormat.test(format)\n                      ? 'format'\n                      : 'standalone'\n              ];\n        return m === true\n            ? shiftWeekdays(weekdays, this._week.dow)\n            : m\n            ? weekdays[m.day()]\n            : weekdays;\n    }\n\n    function localeWeekdaysShort(m) {\n        return m === true\n            ? shiftWeekdays(this._weekdaysShort, this._week.dow)\n            : m\n            ? this._weekdaysShort[m.day()]\n            : this._weekdaysShort;\n    }\n\n    function localeWeekdaysMin(m) {\n        return m === true\n            ? shiftWeekdays(this._weekdaysMin, this._week.dow)\n            : m\n            ? this._weekdaysMin[m.day()]\n            : this._weekdaysMin;\n    }\n\n    function handleStrictParse$1(weekdayName, format, strict) {\n        var i,\n            ii,\n            mom,\n            llc = weekdayName.toLocaleLowerCase();\n        if (!this._weekdaysParse) {\n            this._weekdaysParse = [];\n            this._shortWeekdaysParse = [];\n            this._minWeekdaysParse = [];\n\n            for (i = 0; i < 7; ++i) {\n                mom = createUTC([2000, 1]).day(i);\n                this._minWeekdaysParse[i] = this.weekdaysMin(\n                    mom,\n                    ''\n                ).toLocaleLowerCase();\n                this._shortWeekdaysParse[i] = this.weekdaysShort(\n                    mom,\n                    ''\n                ).toLocaleLowerCase();\n                this._weekdaysParse[i] = this.weekdays(mom, '').toLocaleLowerCase();\n            }\n        }\n\n        if (strict) {\n            if (format === 'dddd') {\n                ii = indexOf.call(this._weekdaysParse, llc);\n                return ii !== -1 ? ii : null;\n            } else if (format === 'ddd') {\n                ii = indexOf.call(this._shortWeekdaysParse, llc);\n                return ii !== -1 ? ii : null;\n            } else {\n                ii = indexOf.call(this._minWeekdaysParse, llc);\n                return ii !== -1 ? ii : null;\n            }\n        } else {\n            if (format === 'dddd') {\n                ii = indexOf.call(this._weekdaysParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._shortWeekdaysParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._minWeekdaysParse, llc);\n                return ii !== -1 ? ii : null;\n            } else if (format === 'ddd') {\n                ii = indexOf.call(this._shortWeekdaysParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._weekdaysParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._minWeekdaysParse, llc);\n                return ii !== -1 ? ii : null;\n            } else {\n                ii = indexOf.call(this._minWeekdaysParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._weekdaysParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._shortWeekdaysParse, llc);\n                return ii !== -1 ? ii : null;\n            }\n        }\n    }\n\n    function localeWeekdaysParse(weekdayName, format, strict) {\n        var i, mom, regex;\n\n        if (this._weekdaysParseExact) {\n            return handleStrictParse$1.call(this, weekdayName, format, strict);\n        }\n\n        if (!this._weekdaysParse) {\n            this._weekdaysParse = [];\n            this._minWeekdaysParse = [];\n            this._shortWeekdaysParse = [];\n            this._fullWeekdaysParse = [];\n        }\n\n        for (i = 0; i < 7; i++) {\n            // make the regex if we don't have it already\n\n            mom = createUTC([2000, 1]).day(i);\n            if (strict && !this._fullWeekdaysParse[i]) {\n                this._fullWeekdaysParse[i] = new RegExp(\n                    '^' + this.weekdays(mom, '').replace('.', '\\\\.?') + '$',\n                    'i'\n                );\n                this._shortWeekdaysParse[i] = new RegExp(\n                    '^' + this.weekdaysShort(mom, '').replace('.', '\\\\.?') + '$',\n                    'i'\n                );\n                this._minWeekdaysParse[i] = new RegExp(\n                    '^' + this.weekdaysMin(mom, '').replace('.', '\\\\.?') + '$',\n                    'i'\n                );\n            }\n            if (!this._weekdaysParse[i]) {\n                regex =\n                    '^' +\n                    this.weekdays(mom, '') +\n                    '|^' +\n                    this.weekdaysShort(mom, '') +\n                    '|^' +\n                    this.weekdaysMin(mom, '');\n                this._weekdaysParse[i] = new RegExp(regex.replace('.', ''), 'i');\n            }\n            // test the regex\n            if (\n                strict &&\n                format === 'dddd' &&\n                this._fullWeekdaysParse[i].test(weekdayName)\n            ) {\n                return i;\n            } else if (\n                strict &&\n                format === 'ddd' &&\n                this._shortWeekdaysParse[i].test(weekdayName)\n            ) {\n                return i;\n            } else if (\n                strict &&\n                format === 'dd' &&\n                this._minWeekdaysParse[i].test(weekdayName)\n            ) {\n                return i;\n            } else if (!strict && this._weekdaysParse[i].test(weekdayName)) {\n                return i;\n            }\n        }\n    }\n\n    // MOMENTS\n\n    function getSetDayOfWeek(input) {\n        if (!this.isValid()) {\n            return input != null ? this : NaN;\n        }\n        var day = this._isUTC ? this._d.getUTCDay() : this._d.getDay();\n        if (input != null) {\n            input = parseWeekday(input, this.localeData());\n            return this.add(input - day, 'd');\n        } else {\n            return day;\n        }\n    }\n\n    function getSetLocaleDayOfWeek(input) {\n        if (!this.isValid()) {\n            return input != null ? this : NaN;\n        }\n        var weekday = (this.day() + 7 - this.localeData()._week.dow) % 7;\n        return input == null ? weekday : this.add(input - weekday, 'd');\n    }\n\n    function getSetISODayOfWeek(input) {\n        if (!this.isValid()) {\n            return input != null ? this : NaN;\n        }\n\n        // behaves the same as moment#day except\n        // as a getter, returns 7 instead of 0 (1-7 range instead of 0-6)\n        // as a setter, sunday should belong to the previous week.\n\n        if (input != null) {\n            var weekday = parseIsoWeekday(input, this.localeData());\n            return this.day(this.day() % 7 ? weekday : weekday - 7);\n        } else {\n            return this.day() || 7;\n        }\n    }\n\n    function weekdaysRegex(isStrict) {\n        if (this._weekdaysParseExact) {\n            if (!hasOwnProp(this, '_weekdaysRegex')) {\n                computeWeekdaysParse.call(this);\n            }\n            if (isStrict) {\n                return this._weekdaysStrictRegex;\n            } else {\n                return this._weekdaysRegex;\n            }\n        } else {\n            if (!hasOwnProp(this, '_weekdaysRegex')) {\n                this._weekdaysRegex = defaultWeekdaysRegex;\n            }\n            return this._weekdaysStrictRegex && isStrict\n                ? this._weekdaysStrictRegex\n                : this._weekdaysRegex;\n        }\n    }\n\n    function weekdaysShortRegex(isStrict) {\n        if (this._weekdaysParseExact) {\n            if (!hasOwnProp(this, '_weekdaysRegex')) {\n                computeWeekdaysParse.call(this);\n            }\n            if (isStrict) {\n                return this._weekdaysShortStrictRegex;\n            } else {\n                return this._weekdaysShortRegex;\n            }\n        } else {\n            if (!hasOwnProp(this, '_weekdaysShortRegex')) {\n                this._weekdaysShortRegex = defaultWeekdaysShortRegex;\n            }\n            return this._weekdaysShortStrictRegex && isStrict\n                ? this._weekdaysShortStrictRegex\n                : this._weekdaysShortRegex;\n        }\n    }\n\n    function weekdaysMinRegex(isStrict) {\n        if (this._weekdaysParseExact) {\n            if (!hasOwnProp(this, '_weekdaysRegex')) {\n                computeWeekdaysParse.call(this);\n            }\n            if (isStrict) {\n                return this._weekdaysMinStrictRegex;\n            } else {\n                return this._weekdaysMinRegex;\n            }\n        } else {\n            if (!hasOwnProp(this, '_weekdaysMinRegex')) {\n                this._weekdaysMinRegex = defaultWeekdaysMinRegex;\n            }\n            return this._weekdaysMinStrictRegex && isStrict\n                ? this._weekdaysMinStrictRegex\n                : this._weekdaysMinRegex;\n        }\n    }\n\n    function computeWeekdaysParse() {\n        function cmpLenRev(a, b) {\n            return b.length - a.length;\n        }\n\n        var minPieces = [],\n            shortPieces = [],\n            longPieces = [],\n            mixedPieces = [],\n            i,\n            mom,\n            minp,\n            shortp,\n            longp;\n        for (i = 0; i < 7; i++) {\n            // make the regex if we don't have it already\n            mom = createUTC([2000, 1]).day(i);\n            minp = regexEscape(this.weekdaysMin(mom, ''));\n            shortp = regexEscape(this.weekdaysShort(mom, ''));\n            longp = regexEscape(this.weekdays(mom, ''));\n            minPieces.push(minp);\n            shortPieces.push(shortp);\n            longPieces.push(longp);\n            mixedPieces.push(minp);\n            mixedPieces.push(shortp);\n            mixedPieces.push(longp);\n        }\n        // Sorting makes sure if one weekday (or abbr) is a prefix of another it\n        // will match the longer piece.\n        minPieces.sort(cmpLenRev);\n        shortPieces.sort(cmpLenRev);\n        longPieces.sort(cmpLenRev);\n        mixedPieces.sort(cmpLenRev);\n\n        this._weekdaysRegex = new RegExp('^(' + mixedPieces.join('|') + ')', 'i');\n        this._weekdaysShortRegex = this._weekdaysRegex;\n        this._weekdaysMinRegex = this._weekdaysRegex;\n\n        this._weekdaysStrictRegex = new RegExp(\n            '^(' + longPieces.join('|') + ')',\n            'i'\n        );\n        this._weekdaysShortStrictRegex = new RegExp(\n            '^(' + shortPieces.join('|') + ')',\n            'i'\n        );\n        this._weekdaysMinStrictRegex = new RegExp(\n            '^(' + minPieces.join('|') + ')',\n            'i'\n        );\n    }\n\n    // FORMATTING\n\n    function hFormat() {\n        return this.hours() % 12 || 12;\n    }\n\n    function kFormat() {\n        return this.hours() || 24;\n    }\n\n    addFormatToken('H', ['HH', 2], 0, 'hour');\n    addFormatToken('h', ['hh', 2], 0, hFormat);\n    addFormatToken('k', ['kk', 2], 0, kFormat);\n\n    addFormatToken('hmm', 0, 0, function () {\n        return '' + hFormat.apply(this) + zeroFill(this.minutes(), 2);\n    });\n\n    addFormatToken('hmmss', 0, 0, function () {\n        return (\n            '' +\n            hFormat.apply(this) +\n            zeroFill(this.minutes(), 2) +\n            zeroFill(this.seconds(), 2)\n        );\n    });\n\n    addFormatToken('Hmm', 0, 0, function () {\n        return '' + this.hours() + zeroFill(this.minutes(), 2);\n    });\n\n    addFormatToken('Hmmss', 0, 0, function () {\n        return (\n            '' +\n            this.hours() +\n            zeroFill(this.minutes(), 2) +\n            zeroFill(this.seconds(), 2)\n        );\n    });\n\n    function meridiem(token, lowercase) {\n        addFormatToken(token, 0, 0, function () {\n            return this.localeData().meridiem(\n                this.hours(),\n                this.minutes(),\n                lowercase\n            );\n        });\n    }\n\n    meridiem('a', true);\n    meridiem('A', false);\n\n    // ALIASES\n\n    addUnitAlias('hour', 'h');\n\n    // PRIORITY\n    addUnitPriority('hour', 13);\n\n    // PARSING\n\n    function matchMeridiem(isStrict, locale) {\n        return locale._meridiemParse;\n    }\n\n    addRegexToken('a', matchMeridiem);\n    addRegexToken('A', matchMeridiem);\n    addRegexToken('H', match1to2);\n    addRegexToken('h', match1to2);\n    addRegexToken('k', match1to2);\n    addRegexToken('HH', match1to2, match2);\n    addRegexToken('hh', match1to2, match2);\n    addRegexToken('kk', match1to2, match2);\n\n    addRegexToken('hmm', match3to4);\n    addRegexToken('hmmss', match5to6);\n    addRegexToken('Hmm', match3to4);\n    addRegexToken('Hmmss', match5to6);\n\n    addParseToken(['H', 'HH'], HOUR);\n    addParseToken(['k', 'kk'], function (input, array, config) {\n        var kInput = toInt(input);\n        array[HOUR] = kInput === 24 ? 0 : kInput;\n    });\n    addParseToken(['a', 'A'], function (input, array, config) {\n        config._isPm = config._locale.isPM(input);\n        config._meridiem = input;\n    });\n    addParseToken(['h', 'hh'], function (input, array, config) {\n        array[HOUR] = toInt(input);\n        getParsingFlags(config).bigHour = true;\n    });\n    addParseToken('hmm', function (input, array, config) {\n        var pos = input.length - 2;\n        array[HOUR] = toInt(input.substr(0, pos));\n        array[MINUTE] = toInt(input.substr(pos));\n        getParsingFlags(config).bigHour = true;\n    });\n    addParseToken('hmmss', function (input, array, config) {\n        var pos1 = input.length - 4,\n            pos2 = input.length - 2;\n        array[HOUR] = toInt(input.substr(0, pos1));\n        array[MINUTE] = toInt(input.substr(pos1, 2));\n        array[SECOND] = toInt(input.substr(pos2));\n        getParsingFlags(config).bigHour = true;\n    });\n    addParseToken('Hmm', function (input, array, config) {\n        var pos = input.length - 2;\n        array[HOUR] = toInt(input.substr(0, pos));\n        array[MINUTE] = toInt(input.substr(pos));\n    });\n    addParseToken('Hmmss', function (input, array, config) {\n        var pos1 = input.length - 4,\n            pos2 = input.length - 2;\n        array[HOUR] = toInt(input.substr(0, pos1));\n        array[MINUTE] = toInt(input.substr(pos1, 2));\n        array[SECOND] = toInt(input.substr(pos2));\n    });\n\n    // LOCALES\n\n    function localeIsPM(input) {\n        // IE8 Quirks Mode & IE7 Standards Mode do not allow accessing strings like arrays\n        // Using charAt should be more compatible.\n        return (input + '').toLowerCase().charAt(0) === 'p';\n    }\n\n    var defaultLocaleMeridiemParse = /[ap]\\.?m?\\.?/i,\n        // Setting the hour should keep the time, because the user explicitly\n        // specified which hour they want. So trying to maintain the same hour (in\n        // a new timezone) makes sense. Adding/subtracting hours does not follow\n        // this rule.\n        getSetHour = makeGetSet('Hours', true);\n\n    function localeMeridiem(hours, minutes, isLower) {\n        if (hours > 11) {\n            return isLower ? 'pm' : 'PM';\n        } else {\n            return isLower ? 'am' : 'AM';\n        }\n    }\n\n    var baseConfig = {\n        calendar: defaultCalendar,\n        longDateFormat: defaultLongDateFormat,\n        invalidDate: defaultInvalidDate,\n        ordinal: defaultOrdinal,\n        dayOfMonthOrdinalParse: defaultDayOfMonthOrdinalParse,\n        relativeTime: defaultRelativeTime,\n\n        months: defaultLocaleMonths,\n        monthsShort: defaultLocaleMonthsShort,\n\n        week: defaultLocaleWeek,\n\n        weekdays: defaultLocaleWeekdays,\n        weekdaysMin: defaultLocaleWeekdaysMin,\n        weekdaysShort: defaultLocaleWeekdaysShort,\n\n        meridiemParse: defaultLocaleMeridiemParse,\n    };\n\n    // internal storage for locale config files\n    var locales = {},\n        localeFamilies = {},\n        globalLocale;\n\n    function commonPrefix(arr1, arr2) {\n        var i,\n            minl = Math.min(arr1.length, arr2.length);\n        for (i = 0; i < minl; i += 1) {\n            if (arr1[i] !== arr2[i]) {\n                return i;\n            }\n        }\n        return minl;\n    }\n\n    function normalizeLocale(key) {\n        return key ? key.toLowerCase().replace('_', '-') : key;\n    }\n\n    // pick the locale from the array\n    // try ['en-au', 'en-gb'] as 'en-au', 'en-gb', 'en', as in move through the list trying each\n    // substring from most specific to least, but move to the next array item if it's a more specific variant than the current root\n    function chooseLocale(names) {\n        var i = 0,\n            j,\n            next,\n            locale,\n            split;\n\n        while (i < names.length) {\n            split = normalizeLocale(names[i]).split('-');\n            j = split.length;\n            next = normalizeLocale(names[i + 1]);\n            next = next ? next.split('-') : null;\n            while (j > 0) {\n                locale = loadLocale(split.slice(0, j).join('-'));\n                if (locale) {\n                    return locale;\n                }\n                if (\n                    next &&\n                    next.length >= j &&\n                    commonPrefix(split, next) >= j - 1\n                ) {\n                    //the next array item is better than a shallower substring of this one\n                    break;\n                }\n                j--;\n            }\n            i++;\n        }\n        return globalLocale;\n    }\n\n    function isLocaleNameSane(name) {\n        // Prevent names that look like filesystem paths, i.e contain '/' or '\\'\n        return name.match('^[^/\\\\\\\\]*$') != null;\n    }\n\n    function loadLocale(name) {\n        var oldLocale = null,\n            aliasedRequire;\n        // TODO: Find a better way to register and load all the locales in Node\n        if (\n            locales[name] === undefined &&\n            typeof module !== 'undefined' &&\n            module &&\n            module.exports &&\n            isLocaleNameSane(name)\n        ) {\n            try {\n                oldLocale = globalLocale._abbr;\n                aliasedRequire = require;\n                aliasedRequire('./locale/' + name);\n                getSetGlobalLocale(oldLocale);\n            } catch (e) {\n                // mark as not found to avoid repeating expensive file require call causing high CPU\n                // when trying to find en-US, en_US, en-us for every format call\n                locales[name] = null; // null means not found\n            }\n        }\n        return locales[name];\n    }\n\n    // This function will load locale and then set the global locale.  If\n    // no arguments are passed in, it will simply return the current global\n    // locale key.\n    function getSetGlobalLocale(key, values) {\n        var data;\n        if (key) {\n            if (isUndefined(values)) {\n                data = getLocale(key);\n            } else {\n                data = defineLocale(key, values);\n            }\n\n            if (data) {\n                // moment.duration._locale = moment._locale = data;\n                globalLocale = data;\n            } else {\n                if (typeof console !== 'undefined' && console.warn) {\n                    //warn user if arguments are passed but the locale could not be set\n                    console.warn(\n                        'Locale ' + key + ' not found. Did you forget to load it?'\n                    );\n                }\n            }\n        }\n\n        return globalLocale._abbr;\n    }\n\n    function defineLocale(name, config) {\n        if (config !== null) {\n            var locale,\n                parentConfig = baseConfig;\n            config.abbr = name;\n            if (locales[name] != null) {\n                deprecateSimple(\n                    'defineLocaleOverride',\n                    'use moment.updateLocale(localeName, config) to change ' +\n                        'an existing locale. moment.defineLocale(localeName, ' +\n                        'config) should only be used for creating a new locale ' +\n                        'See http://momentjs.com/guides/#/warnings/define-locale/ for more info.'\n                );\n                parentConfig = locales[name]._config;\n            } else if (config.parentLocale != null) {\n                if (locales[config.parentLocale] != null) {\n                    parentConfig = locales[config.parentLocale]._config;\n                } else {\n                    locale = loadLocale(config.parentLocale);\n                    if (locale != null) {\n                        parentConfig = locale._config;\n                    } else {\n                        if (!localeFamilies[config.parentLocale]) {\n                            localeFamilies[config.parentLocale] = [];\n                        }\n                        localeFamilies[config.parentLocale].push({\n                            name: name,\n                            config: config,\n                        });\n                        return null;\n                    }\n                }\n            }\n            locales[name] = new Locale(mergeConfigs(parentConfig, config));\n\n            if (localeFamilies[name]) {\n                localeFamilies[name].forEach(function (x) {\n                    defineLocale(x.name, x.config);\n                });\n            }\n\n            // backwards compat for now: also set the locale\n            // make sure we set the locale AFTER all child locales have been\n            // created, so we won't end up with the child locale set.\n            getSetGlobalLocale(name);\n\n            return locales[name];\n        } else {\n            // useful for testing\n            delete locales[name];\n            return null;\n        }\n    }\n\n    function updateLocale(name, config) {\n        if (config != null) {\n            var locale,\n                tmpLocale,\n                parentConfig = baseConfig;\n\n            if (locales[name] != null && locales[name].parentLocale != null) {\n                // Update existing child locale in-place to avoid memory-leaks\n                locales[name].set(mergeConfigs(locales[name]._config, config));\n            } else {\n                // MERGE\n                tmpLocale = loadLocale(name);\n                if (tmpLocale != null) {\n                    parentConfig = tmpLocale._config;\n                }\n                config = mergeConfigs(parentConfig, config);\n                if (tmpLocale == null) {\n                    // updateLocale is called for creating a new locale\n                    // Set abbr so it will have a name (getters return\n                    // undefined otherwise).\n                    config.abbr = name;\n                }\n                locale = new Locale(config);\n                locale.parentLocale = locales[name];\n                locales[name] = locale;\n            }\n\n            // backwards compat for now: also set the locale\n            getSetGlobalLocale(name);\n        } else {\n            // pass null for config to unupdate, useful for tests\n            if (locales[name] != null) {\n                if (locales[name].parentLocale != null) {\n                    locales[name] = locales[name].parentLocale;\n                    if (name === getSetGlobalLocale()) {\n                        getSetGlobalLocale(name);\n                    }\n                } else if (locales[name] != null) {\n                    delete locales[name];\n                }\n            }\n        }\n        return locales[name];\n    }\n\n    // returns locale data\n    function getLocale(key) {\n        var locale;\n\n        if (key && key._locale && key._locale._abbr) {\n            key = key._locale._abbr;\n        }\n\n        if (!key) {\n            return globalLocale;\n        }\n\n        if (!isArray(key)) {\n            //short-circuit everything else\n            locale = loadLocale(key);\n            if (locale) {\n                return locale;\n            }\n            key = [key];\n        }\n\n        return chooseLocale(key);\n    }\n\n    function listLocales() {\n        return keys(locales);\n    }\n\n    function checkOverflow(m) {\n        var overflow,\n            a = m._a;\n\n        if (a && getParsingFlags(m).overflow === -2) {\n            overflow =\n                a[MONTH] < 0 || a[MONTH] > 11\n                    ? MONTH\n                    : a[DATE] < 1 || a[DATE] > daysInMonth(a[YEAR], a[MONTH])\n                    ? DATE\n                    : a[HOUR] < 0 ||\n                      a[HOUR] > 24 ||\n                      (a[HOUR] === 24 &&\n                          (a[MINUTE] !== 0 ||\n                              a[SECOND] !== 0 ||\n                              a[MILLISECOND] !== 0))\n                    ? HOUR\n                    : a[MINUTE] < 0 || a[MINUTE] > 59\n                    ? MINUTE\n                    : a[SECOND] < 0 || a[SECOND] > 59\n                    ? SECOND\n                    : a[MILLISECOND] < 0 || a[MILLISECOND] > 999\n                    ? MILLISECOND\n                    : -1;\n\n            if (\n                getParsingFlags(m)._overflowDayOfYear &&\n                (overflow < YEAR || overflow > DATE)\n            ) {\n                overflow = DATE;\n            }\n            if (getParsingFlags(m)._overflowWeeks && overflow === -1) {\n                overflow = WEEK;\n            }\n            if (getParsingFlags(m)._overflowWeekday && overflow === -1) {\n                overflow = WEEKDAY;\n            }\n\n            getParsingFlags(m).overflow = overflow;\n        }\n\n        return m;\n    }\n\n    // iso 8601 regex\n    // 0000-00-00 0000-W00 or 0000-W00-0 + T + 00 or 00:00 or 00:00:00 or 00:00:00.000 + +00:00 or +0000 or +00)\n    var extendedIsoRegex =\n            /^\\s*((?:[+-]\\d{6}|\\d{4})-(?:\\d\\d-\\d\\d|W\\d\\d-\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?::\\d\\d(?::\\d\\d(?:[.,]\\d+)?)?)?)([+-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?$/,\n        basicIsoRegex =\n            /^\\s*((?:[+-]\\d{6}|\\d{4})(?:\\d\\d\\d\\d|W\\d\\d\\d|W\\d\\d|\\d\\d\\d|\\d\\d|))(?:(T| )(\\d\\d(?:\\d\\d(?:\\d\\d(?:[.,]\\d+)?)?)?)([+-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?$/,\n        tzRegex = /Z|[+-]\\d\\d(?::?\\d\\d)?/,\n        isoDates = [\n            ['YYYYYY-MM-DD', /[+-]\\d{6}-\\d\\d-\\d\\d/],\n            ['YYYY-MM-DD', /\\d{4}-\\d\\d-\\d\\d/],\n            ['GGGG-[W]WW-E', /\\d{4}-W\\d\\d-\\d/],\n            ['GGGG-[W]WW', /\\d{4}-W\\d\\d/, false],\n            ['YYYY-DDD', /\\d{4}-\\d{3}/],\n            ['YYYY-MM', /\\d{4}-\\d\\d/, false],\n            ['YYYYYYMMDD', /[+-]\\d{10}/],\n            ['YYYYMMDD', /\\d{8}/],\n            ['GGGG[W]WWE', /\\d{4}W\\d{3}/],\n            ['GGGG[W]WW', /\\d{4}W\\d{2}/, false],\n            ['YYYYDDD', /\\d{7}/],\n            ['YYYYMM', /\\d{6}/, false],\n            ['YYYY', /\\d{4}/, false],\n        ],\n        // iso time formats and regexes\n        isoTimes = [\n            ['HH:mm:ss.SSSS', /\\d\\d:\\d\\d:\\d\\d\\.\\d+/],\n            ['HH:mm:ss,SSSS', /\\d\\d:\\d\\d:\\d\\d,\\d+/],\n            ['HH:mm:ss', /\\d\\d:\\d\\d:\\d\\d/],\n            ['HH:mm', /\\d\\d:\\d\\d/],\n            ['HHmmss.SSSS', /\\d\\d\\d\\d\\d\\d\\.\\d+/],\n            ['HHmmss,SSSS', /\\d\\d\\d\\d\\d\\d,\\d+/],\n            ['HHmmss', /\\d\\d\\d\\d\\d\\d/],\n            ['HHmm', /\\d\\d\\d\\d/],\n            ['HH', /\\d\\d/],\n        ],\n        aspNetJsonRegex = /^\\/?Date\\((-?\\d+)/i,\n        // RFC 2822 regex: For details see https://tools.ietf.org/html/rfc2822#section-3.3\n        rfc2822 =\n            /^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\\s)?(\\d{1,2})\\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\\s(\\d{2,4})\\s(\\d\\d):(\\d\\d)(?::(\\d\\d))?\\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\\d{4}))$/,\n        obsOffsets = {\n            UT: 0,\n            GMT: 0,\n            EDT: -4 * 60,\n            EST: -5 * 60,\n            CDT: -5 * 60,\n            CST: -6 * 60,\n            MDT: -6 * 60,\n            MST: -7 * 60,\n            PDT: -7 * 60,\n            PST: -8 * 60,\n        };\n\n    // date from iso format\n    function configFromISO(config) {\n        var i,\n            l,\n            string = config._i,\n            match = extendedIsoRegex.exec(string) || basicIsoRegex.exec(string),\n            allowTime,\n            dateFormat,\n            timeFormat,\n            tzFormat,\n            isoDatesLen = isoDates.length,\n            isoTimesLen = isoTimes.length;\n\n        if (match) {\n            getParsingFlags(config).iso = true;\n            for (i = 0, l = isoDatesLen; i < l; i++) {\n                if (isoDates[i][1].exec(match[1])) {\n                    dateFormat = isoDates[i][0];\n                    allowTime = isoDates[i][2] !== false;\n                    break;\n                }\n            }\n            if (dateFormat == null) {\n                config._isValid = false;\n                return;\n            }\n            if (match[3]) {\n                for (i = 0, l = isoTimesLen; i < l; i++) {\n                    if (isoTimes[i][1].exec(match[3])) {\n                        // match[2] should be 'T' or space\n                        timeFormat = (match[2] || ' ') + isoTimes[i][0];\n                        break;\n                    }\n                }\n                if (timeFormat == null) {\n                    config._isValid = false;\n                    return;\n                }\n            }\n            if (!allowTime && timeFormat != null) {\n                config._isValid = false;\n                return;\n            }\n            if (match[4]) {\n                if (tzRegex.exec(match[4])) {\n                    tzFormat = 'Z';\n                } else {\n                    config._isValid = false;\n                    return;\n                }\n            }\n            config._f = dateFormat + (timeFormat || '') + (tzFormat || '');\n            configFromStringAndFormat(config);\n        } else {\n            config._isValid = false;\n        }\n    }\n\n    function extractFromRFC2822Strings(\n        yearStr,\n        monthStr,\n        dayStr,\n        hourStr,\n        minuteStr,\n        secondStr\n    ) {\n        var result = [\n            untruncateYear(yearStr),\n            defaultLocaleMonthsShort.indexOf(monthStr),\n            parseInt(dayStr, 10),\n            parseInt(hourStr, 10),\n            parseInt(minuteStr, 10),\n        ];\n\n        if (secondStr) {\n            result.push(parseInt(secondStr, 10));\n        }\n\n        return result;\n    }\n\n    function untruncateYear(yearStr) {\n        var year = parseInt(yearStr, 10);\n        if (year <= 49) {\n            return 2000 + year;\n        } else if (year <= 999) {\n            return 1900 + year;\n        }\n        return year;\n    }\n\n    function preprocessRFC2822(s) {\n        // Remove comments and folding whitespace and replace multiple-spaces with a single space\n        return s\n            .replace(/\\([^)]*\\)|[\\n\\t]/g, ' ')\n            .replace(/(\\s\\s+)/g, ' ')\n            .replace(/^\\s\\s*/, '')\n            .replace(/\\s\\s*$/, '');\n    }\n\n    function checkWeekday(weekdayStr, parsedInput, config) {\n        if (weekdayStr) {\n            // TODO: Replace the vanilla JS Date object with an independent day-of-week check.\n            var weekdayProvided = defaultLocaleWeekdaysShort.indexOf(weekdayStr),\n                weekdayActual = new Date(\n                    parsedInput[0],\n                    parsedInput[1],\n                    parsedInput[2]\n                ).getDay();\n            if (weekdayProvided !== weekdayActual) {\n                getParsingFlags(config).weekdayMismatch = true;\n                config._isValid = false;\n                return false;\n            }\n        }\n        return true;\n    }\n\n    function calculateOffset(obsOffset, militaryOffset, numOffset) {\n        if (obsOffset) {\n            return obsOffsets[obsOffset];\n        } else if (militaryOffset) {\n            // the only allowed military tz is Z\n            return 0;\n        } else {\n            var hm = parseInt(numOffset, 10),\n                m = hm % 100,\n                h = (hm - m) / 100;\n            return h * 60 + m;\n        }\n    }\n\n    // date and time from ref 2822 format\n    function configFromRFC2822(config) {\n        var match = rfc2822.exec(preprocessRFC2822(config._i)),\n            parsedArray;\n        if (match) {\n            parsedArray = extractFromRFC2822Strings(\n                match[4],\n                match[3],\n                match[2],\n                match[5],\n                match[6],\n                match[7]\n            );\n            if (!checkWeekday(match[1], parsedArray, config)) {\n                return;\n            }\n\n            config._a = parsedArray;\n            config._tzm = calculateOffset(match[8], match[9], match[10]);\n\n            config._d = createUTCDate.apply(null, config._a);\n            config._d.setUTCMinutes(config._d.getUTCMinutes() - config._tzm);\n\n            getParsingFlags(config).rfc2822 = true;\n        } else {\n            config._isValid = false;\n        }\n    }\n\n    // date from 1) ASP.NET, 2) ISO, 3) RFC 2822 formats, or 4) optional fallback if parsing isn't strict\n    function configFromString(config) {\n        var matched = aspNetJsonRegex.exec(config._i);\n        if (matched !== null) {\n            config._d = new Date(+matched[1]);\n            return;\n        }\n\n        configFromISO(config);\n        if (config._isValid === false) {\n            delete config._isValid;\n        } else {\n            return;\n        }\n\n        configFromRFC2822(config);\n        if (config._isValid === false) {\n            delete config._isValid;\n        } else {\n            return;\n        }\n\n        if (config._strict) {\n            config._isValid = false;\n        } else {\n            // Final attempt, use Input Fallback\n            hooks.createFromInputFallback(config);\n        }\n    }\n\n    hooks.createFromInputFallback = deprecate(\n        'value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), ' +\n            'which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are ' +\n            'discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.',\n        function (config) {\n            config._d = new Date(config._i + (config._useUTC ? ' UTC' : ''));\n        }\n    );\n\n    // Pick the first defined of two or three arguments.\n    function defaults(a, b, c) {\n        if (a != null) {\n            return a;\n        }\n        if (b != null) {\n            return b;\n        }\n        return c;\n    }\n\n    function currentDateArray(config) {\n        // hooks is actually the exported moment object\n        var nowValue = new Date(hooks.now());\n        if (config._useUTC) {\n            return [\n                nowValue.getUTCFullYear(),\n                nowValue.getUTCMonth(),\n                nowValue.getUTCDate(),\n            ];\n        }\n        return [nowValue.getFullYear(), nowValue.getMonth(), nowValue.getDate()];\n    }\n\n    // convert an array to a date.\n    // the array should mirror the parameters below\n    // note: all values past the year are optional and will default to the lowest possible value.\n    // [year, month, day , hour, minute, second, millisecond]\n    function configFromArray(config) {\n        var i,\n            date,\n            input = [],\n            currentDate,\n            expectedWeekday,\n            yearToUse;\n\n        if (config._d) {\n            return;\n        }\n\n        currentDate = currentDateArray(config);\n\n        //compute day of the year from weeks and weekdays\n        if (config._w && config._a[DATE] == null && config._a[MONTH] == null) {\n            dayOfYearFromWeekInfo(config);\n        }\n\n        //if the day of the year is set, figure out what it is\n        if (config._dayOfYear != null) {\n            yearToUse = defaults(config._a[YEAR], currentDate[YEAR]);\n\n            if (\n                config._dayOfYear > daysInYear(yearToUse) ||\n                config._dayOfYear === 0\n            ) {\n                getParsingFlags(config)._overflowDayOfYear = true;\n            }\n\n            date = createUTCDate(yearToUse, 0, config._dayOfYear);\n            config._a[MONTH] = date.getUTCMonth();\n            config._a[DATE] = date.getUTCDate();\n        }\n\n        // Default to current date.\n        // * if no year, month, day of month are given, default to today\n        // * if day of month is given, default month and year\n        // * if month is given, default only year\n        // * if year is given, don't default anything\n        for (i = 0; i < 3 && config._a[i] == null; ++i) {\n            config._a[i] = input[i] = currentDate[i];\n        }\n\n        // Zero out whatever was not defaulted, including time\n        for (; i < 7; i++) {\n            config._a[i] = input[i] =\n                config._a[i] == null ? (i === 2 ? 1 : 0) : config._a[i];\n        }\n\n        // Check for 24:00:00.000\n        if (\n            config._a[HOUR] === 24 &&\n            config._a[MINUTE] === 0 &&\n            config._a[SECOND] === 0 &&\n            config._a[MILLISECOND] === 0\n        ) {\n            config._nextDay = true;\n            config._a[HOUR] = 0;\n        }\n\n        config._d = (config._useUTC ? createUTCDate : createDate).apply(\n            null,\n            input\n        );\n        expectedWeekday = config._useUTC\n            ? config._d.getUTCDay()\n            : config._d.getDay();\n\n        // Apply timezone offset from input. The actual utcOffset can be changed\n        // with parseZone.\n        if (config._tzm != null) {\n            config._d.setUTCMinutes(config._d.getUTCMinutes() - config._tzm);\n        }\n\n        if (config._nextDay) {\n            config._a[HOUR] = 24;\n        }\n\n        // check for mismatching day of week\n        if (\n            config._w &&\n            typeof config._w.d !== 'undefined' &&\n            config._w.d !== expectedWeekday\n        ) {\n            getParsingFlags(config).weekdayMismatch = true;\n        }\n    }\n\n    function dayOfYearFromWeekInfo(config) {\n        var w, weekYear, week, weekday, dow, doy, temp, weekdayOverflow, curWeek;\n\n        w = config._w;\n        if (w.GG != null || w.W != null || w.E != null) {\n            dow = 1;\n            doy = 4;\n\n            // TODO: We need to take the current isoWeekYear, but that depends on\n            // how we interpret now (local, utc, fixed offset). So create\n            // a now version of current config (take local/utc/offset flags, and\n            // create now).\n            weekYear = defaults(\n                w.GG,\n                config._a[YEAR],\n                weekOfYear(createLocal(), 1, 4).year\n            );\n            week = defaults(w.W, 1);\n            weekday = defaults(w.E, 1);\n            if (weekday < 1 || weekday > 7) {\n                weekdayOverflow = true;\n            }\n        } else {\n            dow = config._locale._week.dow;\n            doy = config._locale._week.doy;\n\n            curWeek = weekOfYear(createLocal(), dow, doy);\n\n            weekYear = defaults(w.gg, config._a[YEAR], curWeek.year);\n\n            // Default to current week.\n            week = defaults(w.w, curWeek.week);\n\n            if (w.d != null) {\n                // weekday -- low day numbers are considered next week\n                weekday = w.d;\n                if (weekday < 0 || weekday > 6) {\n                    weekdayOverflow = true;\n                }\n            } else if (w.e != null) {\n                // local weekday -- counting starts from beginning of week\n                weekday = w.e + dow;\n                if (w.e < 0 || w.e > 6) {\n                    weekdayOverflow = true;\n                }\n            } else {\n                // default to beginning of week\n                weekday = dow;\n            }\n        }\n        if (week < 1 || week > weeksInYear(weekYear, dow, doy)) {\n            getParsingFlags(config)._overflowWeeks = true;\n        } else if (weekdayOverflow != null) {\n            getParsingFlags(config)._overflowWeekday = true;\n        } else {\n            temp = dayOfYearFromWeeks(weekYear, week, weekday, dow, doy);\n            config._a[YEAR] = temp.year;\n            config._dayOfYear = temp.dayOfYear;\n        }\n    }\n\n    // constant that refers to the ISO standard\n    hooks.ISO_8601 = function () {};\n\n    // constant that refers to the RFC 2822 form\n    hooks.RFC_2822 = function () {};\n\n    // date from string and format string\n    function configFromStringAndFormat(config) {\n        // TODO: Move this to another part of the creation flow to prevent circular deps\n        if (config._f === hooks.ISO_8601) {\n            configFromISO(config);\n            return;\n        }\n        if (config._f === hooks.RFC_2822) {\n            configFromRFC2822(config);\n            return;\n        }\n        config._a = [];\n        getParsingFlags(config).empty = true;\n\n        // This array is used to make a Date, either with `new Date` or `Date.UTC`\n        var string = '' + config._i,\n            i,\n            parsedInput,\n            tokens,\n            token,\n            skipped,\n            stringLength = string.length,\n            totalParsedInputLength = 0,\n            era,\n            tokenLen;\n\n        tokens =\n            expandFormat(config._f, config._locale).match(formattingTokens) || [];\n        tokenLen = tokens.length;\n        for (i = 0; i < tokenLen; i++) {\n            token = tokens[i];\n            parsedInput = (string.match(getParseRegexForToken(token, config)) ||\n                [])[0];\n            if (parsedInput) {\n                skipped = string.substr(0, string.indexOf(parsedInput));\n                if (skipped.length > 0) {\n                    getParsingFlags(config).unusedInput.push(skipped);\n                }\n                string = string.slice(\n                    string.indexOf(parsedInput) + parsedInput.length\n                );\n                totalParsedInputLength += parsedInput.length;\n            }\n            // don't parse if it's not a known token\n            if (formatTokenFunctions[token]) {\n                if (parsedInput) {\n                    getParsingFlags(config).empty = false;\n                } else {\n                    getParsingFlags(config).unusedTokens.push(token);\n                }\n                addTimeToArrayFromToken(token, parsedInput, config);\n            } else if (config._strict && !parsedInput) {\n                getParsingFlags(config).unusedTokens.push(token);\n            }\n        }\n\n        // add remaining unparsed input length to the string\n        getParsingFlags(config).charsLeftOver =\n            stringLength - totalParsedInputLength;\n        if (string.length > 0) {\n            getParsingFlags(config).unusedInput.push(string);\n        }\n\n        // clear _12h flag if hour is <= 12\n        if (\n            config._a[HOUR] <= 12 &&\n            getParsingFlags(config).bigHour === true &&\n            config._a[HOUR] > 0\n        ) {\n            getParsingFlags(config).bigHour = undefined;\n        }\n\n        getParsingFlags(config).parsedDateParts = config._a.slice(0);\n        getParsingFlags(config).meridiem = config._meridiem;\n        // handle meridiem\n        config._a[HOUR] = meridiemFixWrap(\n            config._locale,\n            config._a[HOUR],\n            config._meridiem\n        );\n\n        // handle era\n        era = getParsingFlags(config).era;\n        if (era !== null) {\n            config._a[YEAR] = config._locale.erasConvertYear(era, config._a[YEAR]);\n        }\n\n        configFromArray(config);\n        checkOverflow(config);\n    }\n\n    function meridiemFixWrap(locale, hour, meridiem) {\n        var isPm;\n\n        if (meridiem == null) {\n            // nothing to do\n            return hour;\n        }\n        if (locale.meridiemHour != null) {\n            return locale.meridiemHour(hour, meridiem);\n        } else if (locale.isPM != null) {\n            // Fallback\n            isPm = locale.isPM(meridiem);\n            if (isPm && hour < 12) {\n                hour += 12;\n            }\n            if (!isPm && hour === 12) {\n                hour = 0;\n            }\n            return hour;\n        } else {\n            // this is not supposed to happen\n            return hour;\n        }\n    }\n\n    // date from string and array of format strings\n    function configFromStringAndArray(config) {\n        var tempConfig,\n            bestMoment,\n            scoreToBeat,\n            i,\n            currentScore,\n            validFormatFound,\n            bestFormatIsValid = false,\n            configfLen = config._f.length;\n\n        if (configfLen === 0) {\n            getParsingFlags(config).invalidFormat = true;\n            config._d = new Date(NaN);\n            return;\n        }\n\n        for (i = 0; i < configfLen; i++) {\n            currentScore = 0;\n            validFormatFound = false;\n            tempConfig = copyConfig({}, config);\n            if (config._useUTC != null) {\n                tempConfig._useUTC = config._useUTC;\n            }\n            tempConfig._f = config._f[i];\n            configFromStringAndFormat(tempConfig);\n\n            if (isValid(tempConfig)) {\n                validFormatFound = true;\n            }\n\n            // if there is any input that was not parsed add a penalty for that format\n            currentScore += getParsingFlags(tempConfig).charsLeftOver;\n\n            //or tokens\n            currentScore += getParsingFlags(tempConfig).unusedTokens.length * 10;\n\n            getParsingFlags(tempConfig).score = currentScore;\n\n            if (!bestFormatIsValid) {\n                if (\n                    scoreToBeat == null ||\n                    currentScore < scoreToBeat ||\n                    validFormatFound\n                ) {\n                    scoreToBeat = currentScore;\n                    bestMoment = tempConfig;\n                    if (validFormatFound) {\n                        bestFormatIsValid = true;\n                    }\n                }\n            } else {\n                if (currentScore < scoreToBeat) {\n                    scoreToBeat = currentScore;\n                    bestMoment = tempConfig;\n                }\n            }\n        }\n\n        extend(config, bestMoment || tempConfig);\n    }\n\n    function configFromObject(config) {\n        if (config._d) {\n            return;\n        }\n\n        var i = normalizeObjectUnits(config._i),\n            dayOrDate = i.day === undefined ? i.date : i.day;\n        config._a = map(\n            [i.year, i.month, dayOrDate, i.hour, i.minute, i.second, i.millisecond],\n            function (obj) {\n                return obj && parseInt(obj, 10);\n            }\n        );\n\n        configFromArray(config);\n    }\n\n    function createFromConfig(config) {\n        var res = new Moment(checkOverflow(prepareConfig(config)));\n        if (res._nextDay) {\n            // Adding is smart enough around DST\n            res.add(1, 'd');\n            res._nextDay = undefined;\n        }\n\n        return res;\n    }\n\n    function prepareConfig(config) {\n        var input = config._i,\n            format = config._f;\n\n        config._locale = config._locale || getLocale(config._l);\n\n        if (input === null || (format === undefined && input === '')) {\n            return createInvalid({ nullInput: true });\n        }\n\n        if (typeof input === 'string') {\n            config._i = input = config._locale.preparse(input);\n        }\n\n        if (isMoment(input)) {\n            return new Moment(checkOverflow(input));\n        } else if (isDate(input)) {\n            config._d = input;\n        } else if (isArray(format)) {\n            configFromStringAndArray(config);\n        } else if (format) {\n            configFromStringAndFormat(config);\n        } else {\n            configFromInput(config);\n        }\n\n        if (!isValid(config)) {\n            config._d = null;\n        }\n\n        return config;\n    }\n\n    function configFromInput(config) {\n        var input = config._i;\n        if (isUndefined(input)) {\n            config._d = new Date(hooks.now());\n        } else if (isDate(input)) {\n            config._d = new Date(input.valueOf());\n        } else if (typeof input === 'string') {\n            configFromString(config);\n        } else if (isArray(input)) {\n            config._a = map(input.slice(0), function (obj) {\n                return parseInt(obj, 10);\n            });\n            configFromArray(config);\n        } else if (isObject(input)) {\n            configFromObject(config);\n        } else if (isNumber(input)) {\n            // from milliseconds\n            config._d = new Date(input);\n        } else {\n            hooks.createFromInputFallback(config);\n        }\n    }\n\n    function createLocalOrUTC(input, format, locale, strict, isUTC) {\n        var c = {};\n\n        if (format === true || format === false) {\n            strict = format;\n            format = undefined;\n        }\n\n        if (locale === true || locale === false) {\n            strict = locale;\n            locale = undefined;\n        }\n\n        if (\n            (isObject(input) && isObjectEmpty(input)) ||\n            (isArray(input) && input.length === 0)\n        ) {\n            input = undefined;\n        }\n        // object construction must be done this way.\n        // https://github.com/moment/moment/issues/1423\n        c._isAMomentObject = true;\n        c._useUTC = c._isUTC = isUTC;\n        c._l = locale;\n        c._i = input;\n        c._f = format;\n        c._strict = strict;\n\n        return createFromConfig(c);\n    }\n\n    function createLocal(input, format, locale, strict) {\n        return createLocalOrUTC(input, format, locale, strict, false);\n    }\n\n    var prototypeMin = deprecate(\n            'moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/',\n            function () {\n                var other = createLocal.apply(null, arguments);\n                if (this.isValid() && other.isValid()) {\n                    return other < this ? this : other;\n                } else {\n                    return createInvalid();\n                }\n            }\n        ),\n        prototypeMax = deprecate(\n            'moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/',\n            function () {\n                var other = createLocal.apply(null, arguments);\n                if (this.isValid() && other.isValid()) {\n                    return other > this ? this : other;\n                } else {\n                    return createInvalid();\n                }\n            }\n        );\n\n    // Pick a moment m from moments so that m[fn](other) is true for all\n    // other. This relies on the function fn to be transitive.\n    //\n    // moments should either be an array of moment objects or an array, whose\n    // first element is an array of moment objects.\n    function pickBy(fn, moments) {\n        var res, i;\n        if (moments.length === 1 && isArray(moments[0])) {\n            moments = moments[0];\n        }\n        if (!moments.length) {\n            return createLocal();\n        }\n        res = moments[0];\n        for (i = 1; i < moments.length; ++i) {\n            if (!moments[i].isValid() || moments[i][fn](res)) {\n                res = moments[i];\n            }\n        }\n        return res;\n    }\n\n    // TODO: Use [].sort instead?\n    function min() {\n        var args = [].slice.call(arguments, 0);\n\n        return pickBy('isBefore', args);\n    }\n\n    function max() {\n        var args = [].slice.call(arguments, 0);\n\n        return pickBy('isAfter', args);\n    }\n\n    var now = function () {\n        return Date.now ? Date.now() : +new Date();\n    };\n\n    var ordering = [\n        'year',\n        'quarter',\n        'month',\n        'week',\n        'day',\n        'hour',\n        'minute',\n        'second',\n        'millisecond',\n    ];\n\n    function isDurationValid(m) {\n        var key,\n            unitHasDecimal = false,\n            i,\n            orderLen = ordering.length;\n        for (key in m) {\n            if (\n                hasOwnProp(m, key) &&\n                !(\n                    indexOf.call(ordering, key) !== -1 &&\n                    (m[key] == null || !isNaN(m[key]))\n                )\n            ) {\n                return false;\n            }\n        }\n\n        for (i = 0; i < orderLen; ++i) {\n            if (m[ordering[i]]) {\n                if (unitHasDecimal) {\n                    return false; // only allow non-integers for smallest unit\n                }\n                if (parseFloat(m[ordering[i]]) !== toInt(m[ordering[i]])) {\n                    unitHasDecimal = true;\n                }\n            }\n        }\n\n        return true;\n    }\n\n    function isValid$1() {\n        return this._isValid;\n    }\n\n    function createInvalid$1() {\n        return createDuration(NaN);\n    }\n\n    function Duration(duration) {\n        var normalizedInput = normalizeObjectUnits(duration),\n            years = normalizedInput.year || 0,\n            quarters = normalizedInput.quarter || 0,\n            months = normalizedInput.month || 0,\n            weeks = normalizedInput.week || normalizedInput.isoWeek || 0,\n            days = normalizedInput.day || 0,\n            hours = normalizedInput.hour || 0,\n            minutes = normalizedInput.minute || 0,\n            seconds = normalizedInput.second || 0,\n            milliseconds = normalizedInput.millisecond || 0;\n\n        this._isValid = isDurationValid(normalizedInput);\n\n        // representation for dateAddRemove\n        this._milliseconds =\n            +milliseconds +\n            seconds * 1e3 + // 1000\n            minutes * 6e4 + // 1000 * 60\n            hours * 1000 * 60 * 60; //using 1000 * 60 * 60 instead of 36e5 to avoid floating point rounding errors https://github.com/moment/moment/issues/2978\n        // Because of dateAddRemove treats 24 hours as different from a\n        // day when working around DST, we need to store them separately\n        this._days = +days + weeks * 7;\n        // It is impossible to translate months into days without knowing\n        // which months you are are talking about, so we have to store\n        // it separately.\n        this._months = +months + quarters * 3 + years * 12;\n\n        this._data = {};\n\n        this._locale = getLocale();\n\n        this._bubble();\n    }\n\n    function isDuration(obj) {\n        return obj instanceof Duration;\n    }\n\n    function absRound(number) {\n        if (number < 0) {\n            return Math.round(-1 * number) * -1;\n        } else {\n            return Math.round(number);\n        }\n    }\n\n    // compare two arrays, return the number of differences\n    function compareArrays(array1, array2, dontConvert) {\n        var len = Math.min(array1.length, array2.length),\n            lengthDiff = Math.abs(array1.length - array2.length),\n            diffs = 0,\n            i;\n        for (i = 0; i < len; i++) {\n            if (\n                (dontConvert && array1[i] !== array2[i]) ||\n                (!dontConvert && toInt(array1[i]) !== toInt(array2[i]))\n            ) {\n                diffs++;\n            }\n        }\n        return diffs + lengthDiff;\n    }\n\n    // FORMATTING\n\n    function offset(token, separator) {\n        addFormatToken(token, 0, 0, function () {\n            var offset = this.utcOffset(),\n                sign = '+';\n            if (offset < 0) {\n                offset = -offset;\n                sign = '-';\n            }\n            return (\n                sign +\n                zeroFill(~~(offset / 60), 2) +\n                separator +\n                zeroFill(~~offset % 60, 2)\n            );\n        });\n    }\n\n    offset('Z', ':');\n    offset('ZZ', '');\n\n    // PARSING\n\n    addRegexToken('Z', matchShortOffset);\n    addRegexToken('ZZ', matchShortOffset);\n    addParseToken(['Z', 'ZZ'], function (input, array, config) {\n        config._useUTC = true;\n        config._tzm = offsetFromString(matchShortOffset, input);\n    });\n\n    // HELPERS\n\n    // timezone chunker\n    // '+10:00' > ['10',  '00']\n    // '-1530'  > ['-15', '30']\n    var chunkOffset = /([\\+\\-]|\\d\\d)/gi;\n\n    function offsetFromString(matcher, string) {\n        var matches = (string || '').match(matcher),\n            chunk,\n            parts,\n            minutes;\n\n        if (matches === null) {\n            return null;\n        }\n\n        chunk = matches[matches.length - 1] || [];\n        parts = (chunk + '').match(chunkOffset) || ['-', 0, 0];\n        minutes = +(parts[1] * 60) + toInt(parts[2]);\n\n        return minutes === 0 ? 0 : parts[0] === '+' ? minutes : -minutes;\n    }\n\n    // Return a moment from input, that is local/utc/zone equivalent to model.\n    function cloneWithOffset(input, model) {\n        var res, diff;\n        if (model._isUTC) {\n            res = model.clone();\n            diff =\n                (isMoment(input) || isDate(input)\n                    ? input.valueOf()\n                    : createLocal(input).valueOf()) - res.valueOf();\n            // Use low-level api, because this fn is low-level api.\n            res._d.setTime(res._d.valueOf() + diff);\n            hooks.updateOffset(res, false);\n            return res;\n        } else {\n            return createLocal(input).local();\n        }\n    }\n\n    function getDateOffset(m) {\n        // On Firefox.24 Date#getTimezoneOffset returns a floating point.\n        // https://github.com/moment/moment/pull/1871\n        return -Math.round(m._d.getTimezoneOffset());\n    }\n\n    // HOOKS\n\n    // This function will be called whenever a moment is mutated.\n    // It is intended to keep the offset in sync with the timezone.\n    hooks.updateOffset = function () {};\n\n    // MOMENTS\n\n    // keepLocalTime = true means only change the timezone, without\n    // affecting the local hour. So 5:31:26 +0300 --[utcOffset(2, true)]-->\n    // 5:31:26 +0200 It is possible that 5:31:26 doesn't exist with offset\n    // +0200, so we adjust the time as needed, to be valid.\n    //\n    // Keeping the time actually adds/subtracts (one hour)\n    // from the actual represented time. That is why we call updateOffset\n    // a second time. In case it wants us to change the offset again\n    // _changeInProgress == true case, then we have to adjust, because\n    // there is no such time in the given timezone.\n    function getSetOffset(input, keepLocalTime, keepMinutes) {\n        var offset = this._offset || 0,\n            localAdjust;\n        if (!this.isValid()) {\n            return input != null ? this : NaN;\n        }\n        if (input != null) {\n            if (typeof input === 'string') {\n                input = offsetFromString(matchShortOffset, input);\n                if (input === null) {\n                    return this;\n                }\n            } else if (Math.abs(input) < 16 && !keepMinutes) {\n                input = input * 60;\n            }\n            if (!this._isUTC && keepLocalTime) {\n                localAdjust = getDateOffset(this);\n            }\n            this._offset = input;\n            this._isUTC = true;\n            if (localAdjust != null) {\n                this.add(localAdjust, 'm');\n            }\n            if (offset !== input) {\n                if (!keepLocalTime || this._changeInProgress) {\n                    addSubtract(\n                        this,\n                        createDuration(input - offset, 'm'),\n                        1,\n                        false\n                    );\n                } else if (!this._changeInProgress) {\n                    this._changeInProgress = true;\n                    hooks.updateOffset(this, true);\n                    this._changeInProgress = null;\n                }\n            }\n            return this;\n        } else {\n            return this._isUTC ? offset : getDateOffset(this);\n        }\n    }\n\n    function getSetZone(input, keepLocalTime) {\n        if (input != null) {\n            if (typeof input !== 'string') {\n                input = -input;\n            }\n\n            this.utcOffset(input, keepLocalTime);\n\n            return this;\n        } else {\n            return -this.utcOffset();\n        }\n    }\n\n    function setOffsetToUTC(keepLocalTime) {\n        return this.utcOffset(0, keepLocalTime);\n    }\n\n    function setOffsetToLocal(keepLocalTime) {\n        if (this._isUTC) {\n            this.utcOffset(0, keepLocalTime);\n            this._isUTC = false;\n\n            if (keepLocalTime) {\n                this.subtract(getDateOffset(this), 'm');\n            }\n        }\n        return this;\n    }\n\n    function setOffsetToParsedOffset() {\n        if (this._tzm != null) {\n            this.utcOffset(this._tzm, false, true);\n        } else if (typeof this._i === 'string') {\n            var tZone = offsetFromString(matchOffset, this._i);\n            if (tZone != null) {\n                this.utcOffset(tZone);\n            } else {\n                this.utcOffset(0, true);\n            }\n        }\n        return this;\n    }\n\n    function hasAlignedHourOffset(input) {\n        if (!this.isValid()) {\n            return false;\n        }\n        input = input ? createLocal(input).utcOffset() : 0;\n\n        return (this.utcOffset() - input) % 60 === 0;\n    }\n\n    function isDaylightSavingTime() {\n        return (\n            this.utcOffset() > this.clone().month(0).utcOffset() ||\n            this.utcOffset() > this.clone().month(5).utcOffset()\n        );\n    }\n\n    function isDaylightSavingTimeShifted() {\n        if (!isUndefined(this._isDSTShifted)) {\n            return this._isDSTShifted;\n        }\n\n        var c = {},\n            other;\n\n        copyConfig(c, this);\n        c = prepareConfig(c);\n\n        if (c._a) {\n            other = c._isUTC ? createUTC(c._a) : createLocal(c._a);\n            this._isDSTShifted =\n                this.isValid() && compareArrays(c._a, other.toArray()) > 0;\n        } else {\n            this._isDSTShifted = false;\n        }\n\n        return this._isDSTShifted;\n    }\n\n    function isLocal() {\n        return this.isValid() ? !this._isUTC : false;\n    }\n\n    function isUtcOffset() {\n        return this.isValid() ? this._isUTC : false;\n    }\n\n    function isUtc() {\n        return this.isValid() ? this._isUTC && this._offset === 0 : false;\n    }\n\n    // ASP.NET json date format regex\n    var aspNetRegex = /^(-|\\+)?(?:(\\d*)[. ])?(\\d+):(\\d+)(?::(\\d+)(\\.\\d*)?)?$/,\n        // from http://docs.closure-library.googlecode.com/git/closure_goog_date_date.js.source.html\n        // somewhat more in line with 4.4.3.2 2004 spec, but allows decimal anywhere\n        // and further modified to allow for strings containing both week and day\n        isoRegex =\n            /^(-|\\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;\n\n    function createDuration(input, key) {\n        var duration = input,\n            // matching against regexp is expensive, do it on demand\n            match = null,\n            sign,\n            ret,\n            diffRes;\n\n        if (isDuration(input)) {\n            duration = {\n                ms: input._milliseconds,\n                d: input._days,\n                M: input._months,\n            };\n        } else if (isNumber(input) || !isNaN(+input)) {\n            duration = {};\n            if (key) {\n                duration[key] = +input;\n            } else {\n                duration.milliseconds = +input;\n            }\n        } else if ((match = aspNetRegex.exec(input))) {\n            sign = match[1] === '-' ? -1 : 1;\n            duration = {\n                y: 0,\n                d: toInt(match[DATE]) * sign,\n                h: toInt(match[HOUR]) * sign,\n                m: toInt(match[MINUTE]) * sign,\n                s: toInt(match[SECOND]) * sign,\n                ms: toInt(absRound(match[MILLISECOND] * 1000)) * sign, // the millisecond decimal point is included in the match\n            };\n        } else if ((match = isoRegex.exec(input))) {\n            sign = match[1] === '-' ? -1 : 1;\n            duration = {\n                y: parseIso(match[2], sign),\n                M: parseIso(match[3], sign),\n                w: parseIso(match[4], sign),\n                d: parseIso(match[5], sign),\n                h: parseIso(match[6], sign),\n                m: parseIso(match[7], sign),\n                s: parseIso(match[8], sign),\n            };\n        } else if (duration == null) {\n            // checks for null or undefined\n            duration = {};\n        } else if (\n            typeof duration === 'object' &&\n            ('from' in duration || 'to' in duration)\n        ) {\n            diffRes = momentsDifference(\n                createLocal(duration.from),\n                createLocal(duration.to)\n            );\n\n            duration = {};\n            duration.ms = diffRes.milliseconds;\n            duration.M = diffRes.months;\n        }\n\n        ret = new Duration(duration);\n\n        if (isDuration(input) && hasOwnProp(input, '_locale')) {\n            ret._locale = input._locale;\n        }\n\n        if (isDuration(input) && hasOwnProp(input, '_isValid')) {\n            ret._isValid = input._isValid;\n        }\n\n        return ret;\n    }\n\n    createDuration.fn = Duration.prototype;\n    createDuration.invalid = createInvalid$1;\n\n    function parseIso(inp, sign) {\n        // We'd normally use ~~inp for this, but unfortunately it also\n        // converts floats to ints.\n        // inp may be undefined, so careful calling replace on it.\n        var res = inp && parseFloat(inp.replace(',', '.'));\n        // apply sign while we're at it\n        return (isNaN(res) ? 0 : res) * sign;\n    }\n\n    function positiveMomentsDifference(base, other) {\n        var res = {};\n\n        res.months =\n            other.month() - base.month() + (other.year() - base.year()) * 12;\n        if (base.clone().add(res.months, 'M').isAfter(other)) {\n            --res.months;\n        }\n\n        res.milliseconds = +other - +base.clone().add(res.months, 'M');\n\n        return res;\n    }\n\n    function momentsDifference(base, other) {\n        var res;\n        if (!(base.isValid() && other.isValid())) {\n            return { milliseconds: 0, months: 0 };\n        }\n\n        other = cloneWithOffset(other, base);\n        if (base.isBefore(other)) {\n            res = positiveMomentsDifference(base, other);\n        } else {\n            res = positiveMomentsDifference(other, base);\n            res.milliseconds = -res.milliseconds;\n            res.months = -res.months;\n        }\n\n        return res;\n    }\n\n    // TODO: remove 'name' arg after deprecation is removed\n    function createAdder(direction, name) {\n        return function (val, period) {\n            var dur, tmp;\n            //invert the arguments, but complain about it\n            if (period !== null && !isNaN(+period)) {\n                deprecateSimple(\n                    name,\n                    'moment().' +\n                        name +\n                        '(period, number) is deprecated. Please use moment().' +\n                        name +\n                        '(number, period). ' +\n                        'See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info.'\n                );\n                tmp = val;\n                val = period;\n                period = tmp;\n            }\n\n            dur = createDuration(val, period);\n            addSubtract(this, dur, direction);\n            return this;\n        };\n    }\n\n    function addSubtract(mom, duration, isAdding, updateOffset) {\n        var milliseconds = duration._milliseconds,\n            days = absRound(duration._days),\n            months = absRound(duration._months);\n\n        if (!mom.isValid()) {\n            // No op\n            return;\n        }\n\n        updateOffset = updateOffset == null ? true : updateOffset;\n\n        if (months) {\n            setMonth(mom, get(mom, 'Month') + months * isAdding);\n        }\n        if (days) {\n            set$1(mom, 'Date', get(mom, 'Date') + days * isAdding);\n        }\n        if (milliseconds) {\n            mom._d.setTime(mom._d.valueOf() + milliseconds * isAdding);\n        }\n        if (updateOffset) {\n            hooks.updateOffset(mom, days || months);\n        }\n    }\n\n    var add = createAdder(1, 'add'),\n        subtract = createAdder(-1, 'subtract');\n\n    function isString(input) {\n        return typeof input === 'string' || input instanceof String;\n    }\n\n    // type MomentInput = Moment | Date | string | number | (number | string)[] | MomentInputObject | void; // null | undefined\n    function isMomentInput(input) {\n        return (\n            isMoment(input) ||\n            isDate(input) ||\n            isString(input) ||\n            isNumber(input) ||\n            isNumberOrStringArray(input) ||\n            isMomentInputObject(input) ||\n            input === null ||\n            input === undefined\n        );\n    }\n\n    function isMomentInputObject(input) {\n        var objectTest = isObject(input) && !isObjectEmpty(input),\n            propertyTest = false,\n            properties = [\n                'years',\n                'year',\n                'y',\n                'months',\n                'month',\n                'M',\n                'days',\n                'day',\n                'd',\n                'dates',\n                'date',\n                'D',\n                'hours',\n                'hour',\n                'h',\n                'minutes',\n                'minute',\n                'm',\n                'seconds',\n                'second',\n                's',\n                'milliseconds',\n                'millisecond',\n                'ms',\n            ],\n            i,\n            property,\n            propertyLen = properties.length;\n\n        for (i = 0; i < propertyLen; i += 1) {\n            property = properties[i];\n            propertyTest = propertyTest || hasOwnProp(input, property);\n        }\n\n        return objectTest && propertyTest;\n    }\n\n    function isNumberOrStringArray(input) {\n        var arrayTest = isArray(input),\n            dataTypeTest = false;\n        if (arrayTest) {\n            dataTypeTest =\n                input.filter(function (item) {\n                    return !isNumber(item) && isString(input);\n                }).length === 0;\n        }\n        return arrayTest && dataTypeTest;\n    }\n\n    function isCalendarSpec(input) {\n        var objectTest = isObject(input) && !isObjectEmpty(input),\n            propertyTest = false,\n            properties = [\n                'sameDay',\n                'nextDay',\n                'lastDay',\n                'nextWeek',\n                'lastWeek',\n                'sameElse',\n            ],\n            i,\n            property;\n\n        for (i = 0; i < properties.length; i += 1) {\n            property = properties[i];\n            propertyTest = propertyTest || hasOwnProp(input, property);\n        }\n\n        return objectTest && propertyTest;\n    }\n\n    function getCalendarFormat(myMoment, now) {\n        var diff = myMoment.diff(now, 'days', true);\n        return diff < -6\n            ? 'sameElse'\n            : diff < -1\n            ? 'lastWeek'\n            : diff < 0\n            ? 'lastDay'\n            : diff < 1\n            ? 'sameDay'\n            : diff < 2\n            ? 'nextDay'\n            : diff < 7\n            ? 'nextWeek'\n            : 'sameElse';\n    }\n\n    function calendar$1(time, formats) {\n        // Support for single parameter, formats only overload to the calendar function\n        if (arguments.length === 1) {\n            if (!arguments[0]) {\n                time = undefined;\n                formats = undefined;\n            } else if (isMomentInput(arguments[0])) {\n                time = arguments[0];\n                formats = undefined;\n            } else if (isCalendarSpec(arguments[0])) {\n                formats = arguments[0];\n                time = undefined;\n            }\n        }\n        // We want to compare the start of today, vs this.\n        // Getting start-of-today depends on whether we're local/utc/offset or not.\n        var now = time || createLocal(),\n            sod = cloneWithOffset(now, this).startOf('day'),\n            format = hooks.calendarFormat(this, sod) || 'sameElse',\n            output =\n                formats &&\n                (isFunction(formats[format])\n                    ? formats[format].call(this, now)\n                    : formats[format]);\n\n        return this.format(\n            output || this.localeData().calendar(format, this, createLocal(now))\n        );\n    }\n\n    function clone() {\n        return new Moment(this);\n    }\n\n    function isAfter(input, units) {\n        var localInput = isMoment(input) ? input : createLocal(input);\n        if (!(this.isValid() && localInput.isValid())) {\n            return false;\n        }\n        units = normalizeUnits(units) || 'millisecond';\n        if (units === 'millisecond') {\n            return this.valueOf() > localInput.valueOf();\n        } else {\n            return localInput.valueOf() < this.clone().startOf(units).valueOf();\n        }\n    }\n\n    function isBefore(input, units) {\n        var localInput = isMoment(input) ? input : createLocal(input);\n        if (!(this.isValid() && localInput.isValid())) {\n            return false;\n        }\n        units = normalizeUnits(units) || 'millisecond';\n        if (units === 'millisecond') {\n            return this.valueOf() < localInput.valueOf();\n        } else {\n            return this.clone().endOf(units).valueOf() < localInput.valueOf();\n        }\n    }\n\n    function isBetween(from, to, units, inclusivity) {\n        var localFrom = isMoment(from) ? from : createLocal(from),\n            localTo = isMoment(to) ? to : createLocal(to);\n        if (!(this.isValid() && localFrom.isValid() && localTo.isValid())) {\n            return false;\n        }\n        inclusivity = inclusivity || '()';\n        return (\n            (inclusivity[0] === '('\n                ? this.isAfter(localFrom, units)\n                : !this.isBefore(localFrom, units)) &&\n            (inclusivity[1] === ')'\n                ? this.isBefore(localTo, units)\n                : !this.isAfter(localTo, units))\n        );\n    }\n\n    function isSame(input, units) {\n        var localInput = isMoment(input) ? input : createLocal(input),\n            inputMs;\n        if (!(this.isValid() && localInput.isValid())) {\n            return false;\n        }\n        units = normalizeUnits(units) || 'millisecond';\n        if (units === 'millisecond') {\n            return this.valueOf() === localInput.valueOf();\n        } else {\n            inputMs = localInput.valueOf();\n            return (\n                this.clone().startOf(units).valueOf() <= inputMs &&\n                inputMs <= this.clone().endOf(units).valueOf()\n            );\n        }\n    }\n\n    function isSameOrAfter(input, units) {\n        return this.isSame(input, units) || this.isAfter(input, units);\n    }\n\n    function isSameOrBefore(input, units) {\n        return this.isSame(input, units) || this.isBefore(input, units);\n    }\n\n    function diff(input, units, asFloat) {\n        var that, zoneDelta, output;\n\n        if (!this.isValid()) {\n            return NaN;\n        }\n\n        that = cloneWithOffset(input, this);\n\n        if (!that.isValid()) {\n            return NaN;\n        }\n\n        zoneDelta = (that.utcOffset() - this.utcOffset()) * 6e4;\n\n        units = normalizeUnits(units);\n\n        switch (units) {\n            case 'year':\n                output = monthDiff(this, that) / 12;\n                break;\n            case 'month':\n                output = monthDiff(this, that);\n                break;\n            case 'quarter':\n                output = monthDiff(this, that) / 3;\n                break;\n            case 'second':\n                output = (this - that) / 1e3;\n                break; // 1000\n            case 'minute':\n                output = (this - that) / 6e4;\n                break; // 1000 * 60\n            case 'hour':\n                output = (this - that) / 36e5;\n                break; // 1000 * 60 * 60\n            case 'day':\n                output = (this - that - zoneDelta) / 864e5;\n                break; // 1000 * 60 * 60 * 24, negate dst\n            case 'week':\n                output = (this - that - zoneDelta) / 6048e5;\n                break; // 1000 * 60 * 60 * 24 * 7, negate dst\n            default:\n                output = this - that;\n        }\n\n        return asFloat ? output : absFloor(output);\n    }\n\n    function monthDiff(a, b) {\n        if (a.date() < b.date()) {\n            // end-of-month calculations work correct when the start month has more\n            // days than the end month.\n            return -monthDiff(b, a);\n        }\n        // difference in months\n        var wholeMonthDiff = (b.year() - a.year()) * 12 + (b.month() - a.month()),\n            // b is in (anchor - 1 month, anchor + 1 month)\n            anchor = a.clone().add(wholeMonthDiff, 'months'),\n            anchor2,\n            adjust;\n\n        if (b - anchor < 0) {\n            anchor2 = a.clone().add(wholeMonthDiff - 1, 'months');\n            // linear across the month\n            adjust = (b - anchor) / (anchor - anchor2);\n        } else {\n            anchor2 = a.clone().add(wholeMonthDiff + 1, 'months');\n            // linear across the month\n            adjust = (b - anchor) / (anchor2 - anchor);\n        }\n\n        //check for negative zero, return zero if negative zero\n        return -(wholeMonthDiff + adjust) || 0;\n    }\n\n    hooks.defaultFormat = 'YYYY-MM-DDTHH:mm:ssZ';\n    hooks.defaultFormatUtc = 'YYYY-MM-DDTHH:mm:ss[Z]';\n\n    function toString() {\n        return this.clone().locale('en').format('ddd MMM DD YYYY HH:mm:ss [GMT]ZZ');\n    }\n\n    function toISOString(keepOffset) {\n        if (!this.isValid()) {\n            return null;\n        }\n        var utc = keepOffset !== true,\n            m = utc ? this.clone().utc() : this;\n        if (m.year() < 0 || m.year() > 9999) {\n            return formatMoment(\n                m,\n                utc\n                    ? 'YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]'\n                    : 'YYYYYY-MM-DD[T]HH:mm:ss.SSSZ'\n            );\n        }\n        if (isFunction(Date.prototype.toISOString)) {\n            // native implementation is ~50x faster, use it when we can\n            if (utc) {\n                return this.toDate().toISOString();\n            } else {\n                return new Date(this.valueOf() + this.utcOffset() * 60 * 1000)\n                    .toISOString()\n                    .replace('Z', formatMoment(m, 'Z'));\n            }\n        }\n        return formatMoment(\n            m,\n            utc ? 'YYYY-MM-DD[T]HH:mm:ss.SSS[Z]' : 'YYYY-MM-DD[T]HH:mm:ss.SSSZ'\n        );\n    }\n\n    /**\n     * Return a human readable representation of a moment that can\n     * also be evaluated to get a new moment which is the same\n     *\n     * @link https://nodejs.org/dist/latest/docs/api/util.html#util_custom_inspect_function_on_objects\n     */\n    function inspect() {\n        if (!this.isValid()) {\n            return 'moment.invalid(/* ' + this._i + ' */)';\n        }\n        var func = 'moment',\n            zone = '',\n            prefix,\n            year,\n            datetime,\n            suffix;\n        if (!this.isLocal()) {\n            func = this.utcOffset() === 0 ? 'moment.utc' : 'moment.parseZone';\n            zone = 'Z';\n        }\n        prefix = '[' + func + '(\"]';\n        year = 0 <= this.year() && this.year() <= 9999 ? 'YYYY' : 'YYYYYY';\n        datetime = '-MM-DD[T]HH:mm:ss.SSS';\n        suffix = zone + '[\")]';\n\n        return this.format(prefix + year + datetime + suffix);\n    }\n\n    function format(inputString) {\n        if (!inputString) {\n            inputString = this.isUtc()\n                ? hooks.defaultFormatUtc\n                : hooks.defaultFormat;\n        }\n        var output = formatMoment(this, inputString);\n        return this.localeData().postformat(output);\n    }\n\n    function from(time, withoutSuffix) {\n        if (\n            this.isValid() &&\n            ((isMoment(time) && time.isValid()) || createLocal(time).isValid())\n        ) {\n            return createDuration({ to: this, from: time })\n                .locale(this.locale())\n                .humanize(!withoutSuffix);\n        } else {\n            return this.localeData().invalidDate();\n        }\n    }\n\n    function fromNow(withoutSuffix) {\n        return this.from(createLocal(), withoutSuffix);\n    }\n\n    function to(time, withoutSuffix) {\n        if (\n            this.isValid() &&\n            ((isMoment(time) && time.isValid()) || createLocal(time).isValid())\n        ) {\n            return createDuration({ from: this, to: time })\n                .locale(this.locale())\n                .humanize(!withoutSuffix);\n        } else {\n            return this.localeData().invalidDate();\n        }\n    }\n\n    function toNow(withoutSuffix) {\n        return this.to(createLocal(), withoutSuffix);\n    }\n\n    // If passed a locale key, it will set the locale for this\n    // instance.  Otherwise, it will return the locale configuration\n    // variables for this instance.\n    function locale(key) {\n        var newLocaleData;\n\n        if (key === undefined) {\n            return this._locale._abbr;\n        } else {\n            newLocaleData = getLocale(key);\n            if (newLocaleData != null) {\n                this._locale = newLocaleData;\n            }\n            return this;\n        }\n    }\n\n    var lang = deprecate(\n        'moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.',\n        function (key) {\n            if (key === undefined) {\n                return this.localeData();\n            } else {\n                return this.locale(key);\n            }\n        }\n    );\n\n    function localeData() {\n        return this._locale;\n    }\n\n    var MS_PER_SECOND = 1000,\n        MS_PER_MINUTE = 60 * MS_PER_SECOND,\n        MS_PER_HOUR = 60 * MS_PER_MINUTE,\n        MS_PER_400_YEARS = (365 * 400 + 97) * 24 * MS_PER_HOUR;\n\n    // actual modulo - handles negative numbers (for dates before 1970):\n    function mod$1(dividend, divisor) {\n        return ((dividend % divisor) + divisor) % divisor;\n    }\n\n    function localStartOfDate(y, m, d) {\n        // the date constructor remaps years 0-99 to 1900-1999\n        if (y < 100 && y >= 0) {\n            // preserve leap years using a full 400 year cycle, then reset\n            return new Date(y + 400, m, d) - MS_PER_400_YEARS;\n        } else {\n            return new Date(y, m, d).valueOf();\n        }\n    }\n\n    function utcStartOfDate(y, m, d) {\n        // Date.UTC remaps years 0-99 to 1900-1999\n        if (y < 100 && y >= 0) {\n            // preserve leap years using a full 400 year cycle, then reset\n            return Date.UTC(y + 400, m, d) - MS_PER_400_YEARS;\n        } else {\n            return Date.UTC(y, m, d);\n        }\n    }\n\n    function startOf(units) {\n        var time, startOfDate;\n        units = normalizeUnits(units);\n        if (units === undefined || units === 'millisecond' || !this.isValid()) {\n            return this;\n        }\n\n        startOfDate = this._isUTC ? utcStartOfDate : localStartOfDate;\n\n        switch (units) {\n            case 'year':\n                time = startOfDate(this.year(), 0, 1);\n                break;\n            case 'quarter':\n                time = startOfDate(\n                    this.year(),\n                    this.month() - (this.month() % 3),\n                    1\n                );\n                break;\n            case 'month':\n                time = startOfDate(this.year(), this.month(), 1);\n                break;\n            case 'week':\n                time = startOfDate(\n                    this.year(),\n                    this.month(),\n                    this.date() - this.weekday()\n                );\n                break;\n            case 'isoWeek':\n                time = startOfDate(\n                    this.year(),\n                    this.month(),\n                    this.date() - (this.isoWeekday() - 1)\n                );\n                break;\n            case 'day':\n            case 'date':\n                time = startOfDate(this.year(), this.month(), this.date());\n                break;\n            case 'hour':\n                time = this._d.valueOf();\n                time -= mod$1(\n                    time + (this._isUTC ? 0 : this.utcOffset() * MS_PER_MINUTE),\n                    MS_PER_HOUR\n                );\n                break;\n            case 'minute':\n                time = this._d.valueOf();\n                time -= mod$1(time, MS_PER_MINUTE);\n                break;\n            case 'second':\n                time = this._d.valueOf();\n                time -= mod$1(time, MS_PER_SECOND);\n                break;\n        }\n\n        this._d.setTime(time);\n        hooks.updateOffset(this, true);\n        return this;\n    }\n\n    function endOf(units) {\n        var time, startOfDate;\n        units = normalizeUnits(units);\n        if (units === undefined || units === 'millisecond' || !this.isValid()) {\n            return this;\n        }\n\n        startOfDate = this._isUTC ? utcStartOfDate : localStartOfDate;\n\n        switch (units) {\n            case 'year':\n                time = startOfDate(this.year() + 1, 0, 1) - 1;\n                break;\n            case 'quarter':\n                time =\n                    startOfDate(\n                        this.year(),\n                        this.month() - (this.month() % 3) + 3,\n                        1\n                    ) - 1;\n                break;\n            case 'month':\n                time = startOfDate(this.year(), this.month() + 1, 1) - 1;\n                break;\n            case 'week':\n                time =\n                    startOfDate(\n                        this.year(),\n                        this.month(),\n                        this.date() - this.weekday() + 7\n                    ) - 1;\n                break;\n            case 'isoWeek':\n                time =\n                    startOfDate(\n                        this.year(),\n                        this.month(),\n                        this.date() - (this.isoWeekday() - 1) + 7\n                    ) - 1;\n                break;\n            case 'day':\n            case 'date':\n                time = startOfDate(this.year(), this.month(), this.date() + 1) - 1;\n                break;\n            case 'hour':\n                time = this._d.valueOf();\n                time +=\n                    MS_PER_HOUR -\n                    mod$1(\n                        time + (this._isUTC ? 0 : this.utcOffset() * MS_PER_MINUTE),\n                        MS_PER_HOUR\n                    ) -\n                    1;\n                break;\n            case 'minute':\n                time = this._d.valueOf();\n                time += MS_PER_MINUTE - mod$1(time, MS_PER_MINUTE) - 1;\n                break;\n            case 'second':\n                time = this._d.valueOf();\n                time += MS_PER_SECOND - mod$1(time, MS_PER_SECOND) - 1;\n                break;\n        }\n\n        this._d.setTime(time);\n        hooks.updateOffset(this, true);\n        return this;\n    }\n\n    function valueOf() {\n        return this._d.valueOf() - (this._offset || 0) * 60000;\n    }\n\n    function unix() {\n        return Math.floor(this.valueOf() / 1000);\n    }\n\n    function toDate() {\n        return new Date(this.valueOf());\n    }\n\n    function toArray() {\n        var m = this;\n        return [\n            m.year(),\n            m.month(),\n            m.date(),\n            m.hour(),\n            m.minute(),\n            m.second(),\n            m.millisecond(),\n        ];\n    }\n\n    function toObject() {\n        var m = this;\n        return {\n            years: m.year(),\n            months: m.month(),\n            date: m.date(),\n            hours: m.hours(),\n            minutes: m.minutes(),\n            seconds: m.seconds(),\n            milliseconds: m.milliseconds(),\n        };\n    }\n\n    function toJSON() {\n        // new Date(NaN).toJSON() === null\n        return this.isValid() ? this.toISOString() : null;\n    }\n\n    function isValid$2() {\n        return isValid(this);\n    }\n\n    function parsingFlags() {\n        return extend({}, getParsingFlags(this));\n    }\n\n    function invalidAt() {\n        return getParsingFlags(this).overflow;\n    }\n\n    function creationData() {\n        return {\n            input: this._i,\n            format: this._f,\n            locale: this._locale,\n            isUTC: this._isUTC,\n            strict: this._strict,\n        };\n    }\n\n    addFormatToken('N', 0, 0, 'eraAbbr');\n    addFormatToken('NN', 0, 0, 'eraAbbr');\n    addFormatToken('NNN', 0, 0, 'eraAbbr');\n    addFormatToken('NNNN', 0, 0, 'eraName');\n    addFormatToken('NNNNN', 0, 0, 'eraNarrow');\n\n    addFormatToken('y', ['y', 1], 'yo', 'eraYear');\n    addFormatToken('y', ['yy', 2], 0, 'eraYear');\n    addFormatToken('y', ['yyy', 3], 0, 'eraYear');\n    addFormatToken('y', ['yyyy', 4], 0, 'eraYear');\n\n    addRegexToken('N', matchEraAbbr);\n    addRegexToken('NN', matchEraAbbr);\n    addRegexToken('NNN', matchEraAbbr);\n    addRegexToken('NNNN', matchEraName);\n    addRegexToken('NNNNN', matchEraNarrow);\n\n    addParseToken(\n        ['N', 'NN', 'NNN', 'NNNN', 'NNNNN'],\n        function (input, array, config, token) {\n            var era = config._locale.erasParse(input, token, config._strict);\n            if (era) {\n                getParsingFlags(config).era = era;\n            } else {\n                getParsingFlags(config).invalidEra = input;\n            }\n        }\n    );\n\n    addRegexToken('y', matchUnsigned);\n    addRegexToken('yy', matchUnsigned);\n    addRegexToken('yyy', matchUnsigned);\n    addRegexToken('yyyy', matchUnsigned);\n    addRegexToken('yo', matchEraYearOrdinal);\n\n    addParseToken(['y', 'yy', 'yyy', 'yyyy'], YEAR);\n    addParseToken(['yo'], function (input, array, config, token) {\n        var match;\n        if (config._locale._eraYearOrdinalRegex) {\n            match = input.match(config._locale._eraYearOrdinalRegex);\n        }\n\n        if (config._locale.eraYearOrdinalParse) {\n            array[YEAR] = config._locale.eraYearOrdinalParse(input, match);\n        } else {\n            array[YEAR] = parseInt(input, 10);\n        }\n    });\n\n    function localeEras(m, format) {\n        var i,\n            l,\n            date,\n            eras = this._eras || getLocale('en')._eras;\n        for (i = 0, l = eras.length; i < l; ++i) {\n            switch (typeof eras[i].since) {\n                case 'string':\n                    // truncate time\n                    date = hooks(eras[i].since).startOf('day');\n                    eras[i].since = date.valueOf();\n                    break;\n            }\n\n            switch (typeof eras[i].until) {\n                case 'undefined':\n                    eras[i].until = +Infinity;\n                    break;\n                case 'string':\n                    // truncate time\n                    date = hooks(eras[i].until).startOf('day').valueOf();\n                    eras[i].until = date.valueOf();\n                    break;\n            }\n        }\n        return eras;\n    }\n\n    function localeErasParse(eraName, format, strict) {\n        var i,\n            l,\n            eras = this.eras(),\n            name,\n            abbr,\n            narrow;\n        eraName = eraName.toUpperCase();\n\n        for (i = 0, l = eras.length; i < l; ++i) {\n            name = eras[i].name.toUpperCase();\n            abbr = eras[i].abbr.toUpperCase();\n            narrow = eras[i].narrow.toUpperCase();\n\n            if (strict) {\n                switch (format) {\n                    case 'N':\n                    case 'NN':\n                    case 'NNN':\n                        if (abbr === eraName) {\n                            return eras[i];\n                        }\n                        break;\n\n                    case 'NNNN':\n                        if (name === eraName) {\n                            return eras[i];\n                        }\n                        break;\n\n                    case 'NNNNN':\n                        if (narrow === eraName) {\n                            return eras[i];\n                        }\n                        break;\n                }\n            } else if ([name, abbr, narrow].indexOf(eraName) >= 0) {\n                return eras[i];\n            }\n        }\n    }\n\n    function localeErasConvertYear(era, year) {\n        var dir = era.since <= era.until ? +1 : -1;\n        if (year === undefined) {\n            return hooks(era.since).year();\n        } else {\n            return hooks(era.since).year() + (year - era.offset) * dir;\n        }\n    }\n\n    function getEraName() {\n        var i,\n            l,\n            val,\n            eras = this.localeData().eras();\n        for (i = 0, l = eras.length; i < l; ++i) {\n            // truncate time\n            val = this.clone().startOf('day').valueOf();\n\n            if (eras[i].since <= val && val <= eras[i].until) {\n                return eras[i].name;\n            }\n            if (eras[i].until <= val && val <= eras[i].since) {\n                return eras[i].name;\n            }\n        }\n\n        return '';\n    }\n\n    function getEraNarrow() {\n        var i,\n            l,\n            val,\n            eras = this.localeData().eras();\n        for (i = 0, l = eras.length; i < l; ++i) {\n            // truncate time\n            val = this.clone().startOf('day').valueOf();\n\n            if (eras[i].since <= val && val <= eras[i].until) {\n                return eras[i].narrow;\n            }\n            if (eras[i].until <= val && val <= eras[i].since) {\n                return eras[i].narrow;\n            }\n        }\n\n        return '';\n    }\n\n    function getEraAbbr() {\n        var i,\n            l,\n            val,\n            eras = this.localeData().eras();\n        for (i = 0, l = eras.length; i < l; ++i) {\n            // truncate time\n            val = this.clone().startOf('day').valueOf();\n\n            if (eras[i].since <= val && val <= eras[i].until) {\n                return eras[i].abbr;\n            }\n            if (eras[i].until <= val && val <= eras[i].since) {\n                return eras[i].abbr;\n            }\n        }\n\n        return '';\n    }\n\n    function getEraYear() {\n        var i,\n            l,\n            dir,\n            val,\n            eras = this.localeData().eras();\n        for (i = 0, l = eras.length; i < l; ++i) {\n            dir = eras[i].since <= eras[i].until ? +1 : -1;\n\n            // truncate time\n            val = this.clone().startOf('day').valueOf();\n\n            if (\n                (eras[i].since <= val && val <= eras[i].until) ||\n                (eras[i].until <= val && val <= eras[i].since)\n            ) {\n                return (\n                    (this.year() - hooks(eras[i].since).year()) * dir +\n                    eras[i].offset\n                );\n            }\n        }\n\n        return this.year();\n    }\n\n    function erasNameRegex(isStrict) {\n        if (!hasOwnProp(this, '_erasNameRegex')) {\n            computeErasParse.call(this);\n        }\n        return isStrict ? this._erasNameRegex : this._erasRegex;\n    }\n\n    function erasAbbrRegex(isStrict) {\n        if (!hasOwnProp(this, '_erasAbbrRegex')) {\n            computeErasParse.call(this);\n        }\n        return isStrict ? this._erasAbbrRegex : this._erasRegex;\n    }\n\n    function erasNarrowRegex(isStrict) {\n        if (!hasOwnProp(this, '_erasNarrowRegex')) {\n            computeErasParse.call(this);\n        }\n        return isStrict ? this._erasNarrowRegex : this._erasRegex;\n    }\n\n    function matchEraAbbr(isStrict, locale) {\n        return locale.erasAbbrRegex(isStrict);\n    }\n\n    function matchEraName(isStrict, locale) {\n        return locale.erasNameRegex(isStrict);\n    }\n\n    function matchEraNarrow(isStrict, locale) {\n        return locale.erasNarrowRegex(isStrict);\n    }\n\n    function matchEraYearOrdinal(isStrict, locale) {\n        return locale._eraYearOrdinalRegex || matchUnsigned;\n    }\n\n    function computeErasParse() {\n        var abbrPieces = [],\n            namePieces = [],\n            narrowPieces = [],\n            mixedPieces = [],\n            i,\n            l,\n            eras = this.eras();\n\n        for (i = 0, l = eras.length; i < l; ++i) {\n            namePieces.push(regexEscape(eras[i].name));\n            abbrPieces.push(regexEscape(eras[i].abbr));\n            narrowPieces.push(regexEscape(eras[i].narrow));\n\n            mixedPieces.push(regexEscape(eras[i].name));\n            mixedPieces.push(regexEscape(eras[i].abbr));\n            mixedPieces.push(regexEscape(eras[i].narrow));\n        }\n\n        this._erasRegex = new RegExp('^(' + mixedPieces.join('|') + ')', 'i');\n        this._erasNameRegex = new RegExp('^(' + namePieces.join('|') + ')', 'i');\n        this._erasAbbrRegex = new RegExp('^(' + abbrPieces.join('|') + ')', 'i');\n        this._erasNarrowRegex = new RegExp(\n            '^(' + narrowPieces.join('|') + ')',\n            'i'\n        );\n    }\n\n    // FORMATTING\n\n    addFormatToken(0, ['gg', 2], 0, function () {\n        return this.weekYear() % 100;\n    });\n\n    addFormatToken(0, ['GG', 2], 0, function () {\n        return this.isoWeekYear() % 100;\n    });\n\n    function addWeekYearFormatToken(token, getter) {\n        addFormatToken(0, [token, token.length], 0, getter);\n    }\n\n    addWeekYearFormatToken('gggg', 'weekYear');\n    addWeekYearFormatToken('ggggg', 'weekYear');\n    addWeekYearFormatToken('GGGG', 'isoWeekYear');\n    addWeekYearFormatToken('GGGGG', 'isoWeekYear');\n\n    // ALIASES\n\n    addUnitAlias('weekYear', 'gg');\n    addUnitAlias('isoWeekYear', 'GG');\n\n    // PRIORITY\n\n    addUnitPriority('weekYear', 1);\n    addUnitPriority('isoWeekYear', 1);\n\n    // PARSING\n\n    addRegexToken('G', matchSigned);\n    addRegexToken('g', matchSigned);\n    addRegexToken('GG', match1to2, match2);\n    addRegexToken('gg', match1to2, match2);\n    addRegexToken('GGGG', match1to4, match4);\n    addRegexToken('gggg', match1to4, match4);\n    addRegexToken('GGGGG', match1to6, match6);\n    addRegexToken('ggggg', match1to6, match6);\n\n    addWeekParseToken(\n        ['gggg', 'ggggg', 'GGGG', 'GGGGG'],\n        function (input, week, config, token) {\n            week[token.substr(0, 2)] = toInt(input);\n        }\n    );\n\n    addWeekParseToken(['gg', 'GG'], function (input, week, config, token) {\n        week[token] = hooks.parseTwoDigitYear(input);\n    });\n\n    // MOMENTS\n\n    function getSetWeekYear(input) {\n        return getSetWeekYearHelper.call(\n            this,\n            input,\n            this.week(),\n            this.weekday(),\n            this.localeData()._week.dow,\n            this.localeData()._week.doy\n        );\n    }\n\n    function getSetISOWeekYear(input) {\n        return getSetWeekYearHelper.call(\n            this,\n            input,\n            this.isoWeek(),\n            this.isoWeekday(),\n            1,\n            4\n        );\n    }\n\n    function getISOWeeksInYear() {\n        return weeksInYear(this.year(), 1, 4);\n    }\n\n    function getISOWeeksInISOWeekYear() {\n        return weeksInYear(this.isoWeekYear(), 1, 4);\n    }\n\n    function getWeeksInYear() {\n        var weekInfo = this.localeData()._week;\n        return weeksInYear(this.year(), weekInfo.dow, weekInfo.doy);\n    }\n\n    function getWeeksInWeekYear() {\n        var weekInfo = this.localeData()._week;\n        return weeksInYear(this.weekYear(), weekInfo.dow, weekInfo.doy);\n    }\n\n    function getSetWeekYearHelper(input, week, weekday, dow, doy) {\n        var weeksTarget;\n        if (input == null) {\n            return weekOfYear(this, dow, doy).year;\n        } else {\n            weeksTarget = weeksInYear(input, dow, doy);\n            if (week > weeksTarget) {\n                week = weeksTarget;\n            }\n            return setWeekAll.call(this, input, week, weekday, dow, doy);\n        }\n    }\n\n    function setWeekAll(weekYear, week, weekday, dow, doy) {\n        var dayOfYearData = dayOfYearFromWeeks(weekYear, week, weekday, dow, doy),\n            date = createUTCDate(dayOfYearData.year, 0, dayOfYearData.dayOfYear);\n\n        this.year(date.getUTCFullYear());\n        this.month(date.getUTCMonth());\n        this.date(date.getUTCDate());\n        return this;\n    }\n\n    // FORMATTING\n\n    addFormatToken('Q', 0, 'Qo', 'quarter');\n\n    // ALIASES\n\n    addUnitAlias('quarter', 'Q');\n\n    // PRIORITY\n\n    addUnitPriority('quarter', 7);\n\n    // PARSING\n\n    addRegexToken('Q', match1);\n    addParseToken('Q', function (input, array) {\n        array[MONTH] = (toInt(input) - 1) * 3;\n    });\n\n    // MOMENTS\n\n    function getSetQuarter(input) {\n        return input == null\n            ? Math.ceil((this.month() + 1) / 3)\n            : this.month((input - 1) * 3 + (this.month() % 3));\n    }\n\n    // FORMATTING\n\n    addFormatToken('D', ['DD', 2], 'Do', 'date');\n\n    // ALIASES\n\n    addUnitAlias('date', 'D');\n\n    // PRIORITY\n    addUnitPriority('date', 9);\n\n    // PARSING\n\n    addRegexToken('D', match1to2);\n    addRegexToken('DD', match1to2, match2);\n    addRegexToken('Do', function (isStrict, locale) {\n        // TODO: Remove \"ordinalParse\" fallback in next major release.\n        return isStrict\n            ? locale._dayOfMonthOrdinalParse || locale._ordinalParse\n            : locale._dayOfMonthOrdinalParseLenient;\n    });\n\n    addParseToken(['D', 'DD'], DATE);\n    addParseToken('Do', function (input, array) {\n        array[DATE] = toInt(input.match(match1to2)[0]);\n    });\n\n    // MOMENTS\n\n    var getSetDayOfMonth = makeGetSet('Date', true);\n\n    // FORMATTING\n\n    addFormatToken('DDD', ['DDDD', 3], 'DDDo', 'dayOfYear');\n\n    // ALIASES\n\n    addUnitAlias('dayOfYear', 'DDD');\n\n    // PRIORITY\n    addUnitPriority('dayOfYear', 4);\n\n    // PARSING\n\n    addRegexToken('DDD', match1to3);\n    addRegexToken('DDDD', match3);\n    addParseToken(['DDD', 'DDDD'], function (input, array, config) {\n        config._dayOfYear = toInt(input);\n    });\n\n    // HELPERS\n\n    // MOMENTS\n\n    function getSetDayOfYear(input) {\n        var dayOfYear =\n            Math.round(\n                (this.clone().startOf('day') - this.clone().startOf('year')) / 864e5\n            ) + 1;\n        return input == null ? dayOfYear : this.add(input - dayOfYear, 'd');\n    }\n\n    // FORMATTING\n\n    addFormatToken('m', ['mm', 2], 0, 'minute');\n\n    // ALIASES\n\n    addUnitAlias('minute', 'm');\n\n    // PRIORITY\n\n    addUnitPriority('minute', 14);\n\n    // PARSING\n\n    addRegexToken('m', match1to2);\n    addRegexToken('mm', match1to2, match2);\n    addParseToken(['m', 'mm'], MINUTE);\n\n    // MOMENTS\n\n    var getSetMinute = makeGetSet('Minutes', false);\n\n    // FORMATTING\n\n    addFormatToken('s', ['ss', 2], 0, 'second');\n\n    // ALIASES\n\n    addUnitAlias('second', 's');\n\n    // PRIORITY\n\n    addUnitPriority('second', 15);\n\n    // PARSING\n\n    addRegexToken('s', match1to2);\n    addRegexToken('ss', match1to2, match2);\n    addParseToken(['s', 'ss'], SECOND);\n\n    // MOMENTS\n\n    var getSetSecond = makeGetSet('Seconds', false);\n\n    // FORMATTING\n\n    addFormatToken('S', 0, 0, function () {\n        return ~~(this.millisecond() / 100);\n    });\n\n    addFormatToken(0, ['SS', 2], 0, function () {\n        return ~~(this.millisecond() / 10);\n    });\n\n    addFormatToken(0, ['SSS', 3], 0, 'millisecond');\n    addFormatToken(0, ['SSSS', 4], 0, function () {\n        return this.millisecond() * 10;\n    });\n    addFormatToken(0, ['SSSSS', 5], 0, function () {\n        return this.millisecond() * 100;\n    });\n    addFormatToken(0, ['SSSSSS', 6], 0, function () {\n        return this.millisecond() * 1000;\n    });\n    addFormatToken(0, ['SSSSSSS', 7], 0, function () {\n        return this.millisecond() * 10000;\n    });\n    addFormatToken(0, ['SSSSSSSS', 8], 0, function () {\n        return this.millisecond() * 100000;\n    });\n    addFormatToken(0, ['SSSSSSSSS', 9], 0, function () {\n        return this.millisecond() * 1000000;\n    });\n\n    // ALIASES\n\n    addUnitAlias('millisecond', 'ms');\n\n    // PRIORITY\n\n    addUnitPriority('millisecond', 16);\n\n    // PARSING\n\n    addRegexToken('S', match1to3, match1);\n    addRegexToken('SS', match1to3, match2);\n    addRegexToken('SSS', match1to3, match3);\n\n    var token, getSetMillisecond;\n    for (token = 'SSSS'; token.length <= 9; token += 'S') {\n        addRegexToken(token, matchUnsigned);\n    }\n\n    function parseMs(input, array) {\n        array[MILLISECOND] = toInt(('0.' + input) * 1000);\n    }\n\n    for (token = 'S'; token.length <= 9; token += 'S') {\n        addParseToken(token, parseMs);\n    }\n\n    getSetMillisecond = makeGetSet('Milliseconds', false);\n\n    // FORMATTING\n\n    addFormatToken('z', 0, 0, 'zoneAbbr');\n    addFormatToken('zz', 0, 0, 'zoneName');\n\n    // MOMENTS\n\n    function getZoneAbbr() {\n        return this._isUTC ? 'UTC' : '';\n    }\n\n    function getZoneName() {\n        return this._isUTC ? 'Coordinated Universal Time' : '';\n    }\n\n    var proto = Moment.prototype;\n\n    proto.add = add;\n    proto.calendar = calendar$1;\n    proto.clone = clone;\n    proto.diff = diff;\n    proto.endOf = endOf;\n    proto.format = format;\n    proto.from = from;\n    proto.fromNow = fromNow;\n    proto.to = to;\n    proto.toNow = toNow;\n    proto.get = stringGet;\n    proto.invalidAt = invalidAt;\n    proto.isAfter = isAfter;\n    proto.isBefore = isBefore;\n    proto.isBetween = isBetween;\n    proto.isSame = isSame;\n    proto.isSameOrAfter = isSameOrAfter;\n    proto.isSameOrBefore = isSameOrBefore;\n    proto.isValid = isValid$2;\n    proto.lang = lang;\n    proto.locale = locale;\n    proto.localeData = localeData;\n    proto.max = prototypeMax;\n    proto.min = prototypeMin;\n    proto.parsingFlags = parsingFlags;\n    proto.set = stringSet;\n    proto.startOf = startOf;\n    proto.subtract = subtract;\n    proto.toArray = toArray;\n    proto.toObject = toObject;\n    proto.toDate = toDate;\n    proto.toISOString = toISOString;\n    proto.inspect = inspect;\n    if (typeof Symbol !== 'undefined' && Symbol.for != null) {\n        proto[Symbol.for('nodejs.util.inspect.custom')] = function () {\n            return 'Moment<' + this.format() + '>';\n        };\n    }\n    proto.toJSON = toJSON;\n    proto.toString = toString;\n    proto.unix = unix;\n    proto.valueOf = valueOf;\n    proto.creationData = creationData;\n    proto.eraName = getEraName;\n    proto.eraNarrow = getEraNarrow;\n    proto.eraAbbr = getEraAbbr;\n    proto.eraYear = getEraYear;\n    proto.year = getSetYear;\n    proto.isLeapYear = getIsLeapYear;\n    proto.weekYear = getSetWeekYear;\n    proto.isoWeekYear = getSetISOWeekYear;\n    proto.quarter = proto.quarters = getSetQuarter;\n    proto.month = getSetMonth;\n    proto.daysInMonth = getDaysInMonth;\n    proto.week = proto.weeks = getSetWeek;\n    proto.isoWeek = proto.isoWeeks = getSetISOWeek;\n    proto.weeksInYear = getWeeksInYear;\n    proto.weeksInWeekYear = getWeeksInWeekYear;\n    proto.isoWeeksInYear = getISOWeeksInYear;\n    proto.isoWeeksInISOWeekYear = getISOWeeksInISOWeekYear;\n    proto.date = getSetDayOfMonth;\n    proto.day = proto.days = getSetDayOfWeek;\n    proto.weekday = getSetLocaleDayOfWeek;\n    proto.isoWeekday = getSetISODayOfWeek;\n    proto.dayOfYear = getSetDayOfYear;\n    proto.hour = proto.hours = getSetHour;\n    proto.minute = proto.minutes = getSetMinute;\n    proto.second = proto.seconds = getSetSecond;\n    proto.millisecond = proto.milliseconds = getSetMillisecond;\n    proto.utcOffset = getSetOffset;\n    proto.utc = setOffsetToUTC;\n    proto.local = setOffsetToLocal;\n    proto.parseZone = setOffsetToParsedOffset;\n    proto.hasAlignedHourOffset = hasAlignedHourOffset;\n    proto.isDST = isDaylightSavingTime;\n    proto.isLocal = isLocal;\n    proto.isUtcOffset = isUtcOffset;\n    proto.isUtc = isUtc;\n    proto.isUTC = isUtc;\n    proto.zoneAbbr = getZoneAbbr;\n    proto.zoneName = getZoneName;\n    proto.dates = deprecate(\n        'dates accessor is deprecated. Use date instead.',\n        getSetDayOfMonth\n    );\n    proto.months = deprecate(\n        'months accessor is deprecated. Use month instead',\n        getSetMonth\n    );\n    proto.years = deprecate(\n        'years accessor is deprecated. Use year instead',\n        getSetYear\n    );\n    proto.zone = deprecate(\n        'moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/',\n        getSetZone\n    );\n    proto.isDSTShifted = deprecate(\n        'isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information',\n        isDaylightSavingTimeShifted\n    );\n\n    function createUnix(input) {\n        return createLocal(input * 1000);\n    }\n\n    function createInZone() {\n        return createLocal.apply(null, arguments).parseZone();\n    }\n\n    function preParsePostFormat(string) {\n        return string;\n    }\n\n    var proto$1 = Locale.prototype;\n\n    proto$1.calendar = calendar;\n    proto$1.longDateFormat = longDateFormat;\n    proto$1.invalidDate = invalidDate;\n    proto$1.ordinal = ordinal;\n    proto$1.preparse = preParsePostFormat;\n    proto$1.postformat = preParsePostFormat;\n    proto$1.relativeTime = relativeTime;\n    proto$1.pastFuture = pastFuture;\n    proto$1.set = set;\n    proto$1.eras = localeEras;\n    proto$1.erasParse = localeErasParse;\n    proto$1.erasConvertYear = localeErasConvertYear;\n    proto$1.erasAbbrRegex = erasAbbrRegex;\n    proto$1.erasNameRegex = erasNameRegex;\n    proto$1.erasNarrowRegex = erasNarrowRegex;\n\n    proto$1.months = localeMonths;\n    proto$1.monthsShort = localeMonthsShort;\n    proto$1.monthsParse = localeMonthsParse;\n    proto$1.monthsRegex = monthsRegex;\n    proto$1.monthsShortRegex = monthsShortRegex;\n    proto$1.week = localeWeek;\n    proto$1.firstDayOfYear = localeFirstDayOfYear;\n    proto$1.firstDayOfWeek = localeFirstDayOfWeek;\n\n    proto$1.weekdays = localeWeekdays;\n    proto$1.weekdaysMin = localeWeekdaysMin;\n    proto$1.weekdaysShort = localeWeekdaysShort;\n    proto$1.weekdaysParse = localeWeekdaysParse;\n\n    proto$1.weekdaysRegex = weekdaysRegex;\n    proto$1.weekdaysShortRegex = weekdaysShortRegex;\n    proto$1.weekdaysMinRegex = weekdaysMinRegex;\n\n    proto$1.isPM = localeIsPM;\n    proto$1.meridiem = localeMeridiem;\n\n    function get$1(format, index, field, setter) {\n        var locale = getLocale(),\n            utc = createUTC().set(setter, index);\n        return locale[field](utc, format);\n    }\n\n    function listMonthsImpl(format, index, field) {\n        if (isNumber(format)) {\n            index = format;\n            format = undefined;\n        }\n\n        format = format || '';\n\n        if (index != null) {\n            return get$1(format, index, field, 'month');\n        }\n\n        var i,\n            out = [];\n        for (i = 0; i < 12; i++) {\n            out[i] = get$1(format, i, field, 'month');\n        }\n        return out;\n    }\n\n    // ()\n    // (5)\n    // (fmt, 5)\n    // (fmt)\n    // (true)\n    // (true, 5)\n    // (true, fmt, 5)\n    // (true, fmt)\n    function listWeekdaysImpl(localeSorted, format, index, field) {\n        if (typeof localeSorted === 'boolean') {\n            if (isNumber(format)) {\n                index = format;\n                format = undefined;\n            }\n\n            format = format || '';\n        } else {\n            format = localeSorted;\n            index = format;\n            localeSorted = false;\n\n            if (isNumber(format)) {\n                index = format;\n                format = undefined;\n            }\n\n            format = format || '';\n        }\n\n        var locale = getLocale(),\n            shift = localeSorted ? locale._week.dow : 0,\n            i,\n            out = [];\n\n        if (index != null) {\n            return get$1(format, (index + shift) % 7, field, 'day');\n        }\n\n        for (i = 0; i < 7; i++) {\n            out[i] = get$1(format, (i + shift) % 7, field, 'day');\n        }\n        return out;\n    }\n\n    function listMonths(format, index) {\n        return listMonthsImpl(format, index, 'months');\n    }\n\n    function listMonthsShort(format, index) {\n        return listMonthsImpl(format, index, 'monthsShort');\n    }\n\n    function listWeekdays(localeSorted, format, index) {\n        return listWeekdaysImpl(localeSorted, format, index, 'weekdays');\n    }\n\n    function listWeekdaysShort(localeSorted, format, index) {\n        return listWeekdaysImpl(localeSorted, format, index, 'weekdaysShort');\n    }\n\n    function listWeekdaysMin(localeSorted, format, index) {\n        return listWeekdaysImpl(localeSorted, format, index, 'weekdaysMin');\n    }\n\n    getSetGlobalLocale('en', {\n        eras: [\n            {\n                since: '0001-01-01',\n                until: +Infinity,\n                offset: 1,\n                name: 'Anno Domini',\n                narrow: 'AD',\n                abbr: 'AD',\n            },\n            {\n                since: '0000-12-31',\n                until: -Infinity,\n                offset: 1,\n                name: 'Before Christ',\n                narrow: 'BC',\n                abbr: 'BC',\n            },\n        ],\n        dayOfMonthOrdinalParse: /\\d{1,2}(th|st|nd|rd)/,\n        ordinal: function (number) {\n            var b = number % 10,\n                output =\n                    toInt((number % 100) / 10) === 1\n                        ? 'th'\n                        : b === 1\n                        ? 'st'\n                        : b === 2\n                        ? 'nd'\n                        : b === 3\n                        ? 'rd'\n                        : 'th';\n            return number + output;\n        },\n    });\n\n    // Side effect imports\n\n    hooks.lang = deprecate(\n        'moment.lang is deprecated. Use moment.locale instead.',\n        getSetGlobalLocale\n    );\n    hooks.langData = deprecate(\n        'moment.langData is deprecated. Use moment.localeData instead.',\n        getLocale\n    );\n\n    var mathAbs = Math.abs;\n\n    function abs() {\n        var data = this._data;\n\n        this._milliseconds = mathAbs(this._milliseconds);\n        this._days = mathAbs(this._days);\n        this._months = mathAbs(this._months);\n\n        data.milliseconds = mathAbs(data.milliseconds);\n        data.seconds = mathAbs(data.seconds);\n        data.minutes = mathAbs(data.minutes);\n        data.hours = mathAbs(data.hours);\n        data.months = mathAbs(data.months);\n        data.years = mathAbs(data.years);\n\n        return this;\n    }\n\n    function addSubtract$1(duration, input, value, direction) {\n        var other = createDuration(input, value);\n\n        duration._milliseconds += direction * other._milliseconds;\n        duration._days += direction * other._days;\n        duration._months += direction * other._months;\n\n        return duration._bubble();\n    }\n\n    // supports only 2.0-style add(1, 's') or add(duration)\n    function add$1(input, value) {\n        return addSubtract$1(this, input, value, 1);\n    }\n\n    // supports only 2.0-style subtract(1, 's') or subtract(duration)\n    function subtract$1(input, value) {\n        return addSubtract$1(this, input, value, -1);\n    }\n\n    function absCeil(number) {\n        if (number < 0) {\n            return Math.floor(number);\n        } else {\n            return Math.ceil(number);\n        }\n    }\n\n    function bubble() {\n        var milliseconds = this._milliseconds,\n            days = this._days,\n            months = this._months,\n            data = this._data,\n            seconds,\n            minutes,\n            hours,\n            years,\n            monthsFromDays;\n\n        // if we have a mix of positive and negative values, bubble down first\n        // check: https://github.com/moment/moment/issues/2166\n        if (\n            !(\n                (milliseconds >= 0 && days >= 0 && months >= 0) ||\n                (milliseconds <= 0 && days <= 0 && months <= 0)\n            )\n        ) {\n            milliseconds += absCeil(monthsToDays(months) + days) * 864e5;\n            days = 0;\n            months = 0;\n        }\n\n        // The following code bubbles up values, see the tests for\n        // examples of what that means.\n        data.milliseconds = milliseconds % 1000;\n\n        seconds = absFloor(milliseconds / 1000);\n        data.seconds = seconds % 60;\n\n        minutes = absFloor(seconds / 60);\n        data.minutes = minutes % 60;\n\n        hours = absFloor(minutes / 60);\n        data.hours = hours % 24;\n\n        days += absFloor(hours / 24);\n\n        // convert days to months\n        monthsFromDays = absFloor(daysToMonths(days));\n        months += monthsFromDays;\n        days -= absCeil(monthsToDays(monthsFromDays));\n\n        // 12 months -> 1 year\n        years = absFloor(months / 12);\n        months %= 12;\n\n        data.days = days;\n        data.months = months;\n        data.years = years;\n\n        return this;\n    }\n\n    function daysToMonths(days) {\n        // 400 years have 146097 days (taking into account leap year rules)\n        // 400 years have 12 months === 4800\n        return (days * 4800) / 146097;\n    }\n\n    function monthsToDays(months) {\n        // the reverse of daysToMonths\n        return (months * 146097) / 4800;\n    }\n\n    function as(units) {\n        if (!this.isValid()) {\n            return NaN;\n        }\n        var days,\n            months,\n            milliseconds = this._milliseconds;\n\n        units = normalizeUnits(units);\n\n        if (units === 'month' || units === 'quarter' || units === 'year') {\n            days = this._days + milliseconds / 864e5;\n            months = this._months + daysToMonths(days);\n            switch (units) {\n                case 'month':\n                    return months;\n                case 'quarter':\n                    return months / 3;\n                case 'year':\n                    return months / 12;\n            }\n        } else {\n            // handle milliseconds separately because of floating point math errors (issue #1867)\n            days = this._days + Math.round(monthsToDays(this._months));\n            switch (units) {\n                case 'week':\n                    return days / 7 + milliseconds / 6048e5;\n                case 'day':\n                    return days + milliseconds / 864e5;\n                case 'hour':\n                    return days * 24 + milliseconds / 36e5;\n                case 'minute':\n                    return days * 1440 + milliseconds / 6e4;\n                case 'second':\n                    return days * 86400 + milliseconds / 1000;\n                // Math.floor prevents floating point math errors here\n                case 'millisecond':\n                    return Math.floor(days * 864e5) + milliseconds;\n                default:\n                    throw new Error('Unknown unit ' + units);\n            }\n        }\n    }\n\n    // TODO: Use this.as('ms')?\n    function valueOf$1() {\n        if (!this.isValid()) {\n            return NaN;\n        }\n        return (\n            this._milliseconds +\n            this._days * 864e5 +\n            (this._months % 12) * 2592e6 +\n            toInt(this._months / 12) * 31536e6\n        );\n    }\n\n    function makeAs(alias) {\n        return function () {\n            return this.as(alias);\n        };\n    }\n\n    var asMilliseconds = makeAs('ms'),\n        asSeconds = makeAs('s'),\n        asMinutes = makeAs('m'),\n        asHours = makeAs('h'),\n        asDays = makeAs('d'),\n        asWeeks = makeAs('w'),\n        asMonths = makeAs('M'),\n        asQuarters = makeAs('Q'),\n        asYears = makeAs('y');\n\n    function clone$1() {\n        return createDuration(this);\n    }\n\n    function get$2(units) {\n        units = normalizeUnits(units);\n        return this.isValid() ? this[units + 's']() : NaN;\n    }\n\n    function makeGetter(name) {\n        return function () {\n            return this.isValid() ? this._data[name] : NaN;\n        };\n    }\n\n    var milliseconds = makeGetter('milliseconds'),\n        seconds = makeGetter('seconds'),\n        minutes = makeGetter('minutes'),\n        hours = makeGetter('hours'),\n        days = makeGetter('days'),\n        months = makeGetter('months'),\n        years = makeGetter('years');\n\n    function weeks() {\n        return absFloor(this.days() / 7);\n    }\n\n    var round = Math.round,\n        thresholds = {\n            ss: 44, // a few seconds to seconds\n            s: 45, // seconds to minute\n            m: 45, // minutes to hour\n            h: 22, // hours to day\n            d: 26, // days to month/week\n            w: null, // weeks to month\n            M: 11, // months to year\n        };\n\n    // helper function for moment.fn.from, moment.fn.fromNow, and moment.duration.fn.humanize\n    function substituteTimeAgo(string, number, withoutSuffix, isFuture, locale) {\n        return locale.relativeTime(number || 1, !!withoutSuffix, string, isFuture);\n    }\n\n    function relativeTime$1(posNegDuration, withoutSuffix, thresholds, locale) {\n        var duration = createDuration(posNegDuration).abs(),\n            seconds = round(duration.as('s')),\n            minutes = round(duration.as('m')),\n            hours = round(duration.as('h')),\n            days = round(duration.as('d')),\n            months = round(duration.as('M')),\n            weeks = round(duration.as('w')),\n            years = round(duration.as('y')),\n            a =\n                (seconds <= thresholds.ss && ['s', seconds]) ||\n                (seconds < thresholds.s && ['ss', seconds]) ||\n                (minutes <= 1 && ['m']) ||\n                (minutes < thresholds.m && ['mm', minutes]) ||\n                (hours <= 1 && ['h']) ||\n                (hours < thresholds.h && ['hh', hours]) ||\n                (days <= 1 && ['d']) ||\n                (days < thresholds.d && ['dd', days]);\n\n        if (thresholds.w != null) {\n            a =\n                a ||\n                (weeks <= 1 && ['w']) ||\n                (weeks < thresholds.w && ['ww', weeks]);\n        }\n        a = a ||\n            (months <= 1 && ['M']) ||\n            (months < thresholds.M && ['MM', months]) ||\n            (years <= 1 && ['y']) || ['yy', years];\n\n        a[2] = withoutSuffix;\n        a[3] = +posNegDuration > 0;\n        a[4] = locale;\n        return substituteTimeAgo.apply(null, a);\n    }\n\n    // This function allows you to set the rounding function for relative time strings\n    function getSetRelativeTimeRounding(roundingFunction) {\n        if (roundingFunction === undefined) {\n            return round;\n        }\n        if (typeof roundingFunction === 'function') {\n            round = roundingFunction;\n            return true;\n        }\n        return false;\n    }\n\n    // This function allows you to set a threshold for relative time strings\n    function getSetRelativeTimeThreshold(threshold, limit) {\n        if (thresholds[threshold] === undefined) {\n            return false;\n        }\n        if (limit === undefined) {\n            return thresholds[threshold];\n        }\n        thresholds[threshold] = limit;\n        if (threshold === 's') {\n            thresholds.ss = limit - 1;\n        }\n        return true;\n    }\n\n    function humanize(argWithSuffix, argThresholds) {\n        if (!this.isValid()) {\n            return this.localeData().invalidDate();\n        }\n\n        var withSuffix = false,\n            th = thresholds,\n            locale,\n            output;\n\n        if (typeof argWithSuffix === 'object') {\n            argThresholds = argWithSuffix;\n            argWithSuffix = false;\n        }\n        if (typeof argWithSuffix === 'boolean') {\n            withSuffix = argWithSuffix;\n        }\n        if (typeof argThresholds === 'object') {\n            th = Object.assign({}, thresholds, argThresholds);\n            if (argThresholds.s != null && argThresholds.ss == null) {\n                th.ss = argThresholds.s - 1;\n            }\n        }\n\n        locale = this.localeData();\n        output = relativeTime$1(this, !withSuffix, th, locale);\n\n        if (withSuffix) {\n            output = locale.pastFuture(+this, output);\n        }\n\n        return locale.postformat(output);\n    }\n\n    var abs$1 = Math.abs;\n\n    function sign(x) {\n        return (x > 0) - (x < 0) || +x;\n    }\n\n    function toISOString$1() {\n        // for ISO strings we do not use the normal bubbling rules:\n        //  * milliseconds bubble up until they become hours\n        //  * days do not bubble at all\n        //  * months bubble up until they become years\n        // This is because there is no context-free conversion between hours and days\n        // (think of clock changes)\n        // and also not between days and months (28-31 days per month)\n        if (!this.isValid()) {\n            return this.localeData().invalidDate();\n        }\n\n        var seconds = abs$1(this._milliseconds) / 1000,\n            days = abs$1(this._days),\n            months = abs$1(this._months),\n            minutes,\n            hours,\n            years,\n            s,\n            total = this.asSeconds(),\n            totalSign,\n            ymSign,\n            daysSign,\n            hmsSign;\n\n        if (!total) {\n            // this is the same as C#'s (Noda) and python (isodate)...\n            // but not other JS (goog.date)\n            return 'P0D';\n        }\n\n        // 3600 seconds -> 60 minutes -> 1 hour\n        minutes = absFloor(seconds / 60);\n        hours = absFloor(minutes / 60);\n        seconds %= 60;\n        minutes %= 60;\n\n        // 12 months -> 1 year\n        years = absFloor(months / 12);\n        months %= 12;\n\n        // inspired by https://github.com/dordille/moment-isoduration/blob/master/moment.isoduration.js\n        s = seconds ? seconds.toFixed(3).replace(/\\.?0+$/, '') : '';\n\n        totalSign = total < 0 ? '-' : '';\n        ymSign = sign(this._months) !== sign(total) ? '-' : '';\n        daysSign = sign(this._days) !== sign(total) ? '-' : '';\n        hmsSign = sign(this._milliseconds) !== sign(total) ? '-' : '';\n\n        return (\n            totalSign +\n            'P' +\n            (years ? ymSign + years + 'Y' : '') +\n            (months ? ymSign + months + 'M' : '') +\n            (days ? daysSign + days + 'D' : '') +\n            (hours || minutes || seconds ? 'T' : '') +\n            (hours ? hmsSign + hours + 'H' : '') +\n            (minutes ? hmsSign + minutes + 'M' : '') +\n            (seconds ? hmsSign + s + 'S' : '')\n        );\n    }\n\n    var proto$2 = Duration.prototype;\n\n    proto$2.isValid = isValid$1;\n    proto$2.abs = abs;\n    proto$2.add = add$1;\n    proto$2.subtract = subtract$1;\n    proto$2.as = as;\n    proto$2.asMilliseconds = asMilliseconds;\n    proto$2.asSeconds = asSeconds;\n    proto$2.asMinutes = asMinutes;\n    proto$2.asHours = asHours;\n    proto$2.asDays = asDays;\n    proto$2.asWeeks = asWeeks;\n    proto$2.asMonths = asMonths;\n    proto$2.asQuarters = asQuarters;\n    proto$2.asYears = asYears;\n    proto$2.valueOf = valueOf$1;\n    proto$2._bubble = bubble;\n    proto$2.clone = clone$1;\n    proto$2.get = get$2;\n    proto$2.milliseconds = milliseconds;\n    proto$2.seconds = seconds;\n    proto$2.minutes = minutes;\n    proto$2.hours = hours;\n    proto$2.days = days;\n    proto$2.weeks = weeks;\n    proto$2.months = months;\n    proto$2.years = years;\n    proto$2.humanize = humanize;\n    proto$2.toISOString = toISOString$1;\n    proto$2.toString = toISOString$1;\n    proto$2.toJSON = toISOString$1;\n    proto$2.locale = locale;\n    proto$2.localeData = localeData;\n\n    proto$2.toIsoString = deprecate(\n        'toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)',\n        toISOString$1\n    );\n    proto$2.lang = lang;\n\n    // FORMATTING\n\n    addFormatToken('X', 0, 0, 'unix');\n    addFormatToken('x', 0, 0, 'valueOf');\n\n    // PARSING\n\n    addRegexToken('x', matchSigned);\n    addRegexToken('X', matchTimestamp);\n    addParseToken('X', function (input, array, config) {\n        config._d = new Date(parseFloat(input) * 1000);\n    });\n    addParseToken('x', function (input, array, config) {\n        config._d = new Date(toInt(input));\n    });\n\n    //! moment.js\n\n    hooks.version = '2.29.3';\n\n    setHookCallback(createLocal);\n\n    hooks.fn = proto;\n    hooks.min = min;\n    hooks.max = max;\n    hooks.now = now;\n    hooks.utc = createUTC;\n    hooks.unix = createUnix;\n    hooks.months = listMonths;\n    hooks.isDate = isDate;\n    hooks.locale = getSetGlobalLocale;\n    hooks.invalid = createInvalid;\n    hooks.duration = createDuration;\n    hooks.isMoment = isMoment;\n    hooks.weekdays = listWeekdays;\n    hooks.parseZone = createInZone;\n    hooks.localeData = getLocale;\n    hooks.isDuration = isDuration;\n    hooks.monthsShort = listMonthsShort;\n    hooks.weekdaysMin = listWeekdaysMin;\n    hooks.defineLocale = defineLocale;\n    hooks.updateLocale = updateLocale;\n    hooks.locales = listLocales;\n    hooks.weekdaysShort = listWeekdaysShort;\n    hooks.normalizeUnits = normalizeUnits;\n    hooks.relativeTimeRounding = getSetRelativeTimeRounding;\n    hooks.relativeTimeThreshold = getSetRelativeTimeThreshold;\n    hooks.calendarFormat = getCalendarFormat;\n    hooks.prototype = proto;\n\n    // currently HTML5 input type only supports 24-hour formats\n    hooks.HTML5_FMT = {\n        DATETIME_LOCAL: 'YYYY-MM-DDTHH:mm', // <input type=\"datetime-local\" />\n        DATETIME_LOCAL_SECONDS: 'YYYY-MM-DDTHH:mm:ss', // <input type=\"datetime-local\" step=\"1\" />\n        DATETIME_LOCAL_MS: 'YYYY-MM-DDTHH:mm:ss.SSS', // <input type=\"datetime-local\" step=\"0.001\" />\n        DATE: 'YYYY-MM-DD', // <input type=\"date\" />\n        TIME: 'HH:mm', // <input type=\"time\" />\n        TIME_SECONDS: 'HH:mm:ss', // <input type=\"time\" step=\"1\" />\n        TIME_MS: 'HH:mm:ss.SSS', // <input type=\"time\" step=\"0.001\" />\n        WEEK: 'GGGG-[W]WW', // <input type=\"week\" />\n        MONTH: 'YYYY-MM', // <input type=\"month\" />\n    };\n\n    return hooks;\n\n})));\n","\"use strict\"\n\nvar hyperscript = require(\"./render/hyperscript\")\n\nhyperscript.trust = require(\"./render/trust\")\nhyperscript.fragment = require(\"./render/fragment\")\n\nmodule.exports = hyperscript\n","\"use strict\"\n\nvar PromisePolyfill = require(\"./promise/promise\")\nvar mountRedraw = require(\"./mount-redraw\")\n\nmodule.exports = require(\"./request/request\")(typeof window !== \"undefined\" ? window : null, PromisePolyfill, mountRedraw.redraw)\n","\"use strict\"\n\nvar hyperscript = require(\"./hyperscript\")\nvar request = require(\"./request\")\nvar mountRedraw = require(\"./mount-redraw\")\n\nvar m = function m() { return hyperscript.apply(this, arguments) }\nm.m = hyperscript\nm.trust = hyperscript.trust\nm.fragment = hyperscript.fragment\nm.Fragment = \"[\"\nm.mount = mountRedraw.mount\nm.route = require(\"./route\")\nm.render = require(\"./render\")\nm.redraw = mountRedraw.redraw\nm.request = request.request\nm.jsonp = request.jsonp\nm.parseQueryString = require(\"./querystring/parse\")\nm.buildQueryString = require(\"./querystring/build\")\nm.parsePathname = require(\"./pathname/parse\")\nm.buildPathname = require(\"./pathname/build\")\nm.vnode = require(\"./render/vnode\")\nm.PromisePolyfill = require(\"./promise/polyfill\")\nm.censor = require(\"./util/censor\")\n\nmodule.exports = m\n","import \"./index.css\";\n\nimport m from \"mithril\";\nimport moment from \"moment\";\n\nclass ScheduleCard {\n  oninit() {\n    this.expanded = false;\n  }\n  view(vnode) {\n    const item = vnode.attrs.item;\n    return m(\n      \"div.p-3.mb-3.border\",\n      {\n        onclick: (e) => {\n          this.expanded = !this.expanded;\n        },\n      },\n      [\n        m(\"div.fw-bold.d-flex.justify-content-between.align-items-center\", [\n          m(\"span.fs-5\", item.area),\n          m(\n            \"span\",\n            m(\n              \"svg\",\n              {\n                xmlns: \"http://www.w3.org/2000/svg\",\n                width: \"16\",\n                height: \"16\",\n                fill: \"#3d3d3d\",\n                viewBox: \"0 0 16 16\",\n              },\n              this.expanded\n                ? m(\"path\", {\n                    \"fill-rule\": \"evenodd\",\n                    d: \"M7.646 4.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1-.708.708L8 5.707l-5.646 5.647a.5.5 0 0 1-.708-.708l6-6z\",\n                  })\n                : m(\"path\", {\n                    \"fill-rule\": \"evenodd\",\n                    d: \"M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z\",\n                  })\n            )\n          ),\n        ]),\n        item.times.map((time) => {\n          return m(\"div.fs-5\", `From ${time[\"start\"]} to ${time[\"end\"]}`);\n        }),\n        this.expanded\n          ? m(\n              \"div.text-muted.mt-2\",\n              {\n                style: {\n                  fontSize: \"0.75em\",\n                },\n              },\n              item.areas\n            )\n          : null,\n      ]\n    );\n  }\n}\n\nclass Home {\n  oninit() {\n    this.schedule = [];\n    this.error = null;\n    this.all = [];\n    this.date = moment().format(\"YYYY-MM-DD\");\n  }\n  oncreate() {\n    this.updateSchedule();\n  }\n  updateSchedule() {\n    m.request(\n      `https://powercut-schedule-lk.vercel.app/schedule?date=${this.date}`\n    )\n      .then((res) => {\n        if (res[\"error\"]) {\n          throw Error(res[\"payload\"]);\n        } else {\n          this.all = res[\"data\"][\"payload\"];\n          this.schedule = this.all;\n        }\n      })\n      .catch((error) => {\n        this.error = error;\n      })\n      .finally(() => {\n        m.redraw();\n      });\n  }\n  view() {\n    return [\n      m(\n        \"nav.navbar.navbar-dark.bg-dark.bg-gradient\",\n        m(\"div.container\", [\n          m(\"a.navbar-brand.fw-bold\", \"Power Cut Schedule - Sri Lanka\"),\n        ])\n      ),\n      m(\"div.container.pt-3\", [\n        this.error != null\n          ? m(\"div.row\", m(\"div.col\", m(\"div.p-5\", this.error)))\n          : null,\n        m(\"div.row.row-cols-1.row-cols-md-2\", [\n          m(\n            \"div.col\",\n            m(\"input.form-control.mb-3\", {\n              placeholder: \"Search by area\",\n              oninput: (e) => {\n                const query = e.target.value;\n                if (query.length) {\n                  console.log(query);\n                  this.schedule = this.all.filter((item) => {\n                    return item[\"areas\"].toLowerCase().search(query) != -1;\n                  });\n                } else {\n                  this.schedule = this.all;\n                }\n              },\n            })\n          ),\n          m(\n            \"div.col\",\n            m(\"input.form-control.mb-3\", {\n              placeholder: \"Search by area\",\n              type: \"date\",\n              value: this.date,\n              onchange: (e) => {\n                this.date = moment(e.target.value).format(\"YYYY-MM-DD\");\n                this.updateSchedule();\n              },\n            })\n          ),\n        ]),\n        !this.all.length\n          ? m(\n              \"div.row.my-5\",\n              m(\n                \"div.col.text-center.p-3.bg-warning.rounded\",\n                \"The schedule for the selected date is not available yet.\"\n              )\n            )\n          : null,\n        this.schedule.length\n          ? m(\n              \"div.row\",\n              m(\n                \"div.col\",\n                this.schedule.map((item) => {\n                  return m(ScheduleCard, { item });\n                })\n              )\n            )\n          : m(\n              \"div.row.my-5\",\n              m(\n                \"div.col.text-center.p-3.bg-light.text-muted.rounded\",\n                \"No results\"\n              )\n            ),\n      ]),\n    ];\n  }\n}\n\nm.mount(document.body, Home);\n"],"names":["$9e748f0e7cb702a5$var$Vnode","tag","key","attrs","children","text","dom","domSize","undefined","state","events","instance","normalize","node","Array","isArray","normalizeChildren","String","input","length","isKeyed","i","TypeError","module","exports","html","$dBs8J","vnode","$5sRXF","apply","arguments","this","start","push","$ea53147a45dc1bd2$var$PromisePolyfill","executor","Error","self","resolvers","rejectors","resolveCurrent","handler","rejectCurrent","_instance","callAsync","setImmediate","setTimeout","list","shouldAbsorb","execute","value","then","console","error","retry","executeOnce","bind","e","runs","run","fn","onerror","prototype","onFulfilled","onRejection","resolveNext","rejectNext","handle","callback","next","promise","resolve","reject","catch","finally","reason","all","total","count","values","i1","consume","race","parcelRequire","window","$window","currentRedraw","$doc","document","nameSpace","svg","math","getNameSpace","xmlns","checkState","original","callHook","activeElement","createNodes","parent","vnodes","end","hooks","nextSibling","ns","createNode","initLifecycle","createTextNode","insertNode","createText","createHTML","fragment","createDocumentFragment","firstChild","childNodes","createFragment","is","element","createElementNS","createElement","type","setAttribute","isFileInput","setAttr","setAttrs","maybeSetContentEditable","selectedIndex","normalized","setLateSelectAttrs","sentinel","view","Object","create","$$reentrantLock$$","call","initComponent","createComponent","possibleParents","caption","thead","tbody","tfoot","tr","th","td","colgroup","col","match","temp","innerHTML","child","appendChild","updateNodes","old","removeNodes","isOldKeyed","oldStart","o","v","oe","ve","topSibling","oldEnd","updateNode","getNextSibling","moveNodes","map","lisIndices","originalNextSibling","vnodesLength","oldIndices","li","pos","matched","getKeyMap","oldIndex","a","result","u","il","lisTemp","j","c","makeLisIndices","commonLength","removeNode","oldTag","force","onbeforeupdate","shouldNotUpdate","updateLifecycle","toString","nodeValue","updateText","removeHTML","updateHTML","updateFragment","warn","val","removeAttr","updateAttrs","updateElement","updateComponent","frag","moveChildToFrag","parentNode","insertBefore","contenteditable","contentEditable","content","stateResult","attrsResult","mask","onbeforeremove","reallyRemove","onremove","removeChild","isLifecycleMethod","attr","isFormAttribute","updateEvent","slice","setAttributeNS","updateStyle","hasPropertyKey","removeAttribute","nsLastIndex","indexOf","currentDOM","uppercaseRegex","toLowerCase","capital","normalizeKey","replace","style","cssText","setProperty","removeProperty","EventDict","_","removeEventListener","addEventListener","source","oninit","oncreate","onupdate","handleEvent","ev","currentTarget","redraw","preventDefault","stopPropagation","contains","prevRedraw","prevDOM","active","namespace","namespaceURI","textContent","focus","render","schedule","subscriptions","pending","offset","sync","mount","root","component","index","splice","Promise","oncompletion","callbackCount","PromiseProxy","makeRequest","factory","url","args","promise1","$cITMw","params","data","background","complete","wrap","constructor","hasHeader","name","headers","$9eOch","__proto__","request","replacedAbort","method","toUpperCase","body","assumeJSON","serialize","JSON","FormData","URLSearchParams","responseType","extract","xhr","XMLHttpRequest","aborted","isTimeout","abort","open","async","user","password","setRequestHeader","deserialize","withCredentials","timeout","onreadystatechange","target","readyState","message","success","status","test","response","parse","responseText","completeErrorResponse","code","ontimeout","config","send","stringify","jsonp","callbackName","Math","round","random","script","src","encodeURIComponent","callbackKey","documentElement","template","SyntaxError","queryIndex","hashIndex","queryEnd","pathEnd","path","query","$enXzN","resolved","m","variadic","newQueryIndex","newHashIndex","newQueryEnd","newPathEnd","querystring","$iRA82","object","key1","destructure","join","assign","hasOwnProperty","$7EF0O","$j25vk","requestAnimationFrame","$aae70388e69e8325$var$sentinel","$aae70388e69e8325$var$decodeURIComponentSave","decodeURIComponent","mountRedraw","compiled","fallbackRoute","currentPath","lastUpdate","p","$2uPnQ","scheduled","ready","state1","currentResolver","RouterRoot","fireAsync","resolveRoute","SKIP","route1","prefix","location","hash","search","pathname","concat","$7lWrV","setPath","history","loop","check","payload","matchedRoute","route","localComp","update","comp","onmatch","options","title","replaceState","pushState","href","defaultRoute","routes","keys","$8KlxE","defaultData","some","ReferenceError","set","get","Link","onclick","$iVcuU","selector","$e9o88","disabled","Boolean","defaultPrevented","button","which","ctrlKey","metaKey","shiftKey","altKey","param","$dc673ea23ab51a3f$var$selectorParser","$dc673ea23ab51a3f$var$selectorCache","$dc673ea23ab51a3f$var$isEmpty","$dc673ea23ab51a3f$var$compileSelector","classes","exec","id","attrValue","className","$dc673ea23ab51a3f$var$execSelector","hasClass","class","newAttrs","$k7iQv","$parcel$global","$gZZfO","$c601dba597649f5e$var$decodeURIComponentSave","str","err","string","charAt","entries","split","counters","entry","levels","cursor","pop","level","nextLevel","isNumber","isNaN","parseInt","desc","getOwnPropertyDescriptor","templateData","templateKeys","regexp","RegExp","extra","k","r","$a4d49fb46380177c$var$magic","extras","hookCallback","setHookCallback","isObject","hasOwnProp","b","isObjectEmpty","obj","getOwnPropertyNames","isUndefined","isDate","Date","arr","res","arrLen","extend","valueOf","createUTC","format","locale","strict","createLocalOrUTC","utc","defaultParsingFlags","empty","unusedTokens","unusedInput","overflow","charsLeftOver","nullInput","invalidEra","invalidMonth","invalidFormat","userInvalidated","iso","parsedDateParts","era","meridiem","rfc2822","weekdayMismatch","getParsingFlags","_pf","isValid","_isValid","flags","parsedParts","isNowValid","_d","getTime","invalidWeekday","_strict","bigHour","isFrozen","createInvalid","NaN","fun","t","len","momentProperties","updateInProgress","copyConfig","to","from","prop","momentPropertiesLen","_isAMomentObject","_i","_f","_l","_tzm","_isUTC","_offset","_locale","Moment","updateOffset","isMoment","msg","suppressDeprecationWarnings","deprecate","firstTime","deprecationHandler","arg","argLen","stack","deprecations","deprecateSimple","isFunction","Function","_config","_dayOfMonthOrdinalParseLenient","_dayOfMonthOrdinalParse","_ordinalParse","mergeConfigs","parentConfig","childConfig","Locale","defaultCalendar","sameDay","nextDay","nextWeek","lastDay","lastWeek","sameElse","calendar","mom","now","output","_calendar","zeroFill","number","targetLength","forceSign","absNumber","abs","zerosToFill","pow","max","substr","formattingTokens","localFormattingTokens","formatFunctions","formatTokenFunctions","addFormatToken","token","padded","ordinal","func","localeData","removeFormattingTokens","makeFormatFunction","array","formatMoment","expandFormat","invalidDate","replaceLongDateFormatTokens","longDateFormat","lastIndex","defaultLongDateFormat","LTS","LT","L","LL","LLL","LLLL","_longDateFormat","formatUpper","tok","defaultInvalidDate","_invalidDate","defaultOrdinal","defaultDayOfMonthOrdinalParse","ordinal1","_ordinal","defaultRelativeTime","future","past","s","ss","mm","h","hh","d","dd","w","ww","M","MM","y","yy","relativeTime","withoutSuffix","isFuture","_relativeTime","pastFuture","diff","aliases","addUnitAlias","unit","shorthand","lowerCase","normalizeUnits","units","normalizeObjectUnits","inputObject","normalizedProp","normalizedInput","priorities","addUnitPriority","priority","getPrioritizedUnits","unitsObj","sort","isLeapYear","year","absFloor","ceil","floor","toInt","argumentForCoercion","coercedNumber","isFinite","makeGetSet","keepTime","set$1","month","date","daysInMonth","stringGet","stringSet","prioritized","prioritizedLen","regexes","match1","match2","match3","match4","match6","match1to2","match3to4","match5to6","match1to3","match1to4","match1to6","matchUnsigned","matchSigned","matchOffset","matchShortOffset","matchTimestamp","matchWord","addRegexToken","regex","strictRegex","isStrict","getParseRegexForToken","unescapeFormat","regexEscape","p1","p2","p3","p4","tokens1","addParseToken","tokenLen","addWeekParseToken","token2","_w","addTimeToArrayFromToken","_a","YEAR","MONTH","DATE","HOUR","MINUTE","SECOND","MILLISECOND","WEEK","WEEKDAY","mod","n","x","modMonth","monthsShort","months","monthsShortRegex","monthsRegex","monthsParse","defaultLocaleMonths","defaultLocaleMonthsShort","MONTHS_IN_FORMAT","defaultMonthsShortRegex","defaultMonthsRegex","localeMonths","_months","isFormat","localeMonthsShort","_monthsShort","handleStrictParse","monthName","ii","llc","toLocaleLowerCase","_monthsParse","_longMonthsParse","_shortMonthsParse","localeMonthsParse","_monthsParseExact","setMonth","dayOfMonth","min","getSetMonth","getDaysInMonth","computeMonthsParse","_monthsShortStrictRegex","_monthsShortRegex","_monthsStrictRegex","_monthsRegex","cmpLenRev","shortPieces","longPieces","mixedPieces","daysInYear","parseTwoDigitYear","getSetYear","getIsLeapYear","createDate","ms","getFullYear","setFullYear","createUTCDate","UTC","getUTCFullYear","setUTCFullYear","firstWeekOffset","dow","doy","fwd","getUTCDay","dayOfYearFromWeeks","week","weekday","resYear","resDayOfYear","dayOfYear","weekOfYear","resWeek","weekOffset","weeksInYear","weekOffsetNext","localeWeek","_week","defaultLocaleWeek","localeFirstDayOfWeek","localeFirstDayOfYear","getSetWeek","add","getSetISOWeek","parseWeekday","weekdaysParse","parseIsoWeekday","shiftWeekdays","ws","weekdaysMin","weekdaysShort","weekdays","weekdaysMinRegex","weekdaysShortRegex","weekdaysRegex","defaultLocaleWeekdays","defaultLocaleWeekdaysShort","defaultLocaleWeekdaysMin","defaultWeekdaysRegex","defaultWeekdaysShortRegex","defaultWeekdaysMinRegex","localeWeekdays","_weekdays","day","localeWeekdaysShort","_weekdaysShort","localeWeekdaysMin","_weekdaysMin","handleStrictParse$1","weekdayName","_weekdaysParse","_shortWeekdaysParse","_minWeekdaysParse","localeWeekdaysParse","_weekdaysParseExact","_fullWeekdaysParse","getSetDayOfWeek","getDay","getSetLocaleDayOfWeek","getSetISODayOfWeek","computeWeekdaysParse","_weekdaysStrictRegex","_weekdaysRegex","_weekdaysShortStrictRegex","_weekdaysShortRegex","_weekdaysMinStrictRegex","_weekdaysMinRegex","minp","shortp","longp","minPieces","hFormat","hours","kFormat","meridiem1","lowercase","minutes","matchMeridiem","_meridiemParse","localeIsPM","seconds","kInput","_isPm","isPM","_meridiem","pos1","pos2","defaultLocaleMeridiemParse","getSetHour","localeMeridiem","isLower","globalLocale","baseConfig","dayOfMonthOrdinalParse","meridiemParse","locales","localeFamilies","commonPrefix","arr1","arr2","minl","normalizeLocale","chooseLocale","names","loadLocale","isLocaleNameSane","oldLocale","_abbr","getSetGlobalLocale","getLocale","defineLocale","abbr","parentLocale","forEach","updateLocale","tmpLocale","listLocales","checkOverflow","_overflowDayOfYear","_overflowWeeks","_overflowWeekday","extendedIsoRegex","basicIsoRegex","tzRegex","isoDates","isoTimes","aspNetJsonRegex","obsOffsets","UT","GMT","EDT","EST","CDT","CST","MDT","MST","PDT","PST","configFromISO","l","allowTime","dateFormat","timeFormat","tzFormat","isoDatesLen","isoTimesLen","configFromStringAndFormat","extractFromRFC2822Strings","yearStr","monthStr","dayStr","hourStr","minuteStr","secondStr","untruncateYear","preprocessRFC2822","checkWeekday","weekdayStr","parsedInput","calculateOffset","obsOffset","militaryOffset","numOffset","hm","configFromRFC2822","parsedArray","setUTCMinutes","getUTCMinutes","configFromString","createFromInputFallback","defaults","currentDateArray","nowValue","_useUTC","getUTCMonth","getUTCDate","getMonth","getDate","configFromArray","currentDate","expectedWeekday","yearToUse","dayOfYearFromWeekInfo","_dayOfYear","_nextDay","weekYear","weekdayOverflow","curWeek","GG","W","E","createLocal","gg","ISO_8601","RFC_2822","tokens","skipped","stringLength","totalParsedInputLength","meridiemFixWrap","erasConvertYear","hour","isPm","meridiemHour","configFromStringAndArray","tempConfig","bestMoment","scoreToBeat","currentScore","validFormatFound","bestFormatIsValid","configfLen","score","configFromObject","dayOrDate","minute","second","millisecond","createFromConfig","prepareConfig","preparse","configFromInput","isUTC","prototypeMin","other","prototypeMax","pickBy","moments","now1","ordering","isDurationValid","unitHasDecimal","orderLen","parseFloat","isValid$1","createInvalid$1","createDuration","Duration","duration","years","quarters","quarter","weeks","isoWeek","days","milliseconds","_milliseconds","_days","_data","_bubble","isDuration","absRound","compareArrays","array1","array2","dontConvert","lengthDiff","diffs","offset1","separator","utcOffset","sign","offsetFromString","chunkOffset","matcher","parts","matches","cloneWithOffset","model","clone","setTime","local","getDateOffset","getTimezoneOffset","getSetOffset","keepLocalTime","keepMinutes","localAdjust","_changeInProgress","addSubtract","getSetZone","setOffsetToUTC","setOffsetToLocal","subtract","setOffsetToParsedOffset","tZone","hasAlignedHourOffset","isDaylightSavingTime","isDaylightSavingTimeShifted","_isDSTShifted","toArray","isLocal","isUtcOffset","isUtc","aspNetRegex","isoRegex","ret","diffRes","parseIso","momentsDifference","inp","positiveMomentsDifference","base","isAfter","isBefore","createAdder","direction","period","tmp","isAdding","invalid","isString","isMomentInput","isNumberOrStringArray","isMomentInputObject","property","objectTest","propertyTest","properties","propertyLen","arrayTest","dataTypeTest","filter","item","isCalendarSpec","getCalendarFormat","myMoment","calendar$1","time","formats","sod","startOf","calendarFormat","localInput","endOf","isBetween","inclusivity","localFrom","localTo","isSame","inputMs","isSameOrAfter","isSameOrBefore","diff1","asFloat","that","zoneDelta","monthDiff","wholeMonthDiff","anchor","toISOString","keepOffset","toDate","inspect","datetime","suffix","zone","format1","inputString","defaultFormatUtc","defaultFormat","postformat","from1","humanize","fromNow","to1","toNow","locale1","newLocaleData","lang","MS_PER_SECOND","MS_PER_MINUTE","MS_PER_HOUR","MS_PER_400_YEARS","mod$1","dividend","divisor","localStartOfDate","utcStartOfDate","startOfDate","isoWeekday","unix","toObject","toJSON","isValid$2","parsingFlags","invalidAt","creationData","localeEras","eras","_eras","since","until","Infinity","localeErasParse","eraName","narrow","localeErasConvertYear","dir","getEraName","getEraNarrow","getEraAbbr","getEraYear","erasNameRegex","computeErasParse","_erasNameRegex","_erasRegex","erasAbbrRegex","_erasAbbrRegex","erasNarrowRegex","_erasNarrowRegex","matchEraAbbr","matchEraName","matchEraNarrow","matchEraYearOrdinal","_eraYearOrdinalRegex","abbrPieces","namePieces","narrowPieces","addWeekYearFormatToken","getter","getSetWeekYear","getSetWeekYearHelper","getSetISOWeekYear","getISOWeeksInYear","getISOWeeksInISOWeekYear","isoWeekYear","getWeeksInYear","weekInfo","getWeeksInWeekYear","weeksTarget","setWeekAll","dayOfYearData","getSetQuarter","erasParse","eraYearOrdinalParse","getSetDayOfMonth","getSetDayOfYear","getSetMinute","token1","getSetMillisecond","getSetSecond","parseMs","getZoneAbbr","getZoneName","proto","createUnix","createInZone","parseZone","preParsePostFormat","Symbol","for","eraNarrow","eraAbbr","eraYear","isoWeeks","weeksInWeekYear","isoWeeksInYear","isoWeeksInISOWeekYear","isDST","zoneAbbr","zoneName","dates","isDSTShifted","proto$1","get$1","field","setter","listMonthsImpl","out","listWeekdaysImpl","localeSorted","shift","listMonths","listMonthsShort","listWeekdays","listWeekdaysShort","listWeekdaysMin","firstDayOfYear","firstDayOfWeek","langData","mathAbs","addSubtract$1","add$1","subtract$1","absCeil","bubble","monthsFromDays","monthsToDays","daysToMonths","as","valueOf$1","makeAs","alias","asMilliseconds","asSeconds","asMinutes","asHours","asDays","asWeeks","asMonths","asQuarters","asYears","clone$1","get$2","makeGetter","milliseconds1","seconds1","minutes1","hours1","days1","months1","years1","weeks1","thresholds1","substituteTimeAgo","relativeTime$1","posNegDuration","thresholds","getSetRelativeTimeRounding","roundingFunction","getSetRelativeTimeThreshold","threshold","limit","argWithSuffix","argThresholds","withSuffix","abs$1","sign1","toISOString$1","totalSign","ymSign","daysSign","hmsSign","toFixed","proto$2","toIsoString","version","relativeTimeRounding","relativeTimeThreshold","HTML5_FMT","DATETIME_LOCAL","DATETIME_LOCAL_SECONDS","DATETIME_LOCAL_MS","TIME","TIME_SECONDS","TIME_MS","trust","$20d57ad7857b7d5d$exports","$8fa9e1679f027da0$exports","$65d5daca13f5010c$var$m","Fragment","parseQueryString","buildQueryString","parsePathname","buildPathname","PromisePolyfill","censor","$65d5daca13f5010c$exports","$dad545c909cfec2d$var$ScheduleCard","expanded","$parcel$interopDefault","area","width","height","fill","viewBox","times","fontSize","areas","$45fvw","updateSchedule","placeholder","oninput","log","onchange"],"version":3,"file":"index.35c88ab3.js.map"}